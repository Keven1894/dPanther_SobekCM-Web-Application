function setCurrentTab(n){page=n}function rbEntryTypeChanged(n){n==0?(document.getElementById("tblrow_Barcode").style.display="table-row",document.getElementById("tblrow_Manual1").style.display="none",document.getElementById("tblrow_Manual2").style.display="none"):(document.getElementById("tblrow_Barcode").style.display="none",document.getElementById("tblrow_Manual1").style.display="table-row",document.getElementById("tblrow_Manual2").style.display="table-row")}function rbEntryType2Changed(n){n==0?(document.getElementById("tblrow2_Barcode").style.display="table-row",document.getElementById("tblrow2_Manual1").style.display="none",document.getElementById("tblrow2_Manual2").style.display="none"):(document.getElementById("tblrow2_Barcode").style.display="none",document.getElementById("tblrow2_Manual1").style.display="table-row",document.getElementById("tblrow2_Manual2").style.display="table-row")}function BarcodeStringTextbox_Changed(n){return document.getElementById("Track_Item_behaviors_request").value="decode_barcode",document.getElementById("Track_Item_hidden_value").value=n,!1}function BarcodeStringTextbox2_Changed(n){return document.getElementById("Track_Item_behaviors_request").value="decode_barcode",document.getElementById("Track_Item_hidden_value").value=n,!1}function Add_new_entry(){return document.getElementById("Track_Item_behaviors_request").value="read_manual_entry",document.getElementById("hidden_BibID").value=document.getElementById("txtBibID").value,document.getElementById("hidden_VID").value=document.getElementById("txtVID").value,document.getElementById("hidden_event_num").value=document.getElementById("ddlManualEvent").value,document.itemNavForm.submit(),!1}function Add_new_entry2(){return document.getElementById("Track_Item_behaviors_request").value="read_manual_entry",document.getElementById("hidden_BibID").value=document.getElementById("txtBibID2").value,document.getElementById("hidden_VID").value=document.getElementById("txtVID2").value,document.getElementById("hidden_event_num").value=document.getElementById("ddlManualEvent2").value,document.itemNavForm.submit(),!1}function Add_new_entry_barcode(){return document.getElementById("Track_Item_behaviors_request").value="decode_barcode",document.getElementById("Track_Item_hidden_value").value=document.getElementById("txtScannedString").value,document.itemNavForm.submit(),!1}function Add_new_entry_barcode2(){return document.getElementById("Track_Item_behaviors_request").value="decode_barcode",document.getElementById("Track_Item_hidden_value").value=document.getElementById("txtScannedString2").value,document.itemNavForm.submit(),!1}function DisableRow_SetCSSClass(n){document.getElementById(n).style.display="none"}function DisableRow_RemoveCSSClass(n){document.getElementById(n).style.display="table-row"}function SetDropdown_Selected(n){page=="1"?$("#ddlManualEvent").val(n):$("#ddlManualEvent2").val(n)}function entry_span_mouseover(n){return $("#"+n).removeClass("sbkTi_TrackingEntrySpanMouseOut"),$("#"+n).addClass("sbkTi_TrackingEntrySpanMouseOver"),!1}function entry_span_mouseout(n){return $("#"+n).removeClass("sbkTi_TrackingEntrySpanMouseOver"),$("#"+n).addClass("sbkTi_TrackingEntrySpanMouseOut"),!1}function ddlEquipment_Changed(n){var t=document.getElementById(n);document.getElementById("hidden_equipment").value=t.options[t.selectedIndex].value}function ddlUser_Changed(n){var t=document.getElementById(n);document.getElementById("hidden_selected_username").value=t.options[t.selectedIndex].value}function save_item_tracking(n){var t=document.getElementById("tracking_new_page");return t.value=n,!1}function isValidDate(n){var f=n.match(/^(\d{1,2})(\/|-)(\d{1,2})\2(\d{4})$/),e,i;if(f==null)return!1;var t=f[1],r=f[3],u=f[4];return t<1||t>12?!1:r<1||r>31?!1:(t==4||t==6||t==9||t==11)&&r==31?!1:t==2&&(e=u%4==0&&(u%100!=0||u%400==0),r>29||r==29&&!e)?!1:(i=new Date,u>i.getFullYear()||u==i.getFullYear()&&t>i.getMonth()+1||u==i.getFullYear()&&t==i.getMonth()&&r>i.getDate())?!1:!0}function isValidTime(n){var t=n.match(/^([1-9]|[0-1]\d):([0-5]\d)\s*(AM|PM)?$/i);return t==null?!1:!0}function isValidDateTime(n,t,i){var h=!0,a=/^([1-9]|[0-1]\d):([0-5]\d)\s*(AM|PM)?$/i,u=t.match(a),r=i.match(a),e=u[3].toString().toLowerCase().trim(),v="",y,c,l,p,f,w,o;if(v=e=="am"&&parseInt(u[1])==12?"00":e=="pm"&&parseInt(u[1])<12?parseInt(u[1])+12:u[1],y=u[2],c=v+":"+y,r!=null&&(e=r[3].toString().toLowerCase().trim(),l="",l=e=="am"&&parseInt(r[1])==12?"00":e=="pm"&&parseInt(r[1])<12?parseInt(r[1])+12:r[1],p=r[2],f=l+":"+p),w=/^(\d{1,2})(\/|-)(\d{1,2})\2(\d{4})$/,o=n.match(w),o==null)return!1;var k=o[1],d=o[3],g=o[4],s=new Date,b=s.getHours()+":"+s.getMinutes();return(g==s.getFullYear()&&k==s.getMonth()+1&&d==s.getDate()&&(h=!1),h&&(f==null||i.length==0))?(alert("You must enter an end time!"),!1):f!=null&&f<c?(alert("End time cannot be before Start time!"),!1):!h&&(c>b||f!=null&&f>b)?(alert("Start/End time cannot be in the future!"),!1):!0}function save_workflow(n,t){var r,u,i,f;if(page==1){if(r=document.getElementById("txtStartDate"+n).value,r==null||!isValidDate(r))return alert("You must enter a valid date!"),!1;if(u=document.getElementById("txtStartTime"+n).value,u==null||!isValidTime(u))return alert("You must enter a valid start time!"),!1;if(i=document.getElementById("txtEndTime"+n).value,i!=null&&i.length>0&&!isValidTime(i))return alert("Invalid End Time entered!"),!1;if(!isValidDateTime(r,u,i))return!1}else if(page==2&&(f=document.getElementById("txtStartDate2").value,f==null||!isValidDate(f)))return alert("You must enter a valid date!"),!1;return document.getElementById("Track_Item_behaviors_request").value="save",document.getElementById("Track_Item_hidden_value").value=n,document.getElementById("hidden_itemID").value=t,document.itemNavForm.submit(),!0}function delete_workflow(n){return document.getElementById("Track_Item_behaviors_request").value="delete",document.getElementById("Track_Item_hidden_value").value=n,document.itemNavForm.submit(),!1}function setDatePicker(n){var t=document.getElementById(n);$("#"+n).datepicker()}function setTimePicker(n){var t=document.getElementById(n);$("#"+n).timeEntry()}var page=1;(function(n){n.fn.acidTabs=function(t){function i(){var t=this.parentNode.getAttribute("data-current"),n;document.getElementById("tabHeader_"+t).removeAttribute("class");document.getElementById("tabpage_"+t).style.display="none";n=this.id.split("_")[1];this.setAttribute("class","tabActiveHeader");document.getElementById("tabpage_"+n).style.display="block";this.parentNode.setAttribute("data-current",n);save_item_tracking(n)}return t=n.extend({style:"fulltabs"},t),this.each(function(){var o=t,r,e,u,f,n;for(container=this,container.setAttribute("class",o.style),r=document.getElementById("tabHeader_"+page),e=page,r.parentNode.setAttribute("data-current",e),r.setAttribute("class","tabActiveHeader"),u=container.querySelectorAll(".tabpage"),n=0;n<u.length;n++)n!=page-1&&(u[n].style.display="none");for(f=container.querySelectorAll("li"),n=0;n<f.length;n++)f[n].onclick=i})}})(jQuery)