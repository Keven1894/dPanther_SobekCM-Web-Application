function initMapEditor(){MAPEDITOR=function(){return{TRACER:function(){return{DEFINES:function(){return{debugVersionNumber:"",debugs:0,debugStringBase:'<strong>Debug Panel:<\/strong> &nbsp;&nbsp; <a onclick="MAPEDITOR.TRACER.clearTracer()">(clear)<\/a> &nbsp;&nbsp; <a onclick="MAPEDITOR.TRACER.switchTracer()">(on/off)<\/a> &nbsp;&nbsp; <a onclick="MAPEDITOR.TRACER.toggleTracer()">(close)<\/a><br><br>',debugString:null}}(),addTracer:function(n){var i=new Date,r=i.getHours()+":"+i.getMinutes()+":"+i.getSeconds()+":"+i.getMilliseconds(),t;console.log("["+r+"] "+n);MAPEDITOR.GLOBAL.DEFINES.debuggerOn&&(t="["+r+"] "+n+"<br><hr>",t+=MAPEDITOR.TRACER.DEFINES.debugString,document.getElementById("debugs").innerHTML=MAPEDITOR.TRACER.DEFINES.debugStringBase+t,t.length<1e4?MAPEDITOR.TRACER.DEFINES.debugString=t:(console.log("IN APP DEBUGGER CLEARED"),MAPEDITOR.TRACER.clearTracer()))},clearTracer:function(){MAPEDITOR.TRACER.DEFINES.debugString="";document.getElementById("debugs").innerHTML=MAPEDITOR.TRACER.DEFINES.debugStringBase},toggleTracer:function(){MAPEDITOR.GLOBAL.DEFINES.debuggerOn==!0&&(MAPEDITOR.TRACER.DEFINES.debugs++,MAPEDITOR.TRACER.DEFINES.debugs%2==0?(document.getElementById("debugs").style.display="none",MAPEDITOR.GLOBAL.DEFINES.debugMode=!1,MAPEDITOR.UTILITIES.displayMessage("Debug Mode Off")):(document.getElementById("debugs").style.display="block",MAPEDITOR.GLOBAL.DEFINES.debugMode=!0,MAPEDITOR.UTILITIES.displayMessage("Debug Mode On")))},switchTracer:function(){MAPEDITOR.GLOBAL.DEFINES.debuggerOn=MAPEDITOR.GLOBAL.DEFINES.debuggerOn==!0?!1:!0}}}(),GLOBAL:function(){return{DEFINES:function(){return{gmapPageDivId:"googleMap",cursorLatLongTool:null,toolbarBufferZone1:null,toolbarBufferZone2:null,copyrightNode:null,drawingManager:new google.maps.drawing.DrawingManager,gmapOptions:null,infoWindow:[],label:[],geocoder:null,kmlLayer:null,helpPageURL:"http://cms.uflib.ufl.edu/webservices/StAugustineProject/MapEditorHelper.aspx",reportProblemURL:"http://ufdc.ufl.edu/contact",toServerSuccessMessage:"Completed",listItemHighlightColor:"#FFFFC2",baseURL:null,collectionLoadType:null,collectionParams:[],defaultOpacity:.5,listOfTextAreaIds:[],debugMode:null,hasCustomMapType:null,baseImageDirURL:null,mapCenter:null,defaultZoomLevel:null,maxZoomLevel:null,minZoomLevel_Terrain:null,minZoomLevel_Satellite:null,minZoomLevel_Roadmap:null,minZoomLevel_BlockLot:null,strictBounds:null,incomingACL:"item",typingInTextArea:!1,debuggerOn:!1,toServerSuccess:!1,tempYo:!1,buttonActive_searchResultToggle:!1,buttonActive_itemPlace:!1,buttonActive_overlayToggle:!1,buttonActive_poiToggle:!1,userMayLoseData:!1,isConvertedOverlay:!1,RIBMode:!1,poiToggleState:"displayed",mapControlsDisplayed:null,defaultDisplayDrawingMangerTool:null,toolboxDisplayed:null,toolbarDisplayed:null,kmlDisplayed:null,isCustomOverlay:null,pendingOverlaySave:!1,cCoordsFrozen:"no",currentlyEditing:"no",firstSaveItem:null,firstSaveOverlay:null,firstSavePOI:null,mapDrawingManagerDisplayed:null,overlaysCurrentlyDisplayed:null,mapInBounds:null,mapLayerActive:null,prevMapLayerActive:null,actionActive:null,prevActionActive:null,pageMode:null,overlaysOnMap:[],searchResult:null,circleCenter:null,markerCenter:null,placerType:null,poiType:[],poiKML:[],poiObj:[],poiCoord:[],poiDesc:[],globalPolyline:null,rectangle:null,getCoord:null,itemMarker:null,savingMarkerCenter:null,savingOverlayIndex:[],savingOverlayLabel:[],savingOverlaySourceURL:[],savingOverlayBounds:[],savingOverlayRotation:[],savingOverlayPageId:[],ghostOverlayRectangle:[],stickyMessageCount:0,pageLoadTime:null,messageCount:0,poiCount:0,preservedRotation:null,knobRotationValue:null,preservedOpacity:null,csoi:0,oomCount:0,searchCount:0,degree:0,firstMarker:0,overlayCount:0,poi_i:-1,firstDraw:0,mainCount:0,overlayType:null,convertedOverlayIndex:0,workingOverlayIndex:null,currentTopZIndex:5,incomingPointSourceURLConverted:null,incomingPointLabelConverted:null,incomingLineFeatureType:[],incomingLineLabel:[],incomingLinePath:[],incomingCircleCenter:[],incomingCircleRadius:[],incomingCircleFeatureType:[],incomingCircleLabel:[],incomingPointFeatureType:[],incomingPointCenter:[],incomingPointLabel:[],incomingPointSourceURL:[],incomingPolygonPageId:[],incomingPolygonFeatureType:[],incomingPolygonPolygonType:[],incomingPolygonBounds:[],incomingPolygonPath:[],incomingPolygonCenter:[],incomingPolygonLabel:[],incomingPolygonSourceURL:[],incomingPolygonRotation:[],incomingPolygonRadius:[],ghosting:{strokeOpacity:0,fillOpacity:0,editable:!1,draggable:!1,clickable:!1,zindex:5},editable:{editable:!0,draggable:!0,clickable:!0,strokeOpacity:.2,strokeWeight:1,fillOpacity:0,zindex:5},markerOptionsDefault:{draggable:!0,zIndex:5},rectangleOptionsDefault:{editable:!0,draggable:!0,zIndex:5,strokeOpacity:1,strokeWeight:1,fillOpacity:.5},polygonOptionsDefault:{editable:!0,draggable:!0,zIndex:5,strokeOpacity:1,strokeWeight:1,fillOpacity:.5},circleOptionsDefault:{editable:!0,draggable:!0,zIndex:5,strokeOpacity:1,strokeWeight:1,fillOpacity:.5},polylineOptionsDefault:{editable:!0,draggable:!0,zIndex:5,strokeOpacity:1,strokeWeight:1},rectangleOptionsOverlay:{editable:!0,draggable:!0,zIndex:5,strokeOpacity:.2,strokeWeight:1,fillOpacity:0},markerOptionsItem:{draggable:!0,zIndex:5},markerOptionsPOI:{draggable:!0,zIndex:5},circleOptionsPOI:{editable:!0,draggable:!0,zIndex:5,strokeOpacity:1,strokeWeight:1,fillOpacity:.5},rectangleOptionsPOI:{editable:!0,draggable:!0,zIndex:5,strokeOpacity:1,strokeWeight:1,fillOpacity:.5},polygonOptionsPOI:{editable:!0,draggable:!0,zIndex:5,strokeOpacity:1,strokeWeight:1,fillOpacity:.5},polylineOptionsPOI:{editable:!0,draggable:!0,zIndex:5,strokeOpacity:1,strokeWeight:1}}}(),displayIncomingPoints:function(){var n,t,r,i,u;try{if(MAPEDITOR.TRACER.addTracer("[INFO]: displayIncomingPoints started..."),MAPEDITOR.GLOBAL.DEFINES.incomingPointCenter)for(n=0;n<MAPEDITOR.GLOBAL.DEFINES.incomingPointCenter.length;n++)switch(MAPEDITOR.GLOBAL.DEFINES.incomingPointFeatureType[n]){case"":MAPEDITOR.GLOBAL.DEFINES.placerType="item";MAPEDITOR.GLOBAL.DEFINES.firstMarker++;MAPEDITOR.GLOBAL.DEFINES.itemMarker=new google.maps.Marker({position:MAPEDITOR.GLOBAL.DEFINES.incomingPointCenter[n],map:map,title:MAPEDITOR.GLOBAL.DEFINES.incomingPointLabel[n]});MAPEDITOR.GLOBAL.DEFINES.itemMarker.setOptions(MAPEDITOR.GLOBAL.DEFINES.markerOptionsItem);document.getElementById("content_toolbox_posItem").value=MAPEDITOR.GLOBAL.DEFINES.itemMarker.getPosition();MAPEDITOR.UTILITIES.codeLatLng(MAPEDITOR.GLOBAL.DEFINES.itemMarker.getPosition());google.maps.event.addListener(MAPEDITOR.GLOBAL.DEFINES.itemMarker,"dragend",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("item");MAPEDITOR.GLOBAL.DEFINES.firstSaveItem=!0;MAPEDITOR.GLOBAL.DEFINES.savingMarkerCenter=MAPEDITOR.GLOBAL.DEFINES.itemMarker.getPosition();document.getElementById("content_toolbox_posItem").value=MAPEDITOR.GLOBAL.DEFINES.itemMarker.getPosition();MAPEDITOR.UTILITIES.codeLatLng(MAPEDITOR.GLOBAL.DEFINES.itemMarker.getPosition())});google.maps.event.addListener(MAPEDITOR.GLOBAL.DEFINES.itemMarker,"rightclick",function(){MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null)});MAPEDITOR.GLOBAL.DEFINES.mainCount++;MAPEDITOR.GLOBAL.DEFINES.incomingACL="item";break;case"main":MAPEDITOR.GLOBAL.DEFINES.placerType="item";MAPEDITOR.GLOBAL.DEFINES.firstMarker++;MAPEDITOR.GLOBAL.DEFINES.itemMarker=new google.maps.Marker({position:MAPEDITOR.GLOBAL.DEFINES.incomingPointCenter[n],map:map,title:MAPEDITOR.GLOBAL.DEFINES.incomingPointLabel[n]});MAPEDITOR.GLOBAL.DEFINES.itemMarker.setOptions(MAPEDITOR.GLOBAL.DEFINES.markerOptionsItem);document.getElementById("content_toolbox_posItem").value=MAPEDITOR.GLOBAL.DEFINES.itemMarker.getPosition();MAPEDITOR.UTILITIES.codeLatLng(MAPEDITOR.GLOBAL.DEFINES.itemMarker.getPosition());google.maps.event.addListener(MAPEDITOR.GLOBAL.DEFINES.itemMarker,"dragend",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("item");MAPEDITOR.GLOBAL.DEFINES.firstSaveItem=!0;MAPEDITOR.GLOBAL.DEFINES.savingMarkerCenter=MAPEDITOR.GLOBAL.DEFINES.itemMarker.getPosition();document.getElementById("content_toolbox_posItem").value=MAPEDITOR.GLOBAL.DEFINES.itemMarker.getPosition();MAPEDITOR.UTILITIES.codeLatLng(MAPEDITOR.GLOBAL.DEFINES.itemMarker.getPosition())});google.maps.event.addListener(MAPEDITOR.GLOBAL.DEFINES.itemMarker,"rightclick",function(){MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null)});MAPEDITOR.GLOBAL.DEFINES.mainCount++;MAPEDITOR.GLOBAL.DEFINES.incomingACL="item";break;case"poi":MAPEDITOR.TRACER.addTracer("[INFO]: incoming poi: "+n+" "+MAPEDITOR.GLOBAL.DEFINES.incomingPointLabel[n]);t=new google.maps.Marker({position:MAPEDITOR.GLOBAL.DEFINES.incomingPointCenter[n],map:map,title:MAPEDITOR.GLOBAL.DEFINES.incomingPointLabel[n]});t.setOptions(MAPEDITOR.GLOBAL.DEFINES.markerOptionsPOI);MAPEDITOR.TRACER.addTracer("[INFO]: incoming center: "+t.getPosition());MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;MAPEDITOR.GLOBAL.DEFINES.poi_i++;MAPEDITOR.GLOBAL.DEFINES.label[MAPEDITOR.GLOBAL.DEFINES.poi_i]=new MarkerWithLabel({position:t.getPosition(),map:map,zIndex:2,labelContent:MAPEDITOR.GLOBAL.DEFINES.incomingPointLabel[n],labelAnchor:new google.maps.Point(15,0),labelClass:"labels",labelStyle:{opacity:.75},icon:{}});MAPEDITOR.GLOBAL.DEFINES.poiObj[MAPEDITOR.GLOBAL.DEFINES.poi_i]=t;MAPEDITOR.GLOBAL.DEFINES.poiType[MAPEDITOR.GLOBAL.DEFINES.poi_i]="marker";r=MAPEDITOR.GLOBAL.DEFINES.poi_i+1;i=MAPEDITOR.GLOBAL.DEFINES.incomingPointLabel[n];document.getElementById("poiList").innerHTML+=MAPEDITOR.UTILITIES.writeHTML("poiListItemIncoming",MAPEDITOR.GLOBAL.DEFINES.poi_i,r,i);MAPEDITOR.GLOBAL.DEFINES.poiDesc[MAPEDITOR.GLOBAL.DEFINES.poi_i]=i;u=MAPEDITOR.UTILITIES.writeHTML("poiDescIncoming",MAPEDITOR.GLOBAL.DEFINES.poi_i,i,"");MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i]=new google.maps.InfoWindow({content:u,position:t.getPosition()});MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].setMap(map);MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].open(map,MAPEDITOR.GLOBAL.DEFINES.poiObj[MAPEDITOR.GLOBAL.DEFINES.poi_i]);MAPEDITOR.GLOBAL.DEFINES.poiCount++;google.maps.event.addListener(t,"dragstart",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(null))});google.maps.event.addListener(t,"dragend",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setOptions({position:this.getPosition(),pixelOffset:new google.maps.Size(0,-40)}),MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].open(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setPosition(this.getPosition()),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(map))});google.maps.event.addListener(t,"click",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setOptions({position:this.getPosition(),pixelOffset:new google.maps.Size(0,-40)}),MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].open(map))});google.maps.event.addListener(t,"rightclick",function(){MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null)})}else MAPEDITOR.GLOBAL.DEFINES.firstMarker++,MAPEDITOR.GLOBAL.DEFINES.itemMarker=new google.maps.Marker({position:map.getCenter(),map:null,draggable:!1,title:MAPEDITOR.GLOBAL.DEFINES.incomingPointLabel[0]});MAPEDITOR.GLOBAL.DEFINES.poiCount>0&&setTimeout(function(){MAPEDITOR.GLOBAL.DEFINES.RIBMode=!0;MAPEDITOR.ACTIONS.toggleVis("pois");MAPEDITOR.ACTIONS.toggleVis("pois");MAPEDITOR.GLOBAL.DEFINES.RIBMode=!1;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiCount;n++)MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null)},1e3);MAPEDITOR.TRACER.addTracer("[INFO]: displayIncomingPoints completed...")}catch(f){MAPEDITOR.TRACER.addTracer("[ERROR]: "+f+" at line "+f.lineNumber)}},displayIncomingCircles:function(){var t,n,r,i,u;try{if(MAPEDITOR.TRACER.addTracer("[INFO]: displayIncomingCircles started..."),MAPEDITOR.GLOBAL.DEFINES.incomingCircleCenter.length>0)for(t=0;t<MAPEDITOR.GLOBAL.DEFINES.incomingCircleCenter.length;t++)switch(MAPEDITOR.GLOBAL.DEFINES.incomingCircleFeatureType[t]){case"poi":MAPEDITOR.TRACER.addTracer("[INFO]: incoming poi: "+t+" "+MAPEDITOR.GLOBAL.DEFINES.incomingCircleLabel[t]);MAPEDITOR.GLOBAL.DEFINES.placerType="poi";n=new google.maps.Circle({center:MAPEDITOR.GLOBAL.DEFINES.incomingCircleCenter[t],map:map,title:MAPEDITOR.GLOBAL.DEFINES.incomingCircleLabel[t],radius:MAPEDITOR.GLOBAL.DEFINES.incomingCircleRadius[t]});n.setOptions(MAPEDITOR.GLOBAL.DEFINES.circleOptionsPOI);MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;MAPEDITOR.GLOBAL.DEFINES.poi_i++;MAPEDITOR.GLOBAL.DEFINES.label[MAPEDITOR.GLOBAL.DEFINES.poi_i]=new MarkerWithLabel({position:n.getCenter(),zIndex:2,map:map,labelContent:MAPEDITOR.GLOBAL.DEFINES.incomingCircleLabel[t],labelAnchor:new google.maps.Point(15,0),labelClass:"labels",labelStyle:{opacity:.75},icon:{}});r=MAPEDITOR.GLOBAL.DEFINES.poi_i+1;MAPEDITOR.GLOBAL.DEFINES.poiObj[MAPEDITOR.GLOBAL.DEFINES.poi_i]=n;MAPEDITOR.GLOBAL.DEFINES.poiType[MAPEDITOR.GLOBAL.DEFINES.poi_i]="circle";i=MAPEDITOR.GLOBAL.DEFINES.incomingCircleLabel[t];document.getElementById("poiList").innerHTML+=MAPEDITOR.UTILITIES.writeHTML("poiListItemIncoming",MAPEDITOR.GLOBAL.DEFINES.poi_i,r,i);MAPEDITOR.GLOBAL.DEFINES.poiDesc[MAPEDITOR.GLOBAL.DEFINES.poi_i]=i;u=MAPEDITOR.UTILITIES.writeHTML("poiDescIncoming",MAPEDITOR.GLOBAL.DEFINES.poi_i,i,"");MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i]=new google.maps.InfoWindow({content:u});MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].setPosition(n.getCenter());MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].open(map);MAPEDITOR.GLOBAL.DEFINES.poiCount++;google.maps.event.addListener(n,"dragstart",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(null))});google.maps.event.addListener(n,"drag",function(){MAPEDITOR.GLOBAL.DEFINES.circleCenter=this.getCenter();var t=this.getCenter().toString(),n=t.replace("(","").replace(")","").split(",",1),i=t.replace(n,"").replace("(","").replace(")","").replace(",","");latH=n.indexOf("-")!=0?"N":"S";longH=i.indexOf("-")!=0?"W":"E";document.getElementById("cLat").innerHTML=n+" ("+latH+")";document.getElementById("cLong").innerHTML=i+" ("+longH+")"});google.maps.event.addListener(n,"dragend",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setPosition(this.getCenter()),MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].open(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setPosition(this.getCenter()),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(map))});google.maps.event.addListener(n,"click",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setPosition(this.getCenter()),MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].open(map))});google.maps.event.addListener(n,"center_changed",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var t=0;t<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;t++)MAPEDITOR.GLOBAL.DEFINES.poiObj[t]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].setPosition(n.getCenter()),MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].open(null),MAPEDITOR.GLOBAL.DEFINES.label[t].setPosition(n.getCenter()),MAPEDITOR.GLOBAL.DEFINES.label[t].setMap(map))});google.maps.event.addListener(n,"radius_changed",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi")});google.maps.event.addListener(n,"rightclick",function(){MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null)})}MAPEDITOR.GLOBAL.DEFINES.poiCount>0&&setTimeout(function(){MAPEDITOR.GLOBAL.DEFINES.RIBMode=!0;MAPEDITOR.ACTIONS.toggleVis("pois");MAPEDITOR.ACTIONS.toggleVis("pois");MAPEDITOR.GLOBAL.DEFINES.RIBMode=!1;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiCount;n++)MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null)},1e3);MAPEDITOR.TRACER.addTracer("[INFO]: displayIncomingCircles completed...")}catch(f){MAPEDITOR.TRACER.addTracer("[ERROR]: "+f+" at line "+f.lineNumber)}},displayIncomingLines:function(){var t,n,e,u,o,i,r,s,f;try{if(MAPEDITOR.TRACER.addTracer("[INFO]: DisplayIncomingLines started..."),MAPEDITOR.GLOBAL.DEFINES.incomingLinePath.length>0)for(t=0;t<MAPEDITOR.GLOBAL.DEFINES.incomingLinePath.length;t++)switch(MAPEDITOR.GLOBAL.DEFINES.incomingLineFeatureType[t]){case"poi":MAPEDITOR.TRACER.addTracer("[INFO]: incoming poi: "+t+" "+MAPEDITOR.GLOBAL.DEFINES.incomingLineLabel[t]);n=new google.maps.Polyline({path:MAPEDITOR.GLOBAL.DEFINES.incomingLinePath[t],map:map,title:MAPEDITOR.GLOBAL.DEFINES.incomingLineLabel[t]});n.setOptions(MAPEDITOR.GLOBAL.DEFINES.polylineOptionsPOI);MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;MAPEDITOR.GLOBAL.DEFINES.poi_i++;e=MAPEDITOR.GLOBAL.DEFINES.poi_i+1;MAPEDITOR.GLOBAL.DEFINES.poiObj[MAPEDITOR.GLOBAL.DEFINES.poi_i]=n;MAPEDITOR.GLOBAL.DEFINES.poiType[MAPEDITOR.GLOBAL.DEFINES.poi_i]="polyline";u=MAPEDITOR.GLOBAL.DEFINES.incomingLineLabel[t];document.getElementById("poiList").innerHTML+=MAPEDITOR.UTILITIES.writeHTML("poiListItemIncoming",MAPEDITOR.GLOBAL.DEFINES.poi_i,e,u);MAPEDITOR.GLOBAL.DEFINES.poiDesc[MAPEDITOR.GLOBAL.DEFINES.poi_i]=u;o=MAPEDITOR.UTILITIES.writeHTML("poiDescIncoming",MAPEDITOR.GLOBAL.DEFINES.poi_i,u,"");MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i]=new google.maps.InfoWindow({content:o});i=[];r=0;n.getPath().forEach(function(n){i[r]=n;MAPEDITOR.TRACER.addTracer("[INFO]: polylinePoints["+r+"] = "+n);r++});MAPEDITOR.TRACER.addTracer("[INFO]: polylinePointCount: "+r);MAPEDITOR.TRACER.addTracer("[INFO]: polylinePoints.length: "+i.length);MAPEDITOR.TRACER.addTracer("[INFO]: Math.round((polylinePoints.length / 2)): "+Math.round(i.length/2));s=i[Math.round(i.length/2)];MAPEDITOR.TRACER.addTracer("[INFO]: polylineCenterPoint: "+s);f=i[0];MAPEDITOR.TRACER.addTracer("[INFO]: polylineStartPoint: "+f);MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].setPosition(f);MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].open(map);MAPEDITOR.GLOBAL.DEFINES.poiCount==0&&setTimeout(function(){MAPEDITOR.GLOBAL.DEFINES.infoWindow[0].setMap(null);MAPEDITOR.GLOBAL.DEFINES.infoWindow[0].setMap(map)},800);MAPEDITOR.GLOBAL.DEFINES.poiCount++;MAPEDITOR.GLOBAL.DEFINES.label[MAPEDITOR.GLOBAL.DEFINES.poi_i]=new MarkerWithLabel({position:f,zIndex:2,map:map,labelContent:MAPEDITOR.GLOBAL.DEFINES.incomingLineLabel[t],labelAnchor:new google.maps.Point(15,0),labelClass:"labels",labelStyle:{opacity:.75},icon:{}});google.maps.event.addListener(n,"mouseout",function(){var n,t,i,u,r;for(MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0,MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0,n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(t=[],i=0,MAPEDITOR.TRACER.addTracer("[INFO]: here1"),this.getPath().forEach(function(n){t[i]=n;i++}),MAPEDITOR.TRACER.addTracer("[INFO]: here2"),u=t[t.length/2],r=t[0],MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setPosition(r),MAPEDITOR.GLOBAL.DEFINES.label[n].setPosition(r),MAPEDITOR.TRACER.addTracer("[INFO]: here3"))});google.maps.event.addListener(n,"dragstart",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(null))});google.maps.event.addListener(n,"drag",function(){var t=new google.maps.LatLngBounds;this.getPath().forEach(function(n){t.extend(n)});var u=t.getCenter(),i=u.toString(),n=i.replace("(","").replace(")","").split(",",1),r=i.replace(n,"").replace("(","").replace(")","").replace(",","");latH=n.indexOf("-")!=0?"N":"S";longH=r.indexOf("-")!=0?"W":"E";document.getElementById("cLat").innerHTML=n+" ("+latH+")";document.getElementById("cLong").innerHTML=r+" ("+longH+")"});google.maps.event.addListener(n,"dragend",function(){var n,t,i,u,r;for(MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0,MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0,n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(t=[],i=0,this.getPath().forEach(function(n){t[i]=n;i++}),u=t[t.length/2],r=t[0],MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setPosition(r),MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].open(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setPosition(r),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(map))});google.maps.event.addListener(n,"click",function(){var n,t,i,u,r;for(MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0,MAPEDITOR.ACTIONS.openToolboxTab("poi"),MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0,n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(t=[],i=0,this.getPath().forEach(function(n){t[i]=n;i++}),u=t[t.length/2],r=t[0],MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setPosition(r),MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].open(map))});google.maps.event.addListener(n.getPath(),"set_at",function(){var t,i,r,f,u;for(MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0,MAPEDITOR.ACTIONS.openToolboxTab("poi"),MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0,t=0;t<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;t++)MAPEDITOR.TRACER.addTracer("[INFO]: inside loop1"),MAPEDITOR.GLOBAL.DEFINES.poiObj[t]==this&&(i=[],r=0,MAPEDITOR.TRACER.addTracer("[INFO]: here1"),n.getPath().forEach(function(n){i[r]=n;r++}),MAPEDITOR.TRACER.addTracer("[INFO]: here2"),f=i[i.length/2],u=i[0],MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].setPosition(u),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].open(null),MAPEDITOR.GLOBAL.DEFINES.label[t].setPosition(u),MAPEDITOR.GLOBAL.DEFINES.label[t].setMap(map),MAPEDITOR.TRACER.addTracer("[INFO]: here3"))});google.maps.event.addListener(n,"rightclick",function(){MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null)})}MAPEDITOR.GLOBAL.DEFINES.poiCount>0&&setTimeout(function(){MAPEDITOR.GLOBAL.DEFINES.RIBMode=!0;MAPEDITOR.ACTIONS.toggleVis("pois");MAPEDITOR.ACTIONS.toggleVis("pois");MAPEDITOR.GLOBAL.DEFINES.RIBMode=!1;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiCount;n++)MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null)},1e3);MAPEDITOR.TRACER.addTracer("[INFO]: DisplayIncomingLines completed...")}catch(h){MAPEDITOR.TRACER.addTracer("[ERROR]: "+h+" at line "+h.lineNumber)}},displayIncomingPolygons:function(){var n,e,u,f,i,t,o,r,s;try{for(MAPEDITOR.TRACER.addTracer("[INFO]: displayIncomingPolygons started..."),MAPEDITOR.TRACER.addTracer("[INFO]: length: "+MAPEDITOR.GLOBAL.DEFINES.incomingPolygonFeatureType.length),n=0;n<MAPEDITOR.GLOBAL.DEFINES.incomingPolygonFeatureType.length;n++){MAPEDITOR.TRACER.addTracer("[INFO]: ft: "+MAPEDITOR.GLOBAL.DEFINES.incomingPolygonFeatureType[n]);MAPEDITOR.GLOBAL.DEFINES.incomingPolygonFeatureType[n]=="TEMP_main"&&(MAPEDITOR.GLOBAL.DEFINES.incomingPolygonFeatureType[n]="hidden",MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPolygonType[n]="hidden",MAPEDITOR.TRACER.addTracer("[INFO]: converting TEMP_ for "+n));switch(MAPEDITOR.GLOBAL.DEFINES.incomingPolygonFeatureType[n]){case"hidden":MAPEDITOR.TRACER.addTracer("[INFO]: doing nothing for "+n);break;case"":MAPEDITOR.TRACER.addTracer("[INFO]: doing case2 for "+n);MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex=MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[n];MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[n]]=new MAPEDITOR.UTILITIES.CustomOverlay(MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[n],MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPath[n],MAPEDITOR.GLOBAL.DEFINES.incomingPolygonSourceURL[n],map,MAPEDITOR.GLOBAL.DEFINES.incomingPolygonRotation[n]);MAPEDITOR.GLOBAL.DEFINES.currentlyEditing="no";MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[n]].setMap(map);MAPEDITOR.UTILITIES.setGhostOverlay(MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[n],MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPath[n]);MAPEDITOR.TRACER.addTracer("[INFO]: I created ghost: "+MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[n]);MAPEDITOR.GLOBAL.DEFINES.mainCount++;MAPEDITOR.GLOBAL.DEFINES.incomingACL="overlay";MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null);MAPEDITOR.GLOBAL.DEFINES.overlaysCurrentlyDisplayed=!0;break;case"main":MAPEDITOR.TRACER.addTracer("[INFO]: doing case3 for "+n);MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex=MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[n];MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[n]]=new MAPEDITOR.UTILITIES.CustomOverlay(MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[n],MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPath[n],MAPEDITOR.GLOBAL.DEFINES.incomingPolygonSourceURL[n],map,MAPEDITOR.GLOBAL.DEFINES.incomingPolygonRotation[n]);MAPEDITOR.GLOBAL.DEFINES.currentlyEditing="no";MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[n]].setMap(map);MAPEDITOR.UTILITIES.setGhostOverlay(MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[n],MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPath[n]);MAPEDITOR.TRACER.addTracer("[INFO]: I created ghost: "+MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[n]);MAPEDITOR.GLOBAL.DEFINES.mainCount++;MAPEDITOR.GLOBAL.DEFINES.incomingACL="overlay";MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null);MAPEDITOR.GLOBAL.DEFINES.overlaysCurrentlyDisplayed=!0;break;case"poi":MAPEDITOR.TRACER.addTracer("[INFO]: doing case4 for "+n);MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPolygonType[n]=="rectangle"?(MAPEDITOR.TRACER.addTracer("[INFO]: incoming poi: "+n+" "+MAPEDITOR.GLOBAL.DEFINES.incomingPolygonLabel[n]),MAPEDITOR.TRACER.addTracer("[INFO]: detected incoming rectangle"),e=0,t=new google.maps.Polygon({paths:MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPath[n]}),t.getPath().forEach(function(){e++}),e==2&&(MAPEDITOR.TRACER.addTracer("[INFO]: pathcount: "+e),u=[5],f=1,t.getPath().forEach(function(n){var t=String(n).split(","),i=t[0].replace("(",""),r=t[1].replace(")","");u[f]=i;f++;u[f]=r;f++}),MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPath[n]=new google.maps.LatLngBounds(new google.maps.LatLng(u[3],u[2]),new google.maps.LatLng(u[1],u[4]))),i=new google.maps.Rectangle({bounds:MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPath[n],map:map,title:MAPEDITOR.GLOBAL.DEFINES.incomingPolygonLabel[n]}),i.setOptions(MAPEDITOR.GLOBAL.DEFINES.rectangleOptionsPOI),MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0,MAPEDITOR.GLOBAL.DEFINES.poi_i++,MAPEDITOR.GLOBAL.DEFINES.label[MAPEDITOR.GLOBAL.DEFINES.poi_i]=new MarkerWithLabel({position:i.getBounds().getCenter(),zIndex:2,map:map,labelContent:MAPEDITOR.GLOBAL.DEFINES.incomingPolygonLabel[n],labelAnchor:new google.maps.Point(15,0),labelClass:"labels",labelStyle:{opacity:.75},icon:{}}),o=MAPEDITOR.GLOBAL.DEFINES.poi_i+1,MAPEDITOR.GLOBAL.DEFINES.poiObj[MAPEDITOR.GLOBAL.DEFINES.poi_i]=i,MAPEDITOR.GLOBAL.DEFINES.poiType[MAPEDITOR.GLOBAL.DEFINES.poi_i]="rectangle",r=MAPEDITOR.GLOBAL.DEFINES.incomingPolygonLabel[n],document.getElementById("poiList").innerHTML+=MAPEDITOR.UTILITIES.writeHTML("poiListItemIncoming",MAPEDITOR.GLOBAL.DEFINES.poi_i,o,r),MAPEDITOR.GLOBAL.DEFINES.poiDesc[MAPEDITOR.GLOBAL.DEFINES.poi_i]=r,s=MAPEDITOR.UTILITIES.writeHTML("poiDescIncoming",MAPEDITOR.GLOBAL.DEFINES.poi_i,r,""),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i]=new google.maps.InfoWindow({content:s}),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].setPosition(i.getBounds().getCenter()),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].open(map),MAPEDITOR.GLOBAL.DEFINES.poiCount==0&&setTimeout(function(){MAPEDITOR.GLOBAL.DEFINES.infoWindow[0].setMap(null);MAPEDITOR.GLOBAL.DEFINES.infoWindow[0].setMap(map)},800),MAPEDITOR.GLOBAL.DEFINES.poiCount++,google.maps.event.addListener(i,"bounds_changed",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setPosition(this.getBounds().getCenter()),MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setPosition(this.getBounds().getCenter()),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(map))}),google.maps.event.addListener(i,"dragstart",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(null))}),google.maps.event.addListener(i,"drag",function(){var n;for(MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0,MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0,n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(null));var i=this.getBounds().getCenter().toString(),t=i.replace("(","").replace(")","").split(",",1),r=i.replace(t,"").replace("(","").replace(")","").replace(",","");latH=t.indexOf("-")!=0?"N":"S";longH=r.indexOf("-")!=0?"W":"E";document.getElementById("cLat").innerHTML=t+" ("+latH+")";document.getElementById("cLong").innerHTML=r+" ("+longH+")"}),google.maps.event.addListener(i,"dragend",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setPosition(this.getBounds().getCenter()),MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].open(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setPosition(this.getBounds().getCenter()),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(map))}),google.maps.event.addListener(i,"click",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setPosition(this.getBounds().getCenter()),MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].open(map))}),google.maps.event.addListener(i,"rightclick",function(){MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null)})):(t=new google.maps.Polygon({paths:MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPath[n],map:map,title:MAPEDITOR.GLOBAL.DEFINES.incomingPolygonLabel[n]}),t.setOptions(MAPEDITOR.GLOBAL.DEFINES.polygonOptionsPOI),MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0,MAPEDITOR.GLOBAL.DEFINES.poi_i++,MAPEDITOR.GLOBAL.DEFINES.label[MAPEDITOR.GLOBAL.DEFINES.poi_i]=new MarkerWithLabel({position:MAPEDITOR.UTILITIES.polygonCenter(t),zIndex:2,map:map,labelContent:MAPEDITOR.GLOBAL.DEFINES.incomingPolygonLabel[n],labelAnchor:new google.maps.Point(15,0),labelClass:"labels",labelStyle:{opacity:.75},icon:{}}),o=MAPEDITOR.GLOBAL.DEFINES.poi_i+1,MAPEDITOR.GLOBAL.DEFINES.poiObj[MAPEDITOR.GLOBAL.DEFINES.poi_i]=t,MAPEDITOR.GLOBAL.DEFINES.poiType[MAPEDITOR.GLOBAL.DEFINES.poi_i]="polygon",r=MAPEDITOR.GLOBAL.DEFINES.incomingPolygonLabel[n],document.getElementById("poiList").innerHTML+=MAPEDITOR.UTILITIES.writeHTML("poiListItemIncoming",MAPEDITOR.GLOBAL.DEFINES.poi_i,o,r),MAPEDITOR.GLOBAL.DEFINES.poiDesc[MAPEDITOR.GLOBAL.DEFINES.poi_i]=r,s=MAPEDITOR.UTILITIES.writeHTML("poiDescIncoming",MAPEDITOR.GLOBAL.DEFINES.poi_i,r,""),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i]=new google.maps.InfoWindow({content:s}),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].setPosition(MAPEDITOR.UTILITIES.polygonCenter(t)),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].open(map),MAPEDITOR.GLOBAL.DEFINES.poiCount==0&&setTimeout(function(){MAPEDITOR.GLOBAL.DEFINES.infoWindow[0].setMap(null);MAPEDITOR.GLOBAL.DEFINES.infoWindow[0].setMap(map)},800),MAPEDITOR.GLOBAL.DEFINES.poiCount++,google.maps.event.addListener(t,"mouseout",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setPosition(MAPEDITOR.UTILITIES.polygonCenter(this)),MAPEDITOR.GLOBAL.DEFINES.label[n].setPosition(MAPEDITOR.UTILITIES.polygonCenter(this)))}),google.maps.event.addListener(i,"bounds_changed",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setPosition(this.getBounds().getCenter()),MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setPosition(this.getBounds().getCenter()),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(map))}),google.maps.event.addListener(t,"dragstart",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(null))}),google.maps.event.addListener(t,"drag",function(){var n;for(MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0,MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0,n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(null));var i=MAPEDITOR.UTILITIES.polygonCenter(this).toString(),t=i.replace("(","").replace(")","").split(",",1),r=i.replace(t,"").replace("(","").replace(")","").replace(",","");latH=t.indexOf("-")!=0?"N":"S";longH=r.indexOf("-")!=0?"W":"E";document.getElementById("cLat").innerHTML=t+" ("+latH+")";document.getElementById("cLong").innerHTML=r+" ("+longH+")"}),google.maps.event.addListener(t,"dragend",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setPosition(MAPEDITOR.UTILITIES.polygonCenter(this)),MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].open(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setPosition(MAPEDITOR.UTILITIES.polygonCenter(this)),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(map))}),google.maps.event.addListener(t,"click",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setPosition(MAPEDITOR.UTILITIES.polygonCenter(this)),MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].open(map))}),google.maps.event.addListener(t.getPath(),"set_at",function(){var n,i,r,u,f;for(MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0,MAPEDITOR.ACTIONS.openToolboxTab("poi"),MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0,n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.TRACER.addTracer("[INFO]: inside loop1"),MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(i=[],r=0,MAPEDITOR.TRACER.addTracer("[INFO]: here1"),t.getPath().forEach(function(n){i[r]=n;r++}),MAPEDITOR.TRACER.addTracer("[INFO]: here2"),u=i[i.length/2],f=i[0],MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].setPosition(u),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].open(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setPosition(u),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(map),MAPEDITOR.TRACER.addTracer("[INFO]: here3"))}),google.maps.event.addListener(t,"rightclick",function(){MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null)}));MAPEDITOR.GLOBAL.DEFINES.overlaysCurrentlyDisplayed=!0;MAPEDITOR.GLOBAL.DEFINES.poiCount>0&&setTimeout(function(){MAPEDITOR.GLOBAL.DEFINES.RIBMode=!0;MAPEDITOR.ACTIONS.toggleVis("pois");MAPEDITOR.ACTIONS.toggleVis("pois");MAPEDITOR.GLOBAL.DEFINES.RIBMode=!1;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiCount;n++)MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null)},1e3)}}MAPEDITOR.TRACER.addTracer("[INFO]: displayIncomingPolygons completed...")}catch(h){MAPEDITOR.TRACER.addTracer("[ERROR]: "+h+" at line "+h.lineNumber)}},initDeclarations:function(){try{MAPEDITOR.TRACER.addTracer("[INFO]: initDeclarations started...");initServerToClientVars();MAPEDITOR.GLOBAL.DEFINES.debuggerOn&&(MAPEDITOR.TRACER.DEFINES.debugVersionNumber=" v1."+MAPEDITOR.GLOBAL.DEFINES.debugUnixTimeStamp+" (built: "+MAPEDITOR.GLOBAL.DEFINES.debugBuildTimeStamp+") ");MAPEDITOR.TRACER.addTracer("[INFO]: initDeclarations completed...")}catch(n){MAPEDITOR.TRACER.addTracer("[ERROR]: "+n+" at line "+n.lineNumber)}},initLocalization:function(){try{MAPEDITOR.TRACER.addTracer("[INFO]: initlocalization started...");MAPEDITOR.LOCALIZATION.localizeByTooltips();MAPEDITOR.LOCALIZATION.localizeByText();MAPEDITOR.TRACER.addTracer("[INFO]: initLocalization completed...")}catch(n){MAPEDITOR.TRACER.addTracer("[ERROR]: "+n+" at line "+n.lineNumber)}},initListeners:function(){try{MAPEDITOR.TRACER.addTracer("[INFO]: initListeners started...");document.getElementById("content_menubar_save").addEventListener("click",function(){if(MAPEDITOR.GLOBAL.DEFINES.userMayLoseData){MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L59);MAPEDITOR.GLOBAL.DEFINES.RIBMode=!0;var n=0;try{MAPEDITOR.ACTIONS.save("item");n++}catch(t){MAPEDITOR.TRACER.addTracer("[INFO]: could not save item")}try{MAPEDITOR.ACTIONS.save("overlay");n++}catch(t){MAPEDITOR.TRACER.addTracer("[INFO]: could not save overlay")}try{MAPEDITOR.ACTIONS.save("poi");n++}catch(t){MAPEDITOR.TRACER.addTracer("[INFO]: could not save poi")}n==3&&(MAPEDITOR.TRACER.addTracer("[INFO]: all saves completed"),MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!1);MAPEDITOR.GLOBAL.DEFINES.RIBMode=!1}else window.location.assign(document.URL.replace("/mapedit",""))},!1);document.getElementById("content_menubar_cancel").addEventListener("click",function(){MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L58);window.location.assign(document.URL.replace("/mapedit",""))},!1);document.getElementById("content_menubar_reset").addEventListener("click",function(){MAPEDITOR.ACTIONS.resetAll()},!1);document.getElementById("content_menubar_toggleMapControls").addEventListener("click",function(){MAPEDITOR.ACTIONS.toggleVis("mapControls")},!1);document.getElementById("content_menubar_toggleToolbox").addEventListener("click",function(){MAPEDITOR.ACTIONS.toggleVis("toolbox")},!1);document.getElementById("content_menubar_toggleToolbar").addEventListener("click",function(){MAPEDITOR.ACTIONS.toggleVis("toolbar")},!1);document.getElementById("content_menubar_layerRoadmap").addEventListener("click",function(){MAPEDITOR.ACTIONS.changeMapLayer("roadmap")},!1);document.getElementById("content_menubar_layerTerrain").addEventListener("click",function(){MAPEDITOR.ACTIONS.changeMapLayer("terrain")},!1);document.getElementById("content_menubar_layerSatellite").addEventListener("click",function(){MAPEDITOR.ACTIONS.changeMapLayer("satellite")},!1);document.getElementById("content_menubar_layerHybrid").addEventListener("click",function(){MAPEDITOR.ACTIONS.changeMapLayer("hybrid")},!1);document.getElementById("content_menubar_layerCustom").addEventListener("click",function(){MAPEDITOR.ACTIONS.changeMapLayer("custom")},!1);document.getElementById("content_menubar_layerReset").addEventListener("click",function(){MAPEDITOR.ACTIONS.changeMapLayer("reset")},!1);document.getElementById("content_menubar_panUp").addEventListener("click",function(){MAPEDITOR.ACTIONS.panMap("up")},!1);document.getElementById("content_menubar_panLeft").addEventListener("click",function(){MAPEDITOR.ACTIONS.panMap("left")},!1);document.getElementById("content_menubar_panReset").addEventListener("click",function(){MAPEDITOR.ACTIONS.panMap("reset")},!1);document.getElementById("content_menubar_panRight").addEventListener("click",function(){MAPEDITOR.ACTIONS.panMap("right")},!1);document.getElementById("content_menubar_panDown").addEventListener("click",function(){MAPEDITOR.ACTIONS.panMap("down")},!1);document.getElementById("content_menubar_zoomIn").addEventListener("click",function(){MAPEDITOR.ACTIONS.zoomMap("in")},!1);document.getElementById("content_menubar_zoomReset").addEventListener("click",function(){MAPEDITOR.ACTIONS.zoomMap("reset")},!1);document.getElementById("content_menubar_zoomOut").addEventListener("click",function(){MAPEDITOR.ACTIONS.zoomMap("out")},!1);document.getElementById("content_menubar_manageSearch").addEventListener("click",function(){MAPEDITOR.ACTIONS.action("search")},!1);document.getElementById("content_menubar_searchField").addEventListener("click",function(){MAPEDITOR.ACTIONS.action("search")},!1);document.getElementById("content_menubar_searchButton").addEventListener("click",function(){if(document.getElementById("content_menubar_searchField").value!=null){var n=document.getElementById("content_menubar_searchField").value;MAPEDITOR.UTILITIES.finder(n)}},!1);document.getElementById("content_menubar_manageItem").addEventListener("click",function(){MAPEDITOR.ACTIONS.action("manageItem")},!1);document.getElementById("content_menubar_itemPlace").addEventListener("click",function(){MAPEDITOR.ACTIONS.openToolboxTab("item");MAPEDITOR.ACTIONS.place("item")},!1);document.getElementById("content_menubar_itemGetUserLocation").addEventListener("click",function(){MAPEDITOR.ACTIONS.openToolboxTab("item");MAPEDITOR.ACTIONS.geolocate("item")},!1);document.getElementById("content_menubar_useSearchAsLocation").addEventListener("click",function(){MAPEDITOR.ACTIONS.openToolboxTab("item");MAPEDITOR.ACTIONS.useSearchAsItemLocation()},!1);document.getElementById("content_menubar_convertToOverlay").addEventListener("click",function(){MAPEDITOR.ACTIONS.convertToOverlay()},!1);document.getElementById("content_menubar_itemReset").addEventListener("click",function(){MAPEDITOR.ACTIONS.openToolboxTab("item");MAPEDITOR.ACTIONS.clear("item")},!1);document.getElementById("content_menubar_itemDelete").addEventListener("click",function(){MAPEDITOR.ACTIONS.openToolboxTab("item");MAPEDITOR.ACTIONS.deleteItemLocation()},!1);document.getElementById("content_menubar_manageOverlay").addEventListener("click",function(){MAPEDITOR.ACTIONS.action("manageOverlay")},!1);document.getElementById("content_menubar_overlayGetUserLocation").addEventListener("click",function(){MAPEDITOR.ACTIONS.openToolboxTab("overlay");MAPEDITOR.ACTIONS.geolocate("overlay")},!1);document.getElementById("content_menubar_overlayToggle").addEventListener("click",function(){MAPEDITOR.ACTIONS.openToolboxTab("overlay");MAPEDITOR.ACTIONS.toggleVis("overlays")},!1);document.getElementById("content_menubar_rotationCounterClockwise").addEventListener("click",function(){MAPEDITOR.ACTIONS.openToolboxTab("overlay");MAPEDITOR.UTILITIES.rotate(-.1)},!1);document.getElementById("content_menubar_rotationReset").addEventListener("click",function(){MAPEDITOR.ACTIONS.openToolboxTab("overlay");MAPEDITOR.UTILITIES.rotate(0)},!1);document.getElementById("content_menubar_rotationClockwise").addEventListener("click",function(){MAPEDITOR.ACTIONS.openToolboxTab("overlay");MAPEDITOR.UTILITIES.rotate(.1)},!1);document.getElementById("content_menubar_transparencyDarker").addEventListener("click",function(){MAPEDITOR.ACTIONS.openToolboxTab("overlay");MAPEDITOR.UTILITIES.opacity(.1)},!1);document.getElementById("content_menubar_transparencyLighter").addEventListener("click",function(){MAPEDITOR.ACTIONS.openToolboxTab("overlay");MAPEDITOR.UTILITIES.opacity(-.1)},!1);document.getElementById("content_menubar_transparencyReset").addEventListener("click",function(){MAPEDITOR.ACTIONS.openToolboxTab("overlay");MAPEDITOR.UTILITIES.opacity(.35)},!1);document.getElementById("content_menubar_overlayReset").addEventListener("click",function(){MAPEDITOR.ACTIONS.openToolboxTab("overlay");MAPEDITOR.ACTIONS.clear("overlay")},!1);document.getElementById("content_menubar_managePOI").addEventListener("click",function(){MAPEDITOR.ACTIONS.action("managePOI")},!1);document.getElementById("content_menubar_poiGetUserLocation").addEventListener("click",function(){MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.ACTIONS.geolocate("poi")},!1);document.getElementById("content_menubar_poiMarker").addEventListener("click",function(){MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.ACTIONS.placePOI("marker")},!1);document.URL.indexOf("programmer89")>-1&&alert("This App Designed By Matthew Peters (matt@hlmatt.com)");document.getElementById("content_menubar_poiCircle").addEventListener("click",function(){MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.ACTIONS.placePOI("circle")},!1);document.getElementById("content_menubar_poiRectangle").addEventListener("click",function(){MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.ACTIONS.placePOI("rectangle")},!1);document.getElementById("content_menubar_poiPolygon").addEventListener("click",function(){MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.ACTIONS.placePOI("polygon")},!1);document.getElementById("content_menubar_poiLine").addEventListener("click",function(){MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.ACTIONS.placePOI("line")},!1);document.getElementById("content_menubar_poiReset").addEventListener("click",function(){MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.ACTIONS.clear("poi")},!1);document.getElementById("content_menubar_documentation").addEventListener("click",function(){window.open(MAPEDITOR.GLOBAL.DEFINES.helpPageURL)},!1);document.getElementById("content_menubar_reportAProblem").addEventListener("click",function(){window.open(MAPEDITOR.GLOBAL.DEFINES.reportProblemURL)},!1);document.getElementById("content_toolbar_button_reset").addEventListener("click",function(){MAPEDITOR.ACTIONS.resetAll()},!1);document.getElementById("content_toolbar_button_toggleMapControls").addEventListener("click",function(){MAPEDITOR.ACTIONS.toggleVis("mapControls")},!1);document.getElementById("content_toolbar_button_toggleToolbox").addEventListener("click",function(){MAPEDITOR.ACTIONS.toggleVis("toolbox")},!1);document.getElementById("content_toolbar_button_layerRoadmap").addEventListener("click",function(){MAPEDITOR.ACTIONS.changeMapLayer("roadmap")},!1);document.getElementById("content_toolbar_button_layerTerrain").addEventListener("click",function(){MAPEDITOR.ACTIONS.changeMapLayer("terrain")},!1);document.getElementById("content_toolbar_button_layerSatellite").addEventListener("click",function(){MAPEDITOR.ACTIONS.changeMapLayer("satellite")},!1);document.getElementById("content_toolbar_button_layerHybrid").addEventListener("click",function(){MAPEDITOR.ACTIONS.changeMapLayer("hybrid")},!1);document.getElementById("content_toolbar_button_layerCustom").addEventListener("click",function(){MAPEDITOR.ACTIONS.changeMapLayer("custom")},!1);document.getElementById("content_toolbar_button_layerReset").addEventListener("click",function(){MAPEDITOR.ACTIONS.changeMapLayer("reset")},!1);document.getElementById("content_toolbar_button_panUp").addEventListener("click",function(){MAPEDITOR.ACTIONS.panMap("up")},!1);document.getElementById("content_toolbar_button_panLeft").addEventListener("click",function(){MAPEDITOR.ACTIONS.panMap("left")},!1);document.getElementById("content_toolbar_button_panReset").addEventListener("click",function(){MAPEDITOR.ACTIONS.panMap("reset")},!1);document.getElementById("content_toolbar_button_panRight").addEventListener("click",function(){MAPEDITOR.ACTIONS.panMap("right")},!1);document.getElementById("content_toolbar_button_panDown").addEventListener("click",function(){MAPEDITOR.ACTIONS.panMap("down")},!1);document.getElementById("content_toolbar_button_zoomIn").addEventListener("click",function(){MAPEDITOR.ACTIONS.zoomMap("in")},!1);document.getElementById("content_toolbar_button_zoomReset").addEventListener("click",function(){MAPEDITOR.ACTIONS.zoomMap("reset")},!1);document.getElementById("content_toolbar_button_zoomOut").addEventListener("click",function(){MAPEDITOR.ACTIONS.zoomMap("out")},!1);document.getElementById("content_toolbar_button_manageItem").addEventListener("click",function(){MAPEDITOR.ACTIONS.action("manageItem")},!1);document.getElementById("content_toolbar_button_manageOverlay").addEventListener("click",function(){MAPEDITOR.ACTIONS.action("manageOverlay")},!1);document.getElementById("content_toolbar_button_managePOI").addEventListener("click",function(){MAPEDITOR.ACTIONS.action("managePOI")},!1);document.getElementById("content_toolbar_button_manageSearch").addEventListener("click",function(){MAPEDITOR.ACTIONS.action("search")},!1);document.getElementById("content_toolbar_searchField").addEventListener("click",function(){MAPEDITOR.ACTIONS.action("search")},!1);document.getElementById("content_toolbar_searchButton").addEventListener("click",function(){if(document.getElementById("content_toolbar_searchField").value!=null){var n=document.getElementById("content_toolbar_searchField").value;MAPEDITOR.UTILITIES.finder(n)}},!1);document.getElementById("content_toolbarGrabber").addEventListener("click",function(){MAPEDITOR.ACTIONS.toggleVis("toolbar")},!1);document.getElementById("content_minibar_button_minimize").addEventListener("click",function(){MAPEDITOR.ACTIONS.toggleVis("toolboxMin")},!1);document.getElementById("content_minibar_button_maximize").addEventListener("click",function(){MAPEDITOR.ACTIONS.toggleVis("toolboxMax")},!1);document.getElementById("content_minibar_button_close").addEventListener("click",function(){MAPEDITOR.ACTIONS.toggleVis("toolbox")},!1);document.getElementById("content_toolbox_tab1_header").addEventListener("click",function(){MAPEDITOR.TRACER.addTracer("[INFO]: tab1 header clicked...");MAPEDITOR.ACTIONS.action("other");MAPEDITOR.ACTIONS.openToolboxTab(0)},!1);document.getElementById("content_toolbox_tab2_header").addEventListener("click",function(){MAPEDITOR.TRACER.addTracer("[INFO]: tab2 header clicked...");MAPEDITOR.ACTIONS.action("search")},!1);document.getElementById("content_toolbox_tab3_header").addEventListener("click",function(){MAPEDITOR.TRACER.addTracer("[INFO]: tab3 header clicked...");MAPEDITOR.ACTIONS.action("manageItem")},!1);document.getElementById("content_toolbox_tab4_header").addEventListener("click",function(){MAPEDITOR.TRACER.addTracer("[INFO]: tab4 header clicked...");MAPEDITOR.ACTIONS.action("manageOverlay")},!1);document.getElementById("content_toolbox_tab5_header").addEventListener("click",function(){MAPEDITOR.TRACER.addTracer("[INFO]: tab5 header clicked...");MAPEDITOR.ACTIONS.action("managePOI")},!1);document.getElementById("content_toolbox_button_layerRoadmap").addEventListener("click",function(){MAPEDITOR.ACTIONS.changeMapLayer("roadmap")},!1);document.getElementById("content_toolbox_button_layerTerrain").addEventListener("click",function(){MAPEDITOR.ACTIONS.changeMapLayer("terrain")},!1);document.getElementById("content_toolbox_button_panUp").addEventListener("click",function(){MAPEDITOR.ACTIONS.panMap("up")},!1);document.getElementById("content_toolbox_button_layerSatellite").addEventListener("click",function(){MAPEDITOR.ACTIONS.changeMapLayer("satellite")},!1);document.getElementById("content_toolbox_button_layerHybrid").addEventListener("click",function(){MAPEDITOR.ACTIONS.changeMapLayer("hybrid")},!1);document.getElementById("content_toolbox_button_panLeft").addEventListener("click",function(){MAPEDITOR.ACTIONS.panMap("left")},!1);document.getElementById("content_toolbox_button_panReset").addEventListener("click",function(){MAPEDITOR.ACTIONS.panMap("reset")},!1);document.getElementById("content_toolbox_button_panRight").addEventListener("click",function(){MAPEDITOR.ACTIONS.panMap("right")},!1);document.getElementById("content_toolbox_button_layerCustom").addEventListener("click",function(){MAPEDITOR.ACTIONS.changeMapLayer("custom")},!1);document.getElementById("content_toolbox_button_layerReset").addEventListener("click",function(){MAPEDITOR.ACTIONS.changeMapLayer("reset")},!1);document.getElementById("content_toolbox_button_panDown").addEventListener("click",function(){MAPEDITOR.ACTIONS.panMap("down")},!1);document.getElementById("content_toolbox_button_reset").addEventListener("click",function(){MAPEDITOR.ACTIONS.resetAll()},!1);document.getElementById("content_toolbox_button_toggleMapControls").addEventListener("click",function(){MAPEDITOR.ACTIONS.toggleVis("mapControls")},!1);document.getElementById("content_toolbox_button_zoomIn").addEventListener("click",function(){MAPEDITOR.ACTIONS.zoomMap("in")},!1);document.getElementById("content_toolbox_button_zoomReset").addEventListener("click",function(){MAPEDITOR.ACTIONS.zoomMap("reset")},!1);document.getElementById("content_toolbox_button_zoomOut").addEventListener("click",function(){MAPEDITOR.ACTIONS.zoomMap("out")},!1);document.getElementById("content_toolbox_button_manageItem").addEventListener("click",function(){MAPEDITOR.ACTIONS.action("manageItem")},!1);document.getElementById("content_toolbox_button_manageOverlay").addEventListener("click",function(){MAPEDITOR.ACTIONS.action("manageOverlay")},!1);document.getElementById("content_toolbox_button_managePOI").addEventListener("click",function(){MAPEDITOR.ACTIONS.action("managePOI")},!1);document.getElementById("content_toolbox_searchField").addEventListener("click",function(){},!1);document.getElementById("content_toolbox_searchButton").addEventListener("click",function(){if(document.getElementById("content_toolbox_searchField").value!=null){var n=document.getElementById("content_toolbox_searchField").value;MAPEDITOR.UTILITIES.finder(n)}},!1);document.getElementById("content_toolbox_button_itemPlace").addEventListener("click",function(){MAPEDITOR.ACTIONS.place("item")},!1);document.getElementById("content_toolbox_button_itemGetUserLocation").addEventListener("click",function(){MAPEDITOR.ACTIONS.geolocate("item")},!1);document.getElementById("content_toolbox_button_useSearchAsLocation").addEventListener("click",function(){MAPEDITOR.ACTIONS.useSearchAsItemLocation()},!1);document.getElementById("content_toolbox_button_convertToOverlay").addEventListener("click",function(){MAPEDITOR.ACTIONS.convertToOverlay()},!1);document.getElementById("content_toolbox_posItem").addEventListener("click",function(){},!1);document.getElementById("content_toolbox_rgItem").addEventListener("click",function(){},!1);document.getElementById("content_toolbox_button_saveItem").addEventListener("click",function(){MAPEDITOR.ACTIONS.save("item")},!1);document.getElementById("content_toolbox_button_clearItem").addEventListener("click",function(){MAPEDITOR.ACTIONS.clear("item")},!1);document.getElementById("content_toolbox_button_deleteItem").addEventListener("click",function(){MAPEDITOR.ACTIONS.deleteItemLocation()},!1);document.getElementById("content_toolbox_button_overlayGetUserLocation").addEventListener("click",function(){MAPEDITOR.ACTIONS.geolocate("overlay")},!1);document.getElementById("content_toolbox_button_overlayToggle").addEventListener("click",function(){MAPEDITOR.ACTIONS.toggleVis("overlays")},!1);document.getElementById("rotationKnob").addEventListener("click",function(){},!1);document.getElementById("content_toolbox_rotationCounterClockwise").addEventListener("click",function(){MAPEDITOR.UTILITIES.rotate(-.1)},!1);document.getElementById("content_toolbox_rotationReset").addEventListener("click",function(){MAPEDITOR.UTILITIES.rotate(0)},!1);document.getElementById("content_toolbox_rotationClockwise").addEventListener("click",function(){MAPEDITOR.UTILITIES.rotate(.1)},!1);document.getElementById("transparency").addEventListener("click",function(){},!1);document.getElementById("overlayTransparencySlider").addEventListener("click",function(){},!1);document.getElementById("content_toolbox_button_saveOverlay").addEventListener("click",function(){MAPEDITOR.ACTIONS.save("overlay")},!1);document.getElementById("content_toolbox_button_clearOverlay").addEventListener("click",function(){MAPEDITOR.ACTIONS.clear("overlay")},!1);document.getElementById("content_toolbox_button_poiGetUserLocation").addEventListener("click",function(){MAPEDITOR.ACTIONS.geolocate("poi")},!1);document.getElementById("content_toolbox_button_poiToggle").addEventListener("click",function(){MAPEDITOR.ACTIONS.toggleVis("pois")},!1);document.getElementById("content_toolbox_button_poiMarker").addEventListener("click",function(){MAPEDITOR.ACTIONS.placePOI("marker")},!1);document.getElementById("content_toolbox_button_poiCircle").addEventListener("click",function(){MAPEDITOR.ACTIONS.placePOI("circle")},!1);document.getElementById("content_toolbox_button_poiRectangle").addEventListener("click",function(){MAPEDITOR.ACTIONS.placePOI("rectangle")},!1);document.getElementById("content_toolbox_button_poiPolygon").addEventListener("click",function(){MAPEDITOR.ACTIONS.placePOI("polygon")},!1);document.getElementById("content_toolbox_button_poiLine").addEventListener("click",function(){MAPEDITOR.ACTIONS.placePOI("line")},!1);document.getElementById("content_toolbox_button_savePOI").addEventListener("click",function(){MAPEDITOR.ACTIONS.save("poi")},!1);document.getElementById("content_toolbox_button_clearPOI").addEventListener("click",function(){MAPEDITOR.ACTIONS.clear("poi")},!1);MAPEDITOR.TRACER.addTracer("[INFO]: initListeners completed...")}catch(n){alert(MAPEDITOR.LOCALIZATION.DEFINES.L_Error1+": "+n+" at line "+n.lineNumber);MAPEDITOR.TRACER.addTracer("[ERROR]: "+n+" at line "+n.lineNumber)}},initOptions:function(){try{MAPEDITOR.TRACER.addTracer("[INFO]: initOptions started...");MAPEDITOR.ACTIONS.toggleVis("mapControls");MAPEDITOR.ACTIONS.toggleVis("mapControls");MAPEDITOR.ACTIONS.toggleVis("toolbox");MAPEDITOR.ACTIONS.toggleVis("toolbox");MAPEDITOR.ACTIONS.toggleVis("toolbar");MAPEDITOR.ACTIONS.toggleVis("toolbar");MAPEDITOR.ACTIONS.toggleVis("kml");MAPEDITOR.ACTIONS.toggleVis("kml");MAPEDITOR.ACTIONS.toggleVis("mapDrawingManager");MAPEDITOR.ACTIONS.toggleVis("mapDrawingManager");MAPEDITOR.UTILITIES.buttonActive("layer");document.getElementById("content_toolbarGrabber").style.display="block";$(".knob").val(0).trigger("change");MAPEDITOR.TRACER.addTracer("[WARN]: #mapedit_container_pane_0 background color must be set manually if changed from default.");document.getElementById("mapedit_container_pane_0").style.display="block";switch(MAPEDITOR.GLOBAL.DEFINES.incomingACL){case"item":MAPEDITOR.UTILITIES.actionsACL("full","item");break;case"overlay":MAPEDITOR.UTILITIES.actionsACL("full","overlay");break;case"poi":MAPEDITOR.UTILITIES.actionsACL("full","poi");break;case"none":MAPEDITOR.UTILITIES.actionsACL("full","actions")}MAPEDITOR.TRACER.addTracer("[INFO]: main count: "+MAPEDITOR.GLOBAL.DEFINES.mainCount);MAPEDITOR.GLOBAL.DEFINES.hasCustomMapType==!0?MAPEDITOR.UTILITIES.actionsACL("full","customMapType"):MAPEDITOR.UTILITIES.actionsACL("none","customMapType");window.onbeforeunload=function(n){if(MAPEDITOR.GLOBAL.DEFINES.userMayLoseData){var t=MAPEDITOR.LOCALIZATION.DEFINES.L47,n=n||window.event;return n&&(n.returnValue=t),t}};document.getElementById("content_toolbar_searchField").value="";document.getElementById("content_toolbox_searchField").value="";document.getElementById("content_toolbox_posItem").value="";document.getElementById("content_toolbox_rgItem").value="";document.getElementById("mapedit_blanket_loading").style.display="none";MAPEDITOR.GLOBAL.DEFINES.kmlLayer.setOptions({suppressinfoWindows:!0});MAPEDITOR.TRACER.addTracer("[INFO]: initOptions completed...")}catch(n){MAPEDITOR.TRACER.addTracer("[ERROR]: "+n+" at line "+n.lineNumber)}},initJqueryElements:function(){try{MAPEDITOR.TRACER.addTracer("[INFO]: initJqueryElements started...");try{$("ul.sf-menu").superfish();$("#mapedit_container_toolbox").draggable({handle:"#mapedit_container_toolboxMinibar"});$("#mapedit_container_toolboxTabs").accordion({animate:!0,active:0,icons:!1,heightStyle:"content"});$("#content_toolbox_button_saveItem").tooltip({show:{delay:500},track:!0,open:function(){setTimeout(function(){$("#content_toolbox_button_saveItem").tooltip("close")},3e3)}});$("#content_toolbox_button_saveOverlay").tooltip({show:{delay:500},track:!0,open:function(){setTimeout(function(){$("#content_toolbox_button_saveOverlay").tooltip("close")},3e3)}});$("#content_toolbox_button_savePOI").tooltip({show:{delay:500},track:!0,open:function(){setTimeout(function(){$("#content_toolbox_button_savePOI").tooltip("close")},3e3)}});$("#content_toolbox_button_clearItem").tooltip({show:{delay:500},track:!0,open:function(){setTimeout(function(){$("#content_toolbox_button_clearItem").tooltip("close")},3e3)}});$("#content_toolbox_button_clearOverlay").tooltip({show:{delay:500},track:!0,open:function(){setTimeout(function(){$("#content_toolbox_button_clearOverlay").tooltip("close")},3e3)}});$("#content_toolbox_button_clearPOI").tooltip({show:{delay:500},track:!0,open:function(){setTimeout(function(){$("#content_toolbox_button_clearPOI").tooltip("close")},3e3)}});$("#content_toolbox_button_deleteItem").tooltip({show:{delay:500},track:!0,open:function(){setTimeout(function(){$("#content_toolbox_button_deleteItem").tooltip("close")},3e3)}});$(document).tooltip({track:!0,show:{delay:300}})}catch(n){alert(MAPEDITOR.LOCALIZATION.DEFINES.L51+": "+n+" at line "+n.lineNumber);MAPEDITOR.TRACER.addTracer("[ERROR]: "+n+" at line "+n.lineNumber)}try{$("#overlayTransparencySlider").slider({animate:!0,range:"min",value:MAPEDITOR.GLOBAL.DEFINES.preservedOpacity,orientation:"vertical",min:0,max:1,step:.01,slide:function(){if(MAPEDITOR.GLOBAL.DEFINES.currentlyEditing=="yes"){var n=$("#overlayTransparencySlider").slider("value");MAPEDITOR.TRACER.addTracer("[INFO]: opacity selected: "+n);MAPEDITOR.UTILITIES.keepOpacity(n)}}});$(".knob").knob({change:function(n){MAPEDITOR.GLOBAL.DEFINES.currentlyEditing=="yes"&&(MAPEDITOR.GLOBAL.DEFINES.knobRotationValue=n,n>180&&(MAPEDITOR.GLOBAL.DEFINES.knobRotationValue=(MAPEDITOR.GLOBAL.DEFINES.knobRotationValue-360)*1),MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex!=null&&(MAPEDITOR.GLOBAL.DEFINES.preservedRotation=MAPEDITOR.GLOBAL.DEFINES.knobRotationValue,MAPEDITOR.UTILITIES.keepRotate(MAPEDITOR.GLOBAL.DEFINES.preservedRotation),MAPEDITOR.TRACER.addTracer("[INFO]: setting rotation from knob at wroking index: "+MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex+"to value: "+MAPEDITOR.GLOBAL.DEFINES.preservedRotation),MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex-1]=MAPEDITOR.GLOBAL.DEFINES.preservedRotation))}})}catch(n){MAPEDITOR.TRACER.addTracer("[ERROR]: "+n+" at line "+n.lineNumber)}MAPEDITOR.TRACER.addTracer("[INFO]: initJqueryElements completed...")}catch(n){MAPEDITOR.TRACER.addTracer("[ERROR]: "+n+" at line "+n.lineNumber)}},initOverlayList:function(){try{if(MAPEDITOR.TRACER.addTracer("[INFO]: initOverlayList started..."),document.getElementById("overlayList").innerHTML="",MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId.length>0){MAPEDITOR.TRACER.addTracer("[INFO]: there are "+MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId.length+" pages");for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId.length;n++)MAPEDITOR.GLOBAL.DEFINES.incomingPolygonFeatureType[n]!="poi"&&(MAPEDITOR.TRACER.addTracer("[INFO]: Adding Overlay List Item"),document.getElementById("overlayList").innerHTML+=MAPEDITOR.UTILITIES.writeHTML("overlayListItem",MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[n],MAPEDITOR.GLOBAL.DEFINES.incomingPolygonLabel[n],""))}MAPEDITOR.TRACER.addTracer("[INFO]: initOverlayList completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},initListOfTextAreaIds:function(){try{MAPEDITOR.TRACER.addTracer("[INFO]: initListOfTextAreaIds started...");MAPEDITOR.GLOBAL.DEFINES.listOfTextAreaIds[0]="content_menubar_searchField";MAPEDITOR.GLOBAL.DEFINES.listOfTextAreaIds[1]="content_toolbar_searchField";MAPEDITOR.GLOBAL.DEFINES.listOfTextAreaIds[2]="content_toolbox_searchField";MAPEDITOR.GLOBAL.DEFINES.listOfTextAreaIds[3]="poiDesc";MAPEDITOR.TRACER.addTracer("[INFO]: initListOfTextAreaIds completed...")}catch(n){MAPEDITOR.TRACER.addTracer("[ERROR]: "+n+" at line "+n.lineNumber)}},initGMap:function(){try{MAPEDITOR.TRACER.addTracer("[INFO]: initGMap started...");MAPEDITOR.GLOBAL.DEFINES.pageLoadTime=(new Date).getTime();MAPEDITOR.UTILITIES.resizeView();MAPEDITOR.GLOBAL.initGMapObjects();map=new google.maps.Map(document.getElementById("googleMap"),MAPEDITOR.GLOBAL.DEFINES.gmapOptions);google.maps.visualRefresh=!0;map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(MAPEDITOR.GLOBAL.DEFINES.copyrightNode);map.controls[google.maps.ControlPosition.BOTTOM_LEFT].push(MAPEDITOR.GLOBAL.DEFINES.cursorLatLongTool);map.controls[google.maps.ControlPosition.TOP_LEFT].push(MAPEDITOR.GLOBAL.DEFINES.toolbarBufferZone1);map.controls[google.maps.ControlPosition.TOP_RIGHT].push(MAPEDITOR.GLOBAL.DEFINES.toolbarBufferZone2);MAPEDITOR.GLOBAL.DEFINES.drawingManager.setMap(map);MAPEDITOR.GLOBAL.DEFINES.drawingManager.setMap(null);MAPEDITOR.GLOBAL.DEFINES.geocoder=new google.maps.Geocoder;google.maps.event.addListener(MAPEDITOR.GLOBAL.DEFINES.drawingManager,"markercomplete",function(n){var t,i,r;MAPEDITOR.UTILITIES.testBounds();MAPEDITOR.GLOBAL.DEFINES.placerType=="item"&&(MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0,MAPEDITOR.ACTIONS.openToolboxTab("item"),MAPEDITOR.GLOBAL.DEFINES.firstSaveItem=!0,MAPEDITOR.GLOBAL.DEFINES.firstMarker>0?MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null):(MAPEDITOR.GLOBAL.DEFINES.firstMarker++,MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null)),MAPEDITOR.GLOBAL.DEFINES.itemMarker=n,MAPEDITOR.TRACER.addTracer("[INFO]: marker placed"),document.getElementById("content_toolbox_posItem").value=MAPEDITOR.GLOBAL.DEFINES.itemMarker.getPosition(),MAPEDITOR.GLOBAL.DEFINES.savingMarkerCenter=MAPEDITOR.GLOBAL.DEFINES.itemMarker.getPosition(),MAPEDITOR.UTILITIES.codeLatLng(MAPEDITOR.GLOBAL.DEFINES.itemMarker.getPosition()),google.maps.event.addListener(n,"dragend",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.GLOBAL.DEFINES.firstSaveItem=!0;document.getElementById("content_toolbox_posItem").value=n.getPosition();MAPEDITOR.UTILITIES.codeLatLng(n.getPosition())}));MAPEDITOR.GLOBAL.DEFINES.placerType=="poi"&&(MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0,MAPEDITOR.ACTIONS.openToolboxTab("poi"),MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0,MAPEDITOR.GLOBAL.DEFINES.poi_i++,MAPEDITOR.GLOBAL.DEFINES.label[MAPEDITOR.GLOBAL.DEFINES.poi_i]=new MarkerWithLabel({position:n.getPosition(),map:map,zIndex:2,labelContent:MAPEDITOR.GLOBAL.DEFINES.poi_i+1,labelAnchor:new google.maps.Point(15,0),labelClass:"labels",labelStyle:{opacity:.75},icon:{}}),MAPEDITOR.GLOBAL.DEFINES.poiObj[MAPEDITOR.GLOBAL.DEFINES.poi_i]=n,MAPEDITOR.GLOBAL.DEFINES.poiType[MAPEDITOR.GLOBAL.DEFINES.poi_i]="marker",t=MAPEDITOR.GLOBAL.DEFINES.poi_i+1,i=MAPEDITOR.LOCALIZATION.DEFINES.L_Marker,document.getElementById("poiList").innerHTML+=MAPEDITOR.UTILITIES.writeHTML("poiListItem",MAPEDITOR.GLOBAL.DEFINES.poi_i,t,i),r=MAPEDITOR.UTILITIES.writeHTML("poiDesc",MAPEDITOR.GLOBAL.DEFINES.poi_i,"",""),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i]=new google.maps.InfoWindow({content:r,position:n.getPosition()}),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].setMap(map),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].open(map,MAPEDITOR.GLOBAL.DEFINES.poiObj[MAPEDITOR.GLOBAL.DEFINES.poi_i]),MAPEDITOR.TRACER.addTracer("[INFO]: poiCount: "+MAPEDITOR.GLOBAL.DEFINES.poiCount),MAPEDITOR.GLOBAL.DEFINES.poiCount==0&&setTimeout(function(){MAPEDITOR.GLOBAL.DEFINES.infoWindow[0].setMap(null);MAPEDITOR.GLOBAL.DEFINES.infoWindow[0].setOptions({pixelOffset:new google.maps.Size(0,-40)});MAPEDITOR.GLOBAL.DEFINES.infoWindow[0].setMap(map)},800),MAPEDITOR.GLOBAL.DEFINES.poiCount++,google.maps.event.addListener(n,"dragstart",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(null))}),google.maps.event.addListener(n,"dragend",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var t=0;t<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;t++)MAPEDITOR.GLOBAL.DEFINES.poiObj[t]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].setOptions({position:n.getPosition(),pixelOffset:new google.maps.Size(0,-40)}),MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].open(null),MAPEDITOR.GLOBAL.DEFINES.label[t].setPosition(n.getPosition()),MAPEDITOR.GLOBAL.DEFINES.label[t].setMap(map))}),google.maps.event.addListener(n,"click",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var t=0;t<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;t++)MAPEDITOR.GLOBAL.DEFINES.poiObj[t]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].setOptions({position:n.getPosition(),pixelOffset:new google.maps.Size(0,-40)}),MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].open(map))}));google.maps.event.addListener(n,"rightclick",function(){MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null)})});google.maps.event.addListener(MAPEDITOR.GLOBAL.DEFINES.drawingManager,"circlecomplete",function(n){var t,i,r;MAPEDITOR.UTILITIES.testBounds();MAPEDITOR.GLOBAL.DEFINES.placerType=="poi"&&(MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0,MAPEDITOR.ACTIONS.openToolboxTab("poi"),MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0,MAPEDITOR.GLOBAL.DEFINES.poi_i++,MAPEDITOR.GLOBAL.DEFINES.label[MAPEDITOR.GLOBAL.DEFINES.poi_i]=new MarkerWithLabel({position:n.getCenter(),zIndex:2,map:map,labelContent:MAPEDITOR.GLOBAL.DEFINES.poi_i+1,labelAnchor:new google.maps.Point(15,0),labelClass:"labels",labelStyle:{opacity:.75},icon:{}}),t=MAPEDITOR.GLOBAL.DEFINES.poi_i+1,MAPEDITOR.GLOBAL.DEFINES.poiObj[MAPEDITOR.GLOBAL.DEFINES.poi_i]=n,MAPEDITOR.GLOBAL.DEFINES.poiType[MAPEDITOR.GLOBAL.DEFINES.poi_i]="circle",i=MAPEDITOR.LOCALIZATION.DEFINES.L_Circle,document.getElementById("poiList").innerHTML+=MAPEDITOR.UTILITIES.writeHTML("poiListItem",MAPEDITOR.GLOBAL.DEFINES.poi_i,t,i),r=MAPEDITOR.UTILITIES.writeHTML("poiDesc",MAPEDITOR.GLOBAL.DEFINES.poi_i,"",""),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i]=new google.maps.InfoWindow({content:r}),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].setPosition(n.getCenter()),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].open(map),MAPEDITOR.GLOBAL.DEFINES.poiCount==0&&setTimeout(function(){MAPEDITOR.GLOBAL.DEFINES.infoWindow[0].setMap(null);MAPEDITOR.GLOBAL.DEFINES.infoWindow[0].setMap(map)},800),MAPEDITOR.GLOBAL.DEFINES.poiCount++,google.maps.event.addListener(n,"dragstart",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(null))}),google.maps.event.addListener(n,"dragend",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var t=0;t<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;t++)MAPEDITOR.GLOBAL.DEFINES.poiObj[t]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].setPosition(n.getCenter()),MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].open(null),MAPEDITOR.GLOBAL.DEFINES.label[t].setPosition(n.getCenter()),MAPEDITOR.GLOBAL.DEFINES.label[t].setMap(map))}),google.maps.event.addListener(n,"click",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var t=0;t<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;t++)MAPEDITOR.GLOBAL.DEFINES.poiObj[t]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].setPosition(n.getCenter()),MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].open(map))}),google.maps.event.addListener(n,"radius_changed",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var t=0;t<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;t++)MAPEDITOR.GLOBAL.DEFINES.poiObj[t]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].setPosition(n.getCenter()),MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].open(null),MAPEDITOR.GLOBAL.DEFINES.label[t].setPosition(n.getCenter()),MAPEDITOR.GLOBAL.DEFINES.label[t].setMap(map))}),google.maps.event.addListener(n,"center_changed",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var t=0;t<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;t++)MAPEDITOR.GLOBAL.DEFINES.poiObj[t]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].setPosition(n.getCenter()),MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].open(null),MAPEDITOR.GLOBAL.DEFINES.label[t].setPosition(n.getCenter()),MAPEDITOR.GLOBAL.DEFINES.label[t].setMap(map))}));google.maps.event.addListener(n,"drag",function(){MAPEDITOR.GLOBAL.DEFINES.circleCenter=n.getCenter();var i=n.getCenter().toString(),t=i.replace("(","").replace(")","").split(",",1),r=i.replace(t,"").replace("(","").replace(")","").replace(",","");latH=t.indexOf("-")!=0?"N":"S";longH=r.indexOf("-")!=0?"W":"E";document.getElementById("cLat").innerHTML=t+" ("+latH+")";document.getElementById("cLong").innerHTML=r+" ("+longH+")"});google.maps.event.addListener(n,"rightclick",function(){MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null)})});google.maps.event.addListener(MAPEDITOR.GLOBAL.DEFINES.drawingManager,"rectanglecomplete",function(n){var t,i,r;MAPEDITOR.UTILITIES.testBounds();MAPEDITOR.GLOBAL.DEFINES.placerType=="overlay"&&(MAPEDITOR.ACTIONS.openToolboxTab("overlay"),MAPEDITOR.TRACER.addTracer("[INFO]: placertype: overlay"),MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex=MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex+1,MAPEDITOR.GLOBAL.DEFINES.overlayType=="drawn"?(MAPEDITOR.TRACER.addTracer("[INFO]: MAPEDITOR.GLOBAL.DEFINES.overlayType: "+MAPEDITOR.GLOBAL.DEFINES.overlayType),MAPEDITOR.TRACER.addTracer("[INFO]: MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex: "+MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex),MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPath[MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex]=n.getBounds(),MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex]]=new MAPEDITOR.UTILITIES.CustomOverlay(MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex],MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPath[MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex],MAPEDITOR.GLOBAL.DEFINES.incomingPolygonSourceURL[MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex],map,MAPEDITOR.GLOBAL.DEFINES.incomingPolygonRotation[MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex]),MAPEDITOR.GLOBAL.DEFINES.currentlyEditing="no",MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex]].setMap(map),MAPEDITOR.UTILITIES.setGhostOverlay(MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex],MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPath[MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex]),MAPEDITOR.TRACER.addTracer("[INFO]: I created ghost: "+MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex]),MAPEDITOR.GLOBAL.DEFINES.mainCount++,MAPEDITOR.GLOBAL.DEFINES.incomingACL="overlay",MAPEDITOR.GLOBAL.DEFINES.isConvertedOverlay=!0,n.setMap(null),MAPEDITOR.GLOBAL.initOverlayList(),MAPEDITOR.ACTIONS.overlayEditMe(MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex]),MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null)):(MAPEDITOR.GLOBAL.DEFINES.firstSaveOverlay=!0,MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPath[MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex]=n.getBounds(),MAPEDITOR.GLOBAL.displayIncomingPolygons(),MAPEDITOR.GLOBAL.initOverlayList(),n.setMap(null),MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null)),MAPEDITOR.GLOBAL.DEFINES.isConvertedOverlay==!0&&(MAPEDITOR.UTILITIES.cacheSaveOverlay(MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex),MAPEDITOR.GLOBAL.DEFINES.isConvertedOverlay=!1));MAPEDITOR.GLOBAL.DEFINES.placerType=="poi"&&(MAPEDITOR.ACTIONS.openToolboxTab("poi"),MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0,MAPEDITOR.GLOBAL.DEFINES.poi_i++,MAPEDITOR.GLOBAL.DEFINES.label[MAPEDITOR.GLOBAL.DEFINES.poi_i]=new MarkerWithLabel({position:n.getBounds().getCenter(),zIndex:2,map:map,labelContent:MAPEDITOR.GLOBAL.DEFINES.poi_i+1,labelAnchor:new google.maps.Point(15,0),labelClass:"labels",labelStyle:{opacity:.75},icon:{}}),t=MAPEDITOR.GLOBAL.DEFINES.poi_i+1,MAPEDITOR.GLOBAL.DEFINES.poiObj[MAPEDITOR.GLOBAL.DEFINES.poi_i]=n,MAPEDITOR.GLOBAL.DEFINES.poiType[MAPEDITOR.GLOBAL.DEFINES.poi_i]="rectangle",i=MAPEDITOR.LOCALIZATION.DEFINES.L_Rectangle,document.getElementById("poiList").innerHTML+=MAPEDITOR.UTILITIES.writeHTML("poiListItem",MAPEDITOR.GLOBAL.DEFINES.poi_i,t,i),r=MAPEDITOR.UTILITIES.writeHTML("poiDesc",MAPEDITOR.GLOBAL.DEFINES.poi_i,"",""),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i]=new google.maps.InfoWindow({content:r}),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].setPosition(n.getBounds().getCenter()),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].open(map),MAPEDITOR.GLOBAL.DEFINES.poiCount==0&&setTimeout(function(){MAPEDITOR.GLOBAL.DEFINES.infoWindow[0].setMap(null);MAPEDITOR.GLOBAL.DEFINES.infoWindow[0].setMap(map)},800),MAPEDITOR.GLOBAL.DEFINES.poiCount++,MAPEDITOR.TRACER.addTracer("[INFO]: completed overlay bounds getter"),google.maps.event.addListener(n,"bounds_changed",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var t=0;t<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;t++)MAPEDITOR.GLOBAL.DEFINES.poiObj[t]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].setPosition(n.getBounds().getCenter()),MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].setMap(null),MAPEDITOR.GLOBAL.DEFINES.label[t].setPosition(n.getBounds().getCenter()),MAPEDITOR.GLOBAL.DEFINES.label[t].setMap(map))}),google.maps.event.addListener(n,"dragstart",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(null))}),google.maps.event.addListener(n,"drag",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(null))}),google.maps.event.addListener(n,"dragend",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var t=0;t<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;t++)MAPEDITOR.GLOBAL.DEFINES.poiObj[t]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].setPosition(n.getBounds().getCenter()),MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].open(null),MAPEDITOR.GLOBAL.DEFINES.label[t].setPosition(n.getBounds().getCenter()),MAPEDITOR.GLOBAL.DEFINES.label[t].setMap(map))}),google.maps.event.addListener(n,"click",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var t=0;t<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;t++)MAPEDITOR.GLOBAL.DEFINES.poiObj[t]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].setPosition(n.getBounds().getCenter()),MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].open(map))}));google.maps.event.addListener(n,"drag",function(){var i=n.getBounds().getCenter().toString(),t=i.replace("(","").replace(")","").split(",",1),r=i.replace(t,"").replace("(","").replace(")","").replace(",","");latH=t.indexOf("-")!=0?"N":"S";longH=r.indexOf("-")!=0?"W":"E";document.getElementById("cLat").innerHTML=t+" ("+latH+")";document.getElementById("cLong").innerHTML=r+" ("+longH+")"});google.maps.event.addListener(n,"rightclick",function(){MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null)})});google.maps.event.addListener(MAPEDITOR.GLOBAL.DEFINES.drawingManager,"polygoncomplete",function(n){var t,i,r;MAPEDITOR.UTILITIES.testBounds();MAPEDITOR.GLOBAL.DEFINES.placerType=="poi"&&(MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0,MAPEDITOR.ACTIONS.openToolboxTab("poi"),MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0,MAPEDITOR.GLOBAL.DEFINES.poi_i++,MAPEDITOR.GLOBAL.DEFINES.label[MAPEDITOR.GLOBAL.DEFINES.poi_i]=new MarkerWithLabel({position:MAPEDITOR.UTILITIES.polygonCenter(n),zIndex:2,map:map,labelContent:MAPEDITOR.GLOBAL.DEFINES.poi_i+1,labelAnchor:new google.maps.Point(15,0),labelClass:"labels",labelStyle:{opacity:.75},icon:{}}),t=MAPEDITOR.GLOBAL.DEFINES.poi_i+1,MAPEDITOR.GLOBAL.DEFINES.poiObj[MAPEDITOR.GLOBAL.DEFINES.poi_i]=n,MAPEDITOR.GLOBAL.DEFINES.poiType[MAPEDITOR.GLOBAL.DEFINES.poi_i]="polygon",i=MAPEDITOR.LOCALIZATION.DEFINES.L_Polygon,document.getElementById("poiList").innerHTML+=MAPEDITOR.UTILITIES.writeHTML("poiListItem",MAPEDITOR.GLOBAL.DEFINES.poi_i,t,i),r=MAPEDITOR.UTILITIES.writeHTML("poiDesc",MAPEDITOR.GLOBAL.DEFINES.poi_i,"",""),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i]=new google.maps.InfoWindow({content:r}),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].setPosition(MAPEDITOR.UTILITIES.polygonCenter(n)),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].open(map),MAPEDITOR.GLOBAL.DEFINES.poiCount==0&&setTimeout(function(){MAPEDITOR.GLOBAL.DEFINES.infoWindow[0].setMap(null);MAPEDITOR.GLOBAL.DEFINES.infoWindow[0].setMap(map)},800),MAPEDITOR.GLOBAL.DEFINES.poiCount++,google.maps.event.addListener(n.getPath(),"set_at",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var t=0;t<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;t++)MAPEDITOR.GLOBAL.DEFINES.poiObj[t]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].setPosition(MAPEDITOR.UTILITIES.polygonCenter(n)),MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].setMap(null),MAPEDITOR.GLOBAL.DEFINES.label[t].setPosition(MAPEDITOR.UTILITIES.polygonCenter(n)),MAPEDITOR.GLOBAL.DEFINES.label[t].setMap(map))}),google.maps.event.addListener(n,"dragstart",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(null))}),google.maps.event.addListener(n,"drag",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(null))}),google.maps.event.addListener(n,"dragend",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var t=0;t<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;t++)MAPEDITOR.GLOBAL.DEFINES.poiObj[t]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].setPosition(MAPEDITOR.UTILITIES.polygonCenter(n)),MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].open(null),MAPEDITOR.GLOBAL.DEFINES.label[t].setPosition(MAPEDITOR.UTILITIES.polygonCenter(n)),MAPEDITOR.GLOBAL.DEFINES.label[t].setMap(map))}),google.maps.event.addListener(n,"click",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var t=0;t<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;t++)MAPEDITOR.GLOBAL.DEFINES.poiObj[t]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].setPosition(MAPEDITOR.UTILITIES.polygonCenter(n)),MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].open(map))}));google.maps.event.addListener(n,"drag",function(){var i=MAPEDITOR.UTILITIES.polygonCenter(n).toString(),t=i.replace("(","").replace(")","").split(",",1),r=i.replace(t,"").replace("(","").replace(")","").replace(",","");latH=t.indexOf("-")!=0?"N":"S";longH=r.indexOf("-")!=0?"W":"E";document.getElementById("cLat").innerHTML=t+" ("+latH+")";document.getElementById("cLong").innerHTML=r+" ("+longH+")"});google.maps.event.addListener(n,"rightclick",function(){MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null)})});google.maps.event.addListener(MAPEDITOR.GLOBAL.DEFINES.drawingManager,"polylinecomplete",function(n){var u,f,e,t,i,o,r;MAPEDITOR.UTILITIES.testBounds();MAPEDITOR.GLOBAL.DEFINES.placerType=="poi"&&(MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0,MAPEDITOR.ACTIONS.openToolboxTab("poi"),MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0,MAPEDITOR.GLOBAL.DEFINES.poi_i++,u=MAPEDITOR.GLOBAL.DEFINES.poi_i+1,MAPEDITOR.GLOBAL.DEFINES.poiObj[MAPEDITOR.GLOBAL.DEFINES.poi_i]=n,MAPEDITOR.GLOBAL.DEFINES.poiType[MAPEDITOR.GLOBAL.DEFINES.poi_i]="polyline",f=MAPEDITOR.LOCALIZATION.DEFINES.L_Line,document.getElementById("poiList").innerHTML+=MAPEDITOR.UTILITIES.writeHTML("poiListItem",MAPEDITOR.GLOBAL.DEFINES.poi_i,u,f),e=MAPEDITOR.UTILITIES.writeHTML("poiDesc",MAPEDITOR.GLOBAL.DEFINES.poi_i,"",""),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i]=new google.maps.InfoWindow({content:e}),t=[],i=0,n.getPath().forEach(function(n){t[i]=n;MAPEDITOR.TRACER.addTracer("[INFO]: polylinePoints["+i+"] = "+n);i++}),MAPEDITOR.TRACER.addTracer("[INFO]: polylinePointCount: "+i),MAPEDITOR.TRACER.addTracer("[INFO]: polylinePoints.length: "+t.length),MAPEDITOR.TRACER.addTracer("[INFO]: Math.round((polylinePoints.length / 2)): "+Math.round(t.length/2)),o=t[Math.round(t.length/2)],MAPEDITOR.TRACER.addTracer("[INFO]: polylineCenterPoint: "+o),r=t[0],MAPEDITOR.TRACER.addTracer("[INFO]: polylineStartPoint: "+r),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].setPosition(r),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].open(map),MAPEDITOR.GLOBAL.DEFINES.poiCount==0&&setTimeout(function(){MAPEDITOR.GLOBAL.DEFINES.infoWindow[0].setMap(null);MAPEDITOR.GLOBAL.DEFINES.infoWindow[0].setMap(map)},800),MAPEDITOR.GLOBAL.DEFINES.poiCount++,MAPEDITOR.GLOBAL.DEFINES.label[MAPEDITOR.GLOBAL.DEFINES.poi_i]=new MarkerWithLabel({position:r,zIndex:2,map:map,labelContent:u,labelAnchor:new google.maps.Point(15,0),labelClass:"labels",labelStyle:{opacity:.75},icon:{}}),google.maps.event.addListener(n.getPath(),"set_at",function(){var t,i,r,f,u;for(MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0,MAPEDITOR.ACTIONS.openToolboxTab("poi"),MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0,MAPEDITOR.TRACER.addTracer("[INFO]: is poi"),t=0;t<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;t++)MAPEDITOR.TRACER.addTracer("[INFO]: inside loop1"),MAPEDITOR.GLOBAL.DEFINES.poiObj[t].getPath()==this&&(i=[],r=0,MAPEDITOR.TRACER.addTracer("[INFO]: here1"),n.getPath().forEach(function(n){i[r]=n;r++}),MAPEDITOR.TRACER.addTracer("[INFO]: here2"),f=i[i.length/2],u=i[0],MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].setPosition(u),MAPEDITOR.GLOBAL.DEFINES.infoWindow[MAPEDITOR.GLOBAL.DEFINES.poi_i].open(null),MAPEDITOR.GLOBAL.DEFINES.label[t].setPosition(u),MAPEDITOR.GLOBAL.DEFINES.label[t].setMap(map),MAPEDITOR.TRACER.addTracer("[INFO]: here3"))}),google.maps.event.addListener(n,"dragstart",function(){MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.ACTIONS.openToolboxTab("poi");MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0;for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;n++)MAPEDITOR.GLOBAL.DEFINES.poiObj[n]==this&&(MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null),MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(null))}),google.maps.event.addListener(n,"click",function(){var t,i,r,f,u;for(MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0,MAPEDITOR.ACTIONS.openToolboxTab("poi"),MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0,t=0;t<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;t++)MAPEDITOR.GLOBAL.DEFINES.poiObj[t]==this&&(i=[],r=0,n.getPath().forEach(function(n){i[r]=n;r++}),f=i[i.length/2],u=i[0],MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].setPosition(u),MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].open(map))}),google.maps.event.addListener(n,"dragend",function(){var t,i,r,f,u;for(MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0,MAPEDITOR.ACTIONS.openToolboxTab("poi"),MAPEDITOR.GLOBAL.DEFINES.firstSavePOI=!0,t=0;t<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;t++)MAPEDITOR.GLOBAL.DEFINES.poiObj[t]==this&&(i=[],r=0,n.getPath().forEach(function(n){i[r]=n;r++}),f=i[i.length/2],u=i[0],MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].setPosition(u),MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].open(null),MAPEDITOR.GLOBAL.DEFINES.label[t].setPosition(u),MAPEDITOR.GLOBAL.DEFINES.label[t].setMap(map))}));google.maps.event.addListener(n,"drag",function(){var i=new google.maps.LatLngBounds;n.getPath().forEach(function(n){i.extend(n)});var f=i.getCenter(),r=f.toString(),t=r.replace("(","").replace(")","").split(",",1),u=r.replace(t,"").replace("(","").replace(")","").replace(",","");latH=t.indexOf("-")!=0?"N":"S";longH=u.indexOf("-")!=0?"W":"E";document.getElementById("cLat").innerHTML=t+" ("+latH+")";document.getElementById("cLong").innerHTML=u+" ("+longH+")"});google.maps.event.addListener(n,"rightclick",function(){MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null)})});google.maps.event.addListener(map,"click",function(){document.activeElement.blur()});google.maps.event.addListener(map,"rightclick",function(){MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null)});google.maps.event.addDomListener(map,"mousemove",function(n){if(MAPEDITOR.GLOBAL.DEFINES.cCoordsFrozen=="no"){var i=n.latLng.toString(),t=i.replace("(","").replace(")","").split(",",1),r=i.replace(t,"").replace("(","").replace(")","").replace(",","");latH=t.indexOf("-")!=0?"N":"S";longH=r.indexOf("-")!=0?"W":"E";document.getElementById("cLat").innerHTML=t+" ("+latH+")";document.getElementById("cLong").innerHTML=r+" ("+longH+")"}});google.maps.event.addListener(map,"dragend",function(){MAPEDITOR.UTILITIES.testBounds()});google.maps.event.addListener(map,"zoom_changed",function(){MAPEDITOR.UTILITIES.checkZoomLevel()});MAPEDITOR.GLOBAL.DEFINES.kmlLayer!=""&&google.maps.event.addListener(MAPEDITOR.GLOBAL.DEFINES.kmlLayer,"click",function(n){var t=n.featureData.name;MAPEDITOR.UTILITIES.displayMessage("ParcelID: "+t)});initGeoObjects();google.maps.event.addListenerOnce(map,"tilesloaded",function(){MAPEDITOR.GLOBAL.initOptions();MAPEDITOR.GLOBAL.initOverlayList();MAPEDITOR.GLOBAL.initNonStaticVars();MAPEDITOR.UTILITIES.resizeView()});MAPEDITOR.TRACER.addTracer("[INFO]: initGMap completed...")}catch(n){MAPEDITOR.TRACER.addTracer("[ERROR]: "+n+" at line "+n.lineNumber)}},initGMapObjects:function(){try{MAPEDITOR.TRACER.addTracer("[INFO]: MAPEDITOR.GLOBAL.initGMapObjects started...");MAPEDITOR.UTILITIES.CustomOverlay.prototype.onAdd=function(){var n=document.createElement("div"),t,i;n.id="overlay"+this.index_;n.style.borderStyle="none";n.style.borderWidth="0px";n.style.position="absolute";n.style.opacity=MAPEDITOR.GLOBAL.DEFINES.preservedOpacity;t=document.createElement("img");t.src=this.image_;t.style.width="100%";t.style.height="100%";t.style.position="absolute";n.appendChild(t);this.div_=n;i=this.getPanes();i.overlayLayer.appendChild(n)};MAPEDITOR.UTILITIES.CustomOverlay.prototype.draw=function(){var r=this.getProjection(),t=r.fromLatLngToDivPixel(this.bounds_.getSouthWest()),i=r.fromLatLngToDivPixel(this.bounds_.getNorthEast()),n=this.div_,u;n.style.left=t.x+"px";n.style.top=i.y+"px";n.style.width=i.x-t.x+"px";n.style.height=t.y-i.y+"px";u=MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex;MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex=this.index_;MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation[this.index_-1]!=undefined?MAPEDITOR.UTILITIES.keepRotate(MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation[this.index_-1]):MAPEDITOR.UTILITIES.keepRotate(MAPEDITOR.GLOBAL.DEFINES.incomingPolygonRotation[this.index_-1]);MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex=u};MAPEDITOR.UTILITIES.CustomOverlay.prototype.onRemove=function(){this.div_.parentNode.removeChild(this.div_);this.div_=null};MAPEDITOR.GLOBAL.DEFINES.gmapOptions={disableDefaultUI:!1,zoom:MAPEDITOR.GLOBAL.DEFINES.defaultZoomLevel,minZoom:MAPEDITOR.GLOBAL.DEFINES.maxZoomLevel,center:MAPEDITOR.GLOBAL.DEFINES.mapCenter,mapTypeId:google.maps.MapTypeId.ROADMAP,streetViewControl:!1,tilt:0,zoomControl:!1,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.LEFT_TOP},panControl:!1,panControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},mapTypeControl:!1,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU,position:google.maps.ControlPosition.RIGHT_TOP},styles:[{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"labels",stylers:[{visibility:"off"}]}]};MAPEDITOR.GLOBAL.DEFINES.drawingManager.setOptions({drawingControl:!1,drawingControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP,drawingModes:[google.maps.drawing.OverlayType.MARKER,google.maps.drawing.OverlayType.CIRCLE,google.maps.drawing.OverlayType.RECTANGLE,google.maps.drawing.OverlayType.POLYGON,google.maps.drawing.OverlayType.POLYLINE]},markerOptions:MAPEDITOR.GLOBAL.DEFINES.markerOptionsDefault,circleOptions:MAPEDITOR.GLOBAL.DEFINES.circleOptionsDefault,polygonOptions:MAPEDITOR.GLOBAL.DEFINES.polygonOptionsDefault,polylineOptions:MAPEDITOR.GLOBAL.DEFINES.polylineOptionsDefault,rectangleOptions:MAPEDITOR.GLOBAL.DEFINES.rectangleOptionsDefault});MAPEDITOR.GLOBAL.DEFINES.copyrightNode=document.createElement("div");MAPEDITOR.GLOBAL.DEFINES.copyrightNode.id="copyright-control";MAPEDITOR.GLOBAL.DEFINES.copyrightNode.style.fontSize="10px";MAPEDITOR.GLOBAL.DEFINES.copyrightNode.style.color="#333333";MAPEDITOR.GLOBAL.DEFINES.copyrightNode.style.fontFamily="Arial, sans-serif";MAPEDITOR.GLOBAL.DEFINES.copyrightNode.style.margin="0 2px 2px 0";MAPEDITOR.GLOBAL.DEFINES.copyrightNode.style.whiteSpace="nowrap";MAPEDITOR.GLOBAL.DEFINES.copyrightNode.index=0;MAPEDITOR.GLOBAL.DEFINES.copyrightNode.style.backgroundColor="#FFFFFF";MAPEDITOR.GLOBAL.DEFINES.copyrightNode.style.opacity=.71;MAPEDITOR.GLOBAL.DEFINES.copyrightNode.innerHTML=MAPEDITOR.LOCALIZATION.DEFINES.L1;MAPEDITOR.GLOBAL.DEFINES.cursorLatLongTool=document.createElement("div");MAPEDITOR.GLOBAL.DEFINES.cursorLatLongTool.id="cursorLatLongTool";MAPEDITOR.GLOBAL.DEFINES.cursorLatLongTool.style.fontSize="10px";MAPEDITOR.GLOBAL.DEFINES.cursorLatLongTool.style.color="#333333";MAPEDITOR.GLOBAL.DEFINES.cursorLatLongTool.style.fontFamily="Arial, sans-serif";MAPEDITOR.GLOBAL.DEFINES.cursorLatLongTool.style.margin="0 2px 2px 0";MAPEDITOR.GLOBAL.DEFINES.cursorLatLongTool.style.whiteSpace="nowrap";MAPEDITOR.GLOBAL.DEFINES.cursorLatLongTool.index=0;MAPEDITOR.GLOBAL.DEFINES.cursorLatLongTool.style.backgroundColor="#FFFFFF";MAPEDITOR.GLOBAL.DEFINES.cursorLatLongTool.style.opacity=.71;MAPEDITOR.GLOBAL.DEFINES.cursorLatLongTool.innerHTML=MAPEDITOR.LOCALIZATION.DEFINES.L2;MAPEDITOR.GLOBAL.DEFINES.toolbarBufferZone1=document.createElement("div");MAPEDITOR.GLOBAL.DEFINES.toolbarBufferZone1.id="toolbarBufferZone1";MAPEDITOR.GLOBAL.DEFINES.toolbarBufferZone1.style.height="50px";MAPEDITOR.GLOBAL.DEFINES.toolbarBufferZone2=document.createElement("div");MAPEDITOR.GLOBAL.DEFINES.toolbarBufferZone2.id="toolbarBufferZone2";MAPEDITOR.GLOBAL.DEFINES.toolbarBufferZone2.style.height="50px";MAPEDITOR.TRACER.addTracer("[INFO]: MAPEDITOR.GLOBAL.initGMapObjects completed...")}catch(n){MAPEDITOR.TRACER.addTracer("[ERROR]: "+n+" at line "+n.lineNumber)}},initNonStaticVars:function(){try{MAPEDITOR.TRACER.addTracer("[INFO]: initNonStaticVars started...");document.getElementById("debugVersionNumber").innerHTML=MAPEDITOR.TRACER.DEFINES.debugVersionNumber;MAPEDITOR.TRACER.addTracer("[INFO]: initNonStaticVars completed...")}catch(n){MAPEDITOR.TRACER.addTracer("[ERROR]: "+n+" at line "+n.lineNumber)}}}}(),LOCALIZATION:function(){return{DEFINES:function(){return{L_Error1:"ERROR: Failed Adding Listeners",L_Marker:"Marker",L_Circle:"Circle",L_Rectangle:"Rectangle",L_Polygon:"Polygon",L_Line:"Line",L_Saved:"Saved",L_Applied:"Applied",L_Completed:"Completed",L_Working:"Working...",L_NotSaved:"Nothing To Save",L_NotCleared:"Nothing To Reset",L_Save:"Save",L_Apply:"Apply",L_Editing:"Editing",L_Removed:"Removed",L_Showing:"Showing",L_Hiding:"Hiding",L_Deleted:"Deleted",L_NotDeleted:"Nothing To Delete",L1:'<div style="font-size:.95em,">SobekCM Plugin <div id="debugVersionNumber"><\/div> &nbsp&nbsp&nbsp <a target="_blank" href="http://www.uflib.ufl.edu/accesspol.html" style="font-size:9px,text-decoration:none,">Legal<\/a> &nbsp&nbsp&nbsp <a target="_blank" href="http://ufdc.ufl.edu/contact" style="font-size:9px,text-decoration:none,">Report a Sobek error<\/a> &nbsp<\/div>',L2:'lat: <a id="cLat"><\/a><br/>long: <a id="cLong"><\/a>',L3:"Description (Optional)",L4:"Geolocation Service Failed.",L5:"Returned to Bounds!",L6:"Could not find location. Either the format you entered is invalid or the location is outside of the map bounds.",L7:"Error: Overlay image source cannot contain a ~ or |",L8:"Error: Description cannot contain a ~ or |",L9:"Item Location Reset!",L10:"Overlays Reset!",L11:"POI Set Cleared!",L12:"Nothing Happened!",L13:"Item Saved!",L14:"Overlay Saved!",L15:"POI Set Saved!",L16:"Cannot Zoom Out Further",L17:"Cannot Zoom In Further",L18:"Using Search Results as Location",L19:"Coordinates Copied To Clipboard",L20:"Coordinates Viewer Frozen",L21:"Coordinates Viewer UnFrozen",L22:"Hiding Overlays",L23:"Showing Overlays",L24:"Could not find within bounds.",L25:"geocoder failed due to:",L26:"Overlay Editing Turned Off",L27:"Overlay Editing Turned On",L28:"ERROR: Failed Adding Titles",L29:"ERROR: Failed Adding Textual Content",L30:"Edit Location by Dragging Exisiting Marker",L31:"Hiding",L32:"Showing",L33:"Removed",L34:"Editing",L35:"Apply Changes (Make Changes Public)",L36:"Apply",L37:"Save",L38:"Save to Temporary File",L39:"Nothing To Search",L40:"Cannot Convert",L41:"Select The Area To Draw The Overlay",L42:"Hiding POIs",L43:"Showing POIs",L44:"Converted Item To Overlay",L45:"Nothing To Toggle",L46:"Not Cleared",L47:"Warning! This will erase any changes you have made. Do you still want to proceed?",L48:"Reseting Page",L49:"Did Not Reset Page",L50:"Finding Your Location.",L51:"Error Adding Other Listeners",L52:"Reseting Overlays",L53:"Reseting POIs",L54:"This will delete the geographic coordinate data for this overlay, are you sure?",L55:"Coordinate Data Removed For",L56:"Nothing to Hide",L57:"Nothing to Delete",L58:"Canceling...",L59:"Saving...",L60:"Edit This Overlay",L61:"Toggle On Map",L62:"Delete Search Result",L63:"Delete POI",L64:"Delete Coordinate Data For Overlay",L65:"Save This Description",L66:"Edit This POI",L67:"Item Location Converted to Listing Overlays",L68:"Overaly Geographic Data Deleted",L69:"Item Geographic Location Deleted",L70:"This will delete the geographic coordinate data for this item, are you sure?",L71:"Save Description",L72:"This will delete all of the POIs, are you sure?"}}(),localizeByTooltips:function(){try{MAPEDITOR.TRACER.addTracer("[INFO]: localizeByTooltips started...");document.getElementById("content_toolbar_button_reset").className+=" lytetip";document.getElementById("content_toolbar_button_reset").title="Reset Me";document.getElementById("content_toolbar_button_toggleMapControls").title="Controls: Toggle Map Controls";document.getElementById("content_toolbar_button_toggleToolbox").title="Toolbox: Toggle Toolbox";document.getElementById("content_toolbar_button_layerRoadmap").title="Roadmap: Toggle Road Map Layer";document.getElementById("content_toolbar_button_layerTerrain").title="Terrain: Toggle Terrain Map Layer";document.getElementById("content_toolbar_button_layerSatellite").title="Satellite: Toggle Satellite Map Layer";document.getElementById("content_toolbar_button_layerHybrid").title="Hybrid: Toggle Hybrid Map Layer";document.getElementById("content_toolbar_button_layerCustom").title="Block/Lot: Toggle Block/Lot Map Layer";document.getElementById("content_toolbar_button_layerReset").title="Reset: Reset Map Type";document.getElementById("content_toolbar_button_panUp").title="Up: Pan Map Up";document.getElementById("content_toolbar_button_panLeft").title="Left: Pan Map Left";document.getElementById("content_toolbar_button_panReset").title="Default: Pan Map To Default";document.getElementById("content_toolbar_button_panRight").title="Right: Pan Map Right";document.getElementById("content_toolbar_button_panDown").title="Down: Pan Map Down";document.getElementById("content_toolbar_button_zoomIn").title="In: Zoom Map In";document.getElementById("content_toolbar_button_zoomReset").title="Reset: Reset Zoom Level";document.getElementById("content_toolbar_button_zoomOut").title="Out: Zoom Map Out";document.getElementById("content_toolbar_button_manageItem").title="Manage Location Details";document.getElementById("content_toolbar_button_manageOverlay").title="Manage Map Coverage";document.getElementById("content_toolbar_button_managePOI").title="Manage Points of Interest";document.getElementById("content_toolbar_button_manageSearch").title="Locate: Find A Location On The Map";document.getElementById("content_toolbar_searchField").title="Locate: Find A Location On The Map";document.getElementById("content_toolbar_searchButton").title="Locate: Find A Location On The Map";document.getElementById("content_toolbarGrabber").title="Toolbar: Toggle the Toolbar";document.getElementById("content_toolbox_button_layerRoadmap").title="Roadmap: Toggle Road Map Layer";document.getElementById("content_toolbox_button_layerTerrain").title="Terrain: Toggle Terrain Map Layer";document.getElementById("content_toolbox_button_panUp").title="Up: Pan Map Up";document.getElementById("content_toolbox_button_layerSatellite").title="Satellite: Toggle Satellite Map Layer";document.getElementById("content_toolbox_button_layerHybrid").title="Hybrid: Toggle Hybrid Map Layer";document.getElementById("content_toolbox_button_panLeft").title="Left: Pan Map Left";document.getElementById("content_toolbox_button_panReset").title="Default: Pan Map To Default";document.getElementById("content_toolbox_button_panRight").title="Right: Pan Map Right";document.getElementById("content_toolbox_button_layerCustom").title="Block/Lot: Toggle Block/Lot Map Layer";document.getElementById("content_toolbox_button_layerReset").title="Reset: Reset Map Type";document.getElementById("content_toolbox_button_panDown").title="Down: Pan Map Down";document.getElementById("content_toolbox_button_reset").title="Reset: Reset Map To Defaults";document.getElementById("content_toolbox_button_toggleMapControls").title="Controls: Toggle Map Controls";document.getElementById("content_toolbox_button_zoomIn").title="In: Zoom Map In";document.getElementById("content_toolbox_button_zoomReset").title="Reset: Reset Zoom Level";document.getElementById("content_toolbox_button_zoomOut").title="Out: Zoom Map Out";document.getElementById("content_toolbox_button_manageItem").title="Manage Location Details";document.getElementById("content_toolbox_button_manageOverlay").title="Manage Map Coverage";document.getElementById("content_toolbox_button_managePOI").title="Manage Points of Interest";document.getElementById("content_toolbox_searchField").title="Locate: Find A Location On The Map";document.getElementById("content_toolbox_searchButton").title="Locate: Find A Location On The Map";document.getElementById("searchResults_container").title="Locate: Find A Location On The Map";document.getElementById("content_toolbox_button_itemPlace").title="Edit Location";document.getElementById("content_toolbox_button_itemGetUserLocation").title="Center On Your Current Position";document.getElementById("content_toolbox_button_useSearchAsLocation").title="Use Search Result As Location";document.getElementById("content_toolbox_button_convertToOverlay").title="Convert This To a Map Overlay";document.getElementById("content_toolbox_posItem").title="Coordinates: This is the selected Latitude and Longitude of the point you selected.";document.getElementById("content_toolbox_rgItem").title="Address: This is the nearest address of the point you selected.";document.getElementById("content_toolbox_button_saveItem").title="Save Location Changes";document.getElementById("content_toolbox_button_clearItem").title="Reset Location Changes";document.getElementById("content_toolbox_button_deleteItem").title="Delete Geographic Location";document.getElementById("content_toolbox_button_overlayGetUserLocation").title="Center On Your Current Position";document.getElementById("content_toolbox_button_overlayToggle").title="Toggle All Overlays On Map";document.getElementById("rotation").title="Rotate: Edit the rotation value";document.getElementById("rotationKnob").title="Rotate: Edit the rotation value";document.getElementById("content_toolbox_rotationCounterClockwise").title="Tenth Degree Left: Click to Rotate a Tenth Degree Counter-Clockwise";document.getElementById("content_toolbox_rotationReset").title="Reset: Click to Reset Rotation";document.getElementById("content_toolbox_rotationClockwise").title="Tenth Degree Right: Click to Rotate a Tenth Degree Clockwise";document.getElementById("transparency").title="Transparency: Set the transparency of this Overlay";document.getElementById("content_toolbox_button_saveOverlay").title="Save Overlay Changes";document.getElementById("content_toolbox_button_clearOverlay").title="Reset All Overlay Changes";document.getElementById("content_toolbox_button_poiGetUserLocation").title="Center On Your Current Position";document.getElementById("content_toolbox_button_poiToggle").title="Toggle All POIs On Map";document.getElementById("content_toolbox_button_poiMarker").title="Marker: Place a Point";document.getElementById("content_toolbox_button_poiCircle").title="Circle: Place a Circle";document.getElementById("content_toolbox_button_poiRectangle").title="rectangle: Place a rectangle";document.getElementById("content_toolbox_button_poiPolygon").title="Polygon: Place a Polygon";document.getElementById("content_toolbox_button_poiLine").title="Line: Place a Line";document.getElementById("content_toolbox_button_savePOI").title="Save Point Of Interest Set";document.getElementById("content_toolbox_button_clearPOI").title="Clear Point Of Interest Set";MAPEDITOR.TRACER.addTracer("[INFO]: localizeByTooltips completed...")}catch(n){alert(MAPEDITOR.LOCALIZATION.DEFINES.L28+": "+n+" at line "+n.lineNumber);MAPEDITOR.TRACER.addTracer("[ERROR]: "+n+" at line "+n.lineNumber)}},localizeByText:function(){try{MAPEDITOR.TRACER.addTracer("[INFO]: localizeByText started...");document.getElementById("content_menubar_header1").innerHTML="File";document.getElementById("content_menubar_header2").innerHTML="Controls";document.getElementById("content_menubar_header2Sub1").innerHTML="View";document.getElementById("content_menubar_header2Sub2").innerHTML="Layers";document.getElementById("content_menubar_header2Sub3").innerHTML="Zoom";document.getElementById("content_menubar_header2Sub4").innerHTML="Pan";document.getElementById("content_menubar_header3").innerHTML="Actions";document.getElementById("content_menubar_manageSearch").innerHTML="Find Location";document.getElementById("content_menubar_manageItem").innerHTML="Manage Location";document.getElementById("content_menubar_manageOverlay").innerHTML="Manage Ovelays";document.getElementById("content_menubar_header3Sub3Sub1").innerHTML="Rotate";document.getElementById("content_menubar_header3Sub3Sub2").innerHTML="Tranparency";document.getElementById("content_menubar_managePOI").innerHTML="Manage POIs";document.getElementById("content_menubar_header3Sub4Sub1").innerHTML="Place";document.getElementById("content_menubar_header4").innerHTML="Help";document.getElementById("content_menubar_save").innerHTML="Complete Editing";document.getElementById("content_menubar_cancel").innerHTML="Cancel Editing";document.getElementById("content_menubar_reset").innerHTML="Reset All Changes";document.getElementById("content_menubar_toggleMapControls").innerHTML="Map Controls";document.getElementById("content_menubar_toggleToolbox").innerHTML="Toolbox";document.getElementById("content_menubar_toggleToolbar").innerHTML="Toolbar";document.getElementById("content_menubar_layerRoadmap").innerHTML="Roadmap";document.getElementById("content_menubar_layerSatellite").innerHTML="Satellite";document.getElementById("content_menubar_layerHybrid").innerHTML="Hybrid";document.getElementById("content_menubar_layerTerrain").innerHTML="Terrain";document.getElementById("content_menubar_layerCustom").innerHTML="Custom";document.getElementById("content_menubar_layerReset").innerHTML="Reset";document.getElementById("content_menubar_zoomIn").innerHTML="Zoom In";document.getElementById("content_menubar_zoomOut").innerHTML="Zoom Out";document.getElementById("content_menubar_zoomReset").innerHTML="Reset";document.getElementById("content_menubar_panUp").innerHTML="Pan Up";document.getElementById("content_menubar_panRight").innerHTML="Pan Right";document.getElementById("content_menubar_panDown").innerHTML="Pan Down";document.getElementById("content_menubar_panLeft").innerHTML="Pan Left";document.getElementById("content_menubar_panReset").innerHTML="Reset";document.getElementById("content_menubar_searchField").setAttribute("placeholder","Find a Location");document.getElementById("content_menubar_itemGetUserLocation").innerHTML="Center On Current Location";document.getElementById("content_menubar_itemPlace").innerHTML="Edit Location";document.getElementById("content_menubar_useSearchAsLocation").innerHTML="Use Search Result As Location";document.getElementById("content_menubar_convertToOverlay").innerHTML="Convert To Overlay";document.getElementById("content_menubar_itemReset").innerHTML="Reset Location";document.getElementById("content_menubar_itemDelete").innerHTML="Delete Geographic Location";document.getElementById("content_menubar_overlayGetUserLocation").innerHTML="Center On Current Location";document.getElementById("content_menubar_overlayToggle").innerHTML="Toggle All Map Overlays";document.getElementById("content_menubar_rotationClockwise").innerHTML="Clockwise";document.getElementById("content_menubar_rotationCounterClockwise").innerHTML="Counter-Clockwise";document.getElementById("content_menubar_rotationReset").innerHTML="Reset";document.getElementById("content_menubar_transparencyDarker").innerHTML="Darker";document.getElementById("content_menubar_transparencyLighter").innerHTML="Lighter";document.getElementById("content_menubar_transparencyReset").innerHTML="Reset";document.getElementById("content_menubar_overlayReset").innerHTML="Reset Overlays";document.getElementById("content_menubar_poiGetUserLocation").innerHTML="Center On Current Location";document.getElementById("content_menubar_poiToggle").innerHTML="Toggle POIs On Map";document.getElementById("content_menubar_poiReset").innerHTML="Reset POIs";document.getElementById("content_menubar_poiMarker").innerHTML="Marker";document.getElementById("content_menubar_poiCircle").innerHTML="Circle";document.getElementById("content_menubar_poiRectangle").innerHTML="rectangle";document.getElementById("content_menubar_poiPolygon").innerHTML="Polygon";document.getElementById("content_menubar_poiLine").innerHTML="Line";document.getElementById("content_menubar_documentation").innerHTML="Documentation";document.getElementById("content_menubar_reportAProblem").innerHTML="Report A Problem";document.getElementById("content_minibar_header").innerHTML="Toolbox";document.getElementById("content_toolbox_button_saveItem").value="Save";document.getElementById("content_toolbox_button_clearItem").value="Reset";document.getElementById("content_toolbox_button_deleteItem").value="Delete";document.getElementById("content_toolbox_button_saveOverlay").value="Save";document.getElementById("content_toolbox_button_clearOverlay").value="Reset";document.getElementById("content_toolbox_button_savePOI").value="Save";document.getElementById("content_toolbox_button_clearPOI").value="Reset";document.getElementById("content_toolbox_tab1_header").innerHTML="Map Controls";document.getElementById("content_toolbox_tab2_header").innerHTML="Actions";document.getElementById("content_toolbox_tab3_header").innerHTML="Manage Location";document.getElementById("content_toolbox_tab4_header").innerHTML="Manage Overlay";document.getElementById("content_toolbox_tab5_header").innerHTML="Manage POI";document.getElementById("content_toolbar_searchField").setAttribute("placeholder","Find a Location");document.getElementById("content_toolbox_searchField").setAttribute("placeholder","Find a Location");document.getElementById("content_toolbox_posItem").setAttribute("placeholder","Selected Lat/Long");document.getElementById("content_toolbox_rgItem").setAttribute("placeholder","Nearest Address");MAPEDITOR.TRACER.addTracer("[INFO]: localizeByText completed...")}catch(n){alert(MAPEDITOR.LOCALIZATION.DEFINES.L29);MAPEDITOR.TRACER.addTracer("[ERROR]: "+n+" at line "+n.lineNumber)}}}}(),ACTIONS:function(){return{resetAll:function(){try{MAPEDITOR.TRACER.addTracer("[INFO]: resetAll started...");document.location.reload(!0);MAPEDITOR.TRACER.addTracer("[INFO]: resetAll completed...")}catch(n){MAPEDITOR.TRACER.addTracer("[ERROR]: "+n+" at line "+n.lineNumber)}},toggleVis:function(n){var i,t;try{MAPEDITOR.TRACER.addTracer("[INFO]: toggleVis started...");switch(n){case"mapControls":MAPEDITOR.GLOBAL.DEFINES.mapControlsDisplayed==!0?(map.setOptions({zoomControl:!1,panControl:!1,mapTypeControl:!1}),MAPEDITOR.GLOBAL.DEFINES.mapControlsDisplayed=!1):(map.setOptions({zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.LEFT_TOP},panControl:!0,panControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU,position:google.maps.ControlPosition.RIGHT_TOP}}),MAPEDITOR.GLOBAL.DEFINES.mapControlsDisplayed=!0);MAPEDITOR.UTILITIES.buttonActive("mapControls");break;case"toolbox":MAPEDITOR.GLOBAL.DEFINES.toolboxDisplayed==!0?(document.getElementById("mapedit_container_toolbox").style.display="none",document.getElementById("mapedit_container_toolboxTabs").style.display="none",MAPEDITOR.GLOBAL.DEFINES.toolboxDisplayed=!1):($("#mapedit_container_toolbox").animate({top:"75px",left:"100px"}),document.getElementById("mapedit_container_toolbox").style.display="block",document.getElementById("mapedit_container_toolboxTabs").style.display="block",document.getElementById("mapedit_container_toolbox").style.height="auto",MAPEDITOR.GLOBAL.DEFINES.toolboxDisplayed=!0);MAPEDITOR.UTILITIES.buttonActive("toolbox");break;case"toolbar":MAPEDITOR.GLOBAL.DEFINES.toolbarDisplayed==!0?($("#mapedit_container_pane_1").hide(),document.getElementById("mapedit_container_toolbarGrabber").style.marginTop="0",MAPEDITOR.GLOBAL.DEFINES.toolbarDisplayed=!1):($("#mapedit_container_pane_1").show(),document.getElementById("mapedit_container_toolbarGrabber").style.marginTop="48px",MAPEDITOR.GLOBAL.DEFINES.toolbarDisplayed=!0);MAPEDITOR.UTILITIES.buttonActive("toolbar");break;case"kml":MAPEDITOR.GLOBAL.DEFINES.kmlDisplayed==!0?(MAPEDITOR.GLOBAL.DEFINES.kmlLayer.setMap(null),MAPEDITOR.GLOBAL.DEFINES.kmlDisplayed=!1):(MAPEDITOR.GLOBAL.DEFINES.kmlLayer.setMap(map),MAPEDITOR.GLOBAL.DEFINES.kmlDisplayed=!0);MAPEDITOR.UTILITIES.buttonActive("kml");break;case"toolboxMin":$("#mapedit_container_toolboxTabs").hide();document.getElementById("mapedit_container_toolbox").style.height="15px";break;case"toolboxMax":$("#mapedit_container_toolboxTabs").show();document.getElementById("mapedit_container_toolbox").style.height="auto";break;case"mapDrawingManager":MAPEDITOR.GLOBAL.DEFINES.mapDrawingManagerDisplayed==!0?(MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null),MAPEDITOR.GLOBAL.DEFINES.drawingManager.setMap(null),MAPEDITOR.GLOBAL.DEFINES.mapDrawingManagerDisplayed=!1):(MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null),MAPEDITOR.GLOBAL.DEFINES.drawingManager.setMap(map),MAPEDITOR.GLOBAL.DEFINES.mapDrawingManagerDisplayed=!0);break;case"overlays":if(MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap.length){if(MAPEDITOR.GLOBAL.DEFINES.overlaysCurrentlyDisplayed==!0)for(MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L22),t=1;t<MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap.length;t++){if(MAPEDITOR.TRACER.addTracer("[INFO]: overlay count "+MAPEDITOR.GLOBAL.DEFINES.overlayCount),MAPEDITOR.GLOBAL.DEFINES.RIBMode=!0,document.getElementById("overlayToggle"+t))for(MAPEDITOR.TRACER.addTracer("[INFO]: found: overlayToggle"+t),i=0;i<MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPolygonType.length;i++)try{MAPEDITOR.ACTIONS.overlayHideMe(t+i)}catch(u){MAPEDITOR.TRACER.addTracer("[INFO]: overlayOnMap["+(t+i)+"] not found")}else MAPEDITOR.TRACER.addTracer("[INFO]: did not find: overlayToggle"+t);MAPEDITOR.GLOBAL.DEFINES.RIBMode=!1;MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[t].setMap(null);MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[t].setMap(null);MAPEDITOR.GLOBAL.DEFINES.overlaysCurrentlyDisplayed=!1;MAPEDITOR.GLOBAL.DEFINES.buttonActive_overlayToggle=!0}else for(MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L23),t=1;t<MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap.length;t++)MAPEDITOR.TRACER.addTracer("[INFO]: oom "+MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap.length),MAPEDITOR.GLOBAL.DEFINES.RIBMode=!0,document.getElementById("overlayToggle"+t)?(MAPEDITOR.TRACER.addTracer("[INFO]: found: overlayToggle"+t),MAPEDITOR.ACTIONS.overlayShowMe(t)):MAPEDITOR.TRACER.addTracer("[INFO]: did not find: overlayToggle"+t),MAPEDITOR.GLOBAL.DEFINES.RIBMode=!1,MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[t].setMap(map),MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[t].setMap(map),MAPEDITOR.GLOBAL.DEFINES.overlaysCurrentlyDisplayed=!0,MAPEDITOR.GLOBAL.DEFINES.buttonActive_overlayToggle=!1;MAPEDITOR.UTILITIES.buttonActive("overlayToggle")}else MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L45);break;case"pois":if(MAPEDITOR.GLOBAL.DEFINES.poiCount)if(MAPEDITOR.TRACER.addTracer("[INFO]: poi count: "+MAPEDITOR.GLOBAL.DEFINES.poiCount),MAPEDITOR.UTILITIES.buttonActive("poiToggle"),MAPEDITOR.GLOBAL.DEFINES.poiToggleState=="displayed")for(t=0;t<MAPEDITOR.GLOBAL.DEFINES.poiCount;t++)MAPEDITOR.ACTIONS.poiHideMe(t),MAPEDITOR.GLOBAL.DEFINES.poiToggleState="hidden",MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L42);else for(t=0;t<MAPEDITOR.GLOBAL.DEFINES.poiCount;t++)MAPEDITOR.ACTIONS.poiShowMe(t),MAPEDITOR.GLOBAL.DEFINES.poiToggleState="displayed",MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L43);else MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L45)}MAPEDITOR.TRACER.addTracer("[INFO]: toggleVis completed...")}catch(r){MAPEDITOR.TRACER.addTracer("[ERROR]: "+r+" at line "+r.lineNumber)}},changeMapLayer:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: changeMapLayer started...");switch(n){case"roadmap":map.setMapTypeId(google.maps.MapTypeId.ROADMAP);MAPEDITOR.GLOBAL.DEFINES.mapLayerActive="Roadmap";break;case"terrain":map.setMapTypeId(google.maps.MapTypeId.TERRAIN);MAPEDITOR.GLOBAL.DEFINES.mapLayerActive="Terrain";break;case"satellite":map.setMapTypeId(google.maps.MapTypeId.SATELLITE);MAPEDITOR.GLOBAL.DEFINES.mapLayerActive="Satellite";break;case"hybrid":map.setMapTypeId(google.maps.MapTypeId.HYBRID);MAPEDITOR.GLOBAL.DEFINES.mapLayerActive="Hybrid";break;case"custom":MAPEDITOR.ACTIONS.toggleVis("kml");break;case"reset":map.setMapTypeId(google.maps.MapTypeId.ROADMAP);MAPEDITOR.GLOBAL.DEFINES.mapLayerActive="Roadmap";MAPEDITOR.GLOBAL.DEFINES.kmlDisplayed==!0&&MAPEDITOR.ACTIONS.toggleVis("kml")}MAPEDITOR.UTILITIES.buttonActive("layer");MAPEDITOR.TRACER.addTracer("[INFO]: changeMapLayer completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},panMap:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: panmap started...");switch(n){case"up":map.panBy(0,-100);MAPEDITOR.UTILITIES.testBounds();break;case"down":map.panBy(0,100);MAPEDITOR.UTILITIES.testBounds();break;case"left":map.panBy(-100,0);MAPEDITOR.UTILITIES.testBounds();break;case"right":map.panBy(100,0);MAPEDITOR.UTILITIES.testBounds();break;case"reset":map.panTo(MAPEDITOR.GLOBAL.DEFINES.mapCenter)}MAPEDITOR.TRACER.addTracer("[INFO]: panmap completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},zoomMap:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: zoommap started...");switch(n){case"in":map.setZoom(map.getZoom()+1);break;case"out":map.setZoom(map.getZoom()-1);break;case"reset":map.setZoom(MAPEDITOR.GLOBAL.DEFINES.defaultZoomLevel)}MAPEDITOR.TRACER.addTracer("[INFO]: zoommap completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},action:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: action started...");MAPEDITOR.TRACER.addTracer("[INFO]: action: "+n);switch(n){case"manageItem":MAPEDITOR.GLOBAL.DEFINES.actionActive="Item";MAPEDITOR.UTILITIES.buttonActive("action");MAPEDITOR.GLOBAL.DEFINES.toolboxDisplayed!=!0&&MAPEDITOR.ACTIONS.toggleVis("toolbox");MAPEDITOR.ACTIONS.openToolboxTab(2);MAPEDITOR.GLOBAL.DEFINES.mapDrawingManagerDisplayed==!0&&(MAPEDITOR.GLOBAL.DEFINES.mapDrawingManagerDisplayed=!0,MAPEDITOR.ACTIONS.toggleVis("mapDrawingManager"));MAPEDITOR.GLOBAL.DEFINES.placerType="item";MAPEDITOR.ACTIONS.place("item");break;case"manageOverlay":MAPEDITOR.GLOBAL.DEFINES.actionActive="Overlay";MAPEDITOR.UTILITIES.buttonActive("action");MAPEDITOR.GLOBAL.DEFINES.toolboxDisplayed!=!0&&MAPEDITOR.ACTIONS.toggleVis("toolbox");MAPEDITOR.ACTIONS.openToolboxTab(3);MAPEDITOR.GLOBAL.DEFINES.mapDrawingManagerDisplayed==!0&&(MAPEDITOR.GLOBAL.DEFINES.mapDrawingManagerDisplayed=!0,MAPEDITOR.ACTIONS.toggleVis("mapDrawingManager"));MAPEDITOR.GLOBAL.DEFINES.placerType="overlay";MAPEDITOR.ACTIONS.place("overlay");break;case"managePOI":MAPEDITOR.GLOBAL.DEFINES.actionActive="POI";MAPEDITOR.UTILITIES.buttonActive("action");MAPEDITOR.GLOBAL.DEFINES.toolboxDisplayed!=!0&&MAPEDITOR.ACTIONS.toggleVis("toolbox");MAPEDITOR.ACTIONS.openToolboxTab(4);MAPEDITOR.ACTIONS.toggleVis("mapDrawingManager");MAPEDITOR.GLOBAL.DEFINES.placerType="poi";MAPEDITOR.ACTIONS.place("poi");break;case"other":MAPEDITOR.TRACER.addTracer("[INFO]: action Other started...");MAPEDITOR.GLOBAL.DEFINES.actionActive="Other";MAPEDITOR.UTILITIES.buttonActive("action");MAPEDITOR.GLOBAL.DEFINES.mapDrawingManagerDisplayed==!0&&(MAPEDITOR.GLOBAL.DEFINES.mapDrawingManagerDisplayed=!0,MAPEDITOR.ACTIONS.toggleVis("mapDrawingManager"));MAPEDITOR.GLOBAL.DEFINES.drawingManager.setMap(null);MAPEDITOR.GLOBAL.DEFINES.placerType="none";MAPEDITOR.TRACER.addTracer("[INFO]: action Other ended...");break;case"search":MAPEDITOR.TRACER.addTracer("[INFO]: action search started...");MAPEDITOR.GLOBAL.DEFINES.actionActive="Search";MAPEDITOR.UTILITIES.buttonActive("action");MAPEDITOR.GLOBAL.DEFINES.placerType="none";MAPEDITOR.GLOBAL.DEFINES.mapDrawingManagerDisplayed==!0&&(MAPEDITOR.GLOBAL.DEFINES.mapDrawingManagerDisplayed=!0,MAPEDITOR.ACTIONS.toggleVis("mapDrawingManager"));MAPEDITOR.GLOBAL.DEFINES.drawingManager.setMap(null);MAPEDITOR.TRACER.addTracer("[INFO]: MAPEDITOR.GLOBAL.DEFINES.toolboxDisplayed: "+MAPEDITOR.GLOBAL.DEFINES.toolboxDisplayed);MAPEDITOR.GLOBAL.DEFINES.toolboxDisplayed==!0&&MAPEDITOR.ACTIONS.openToolboxTab(1)}MAPEDITOR.TRACER.addTracer("[INFO]: action completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},place:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: place started...");switch(n){case"item":MAPEDITOR.UTILITIES.buttonActive("itemPlace");MAPEDITOR.GLOBAL.DEFINES.placerType="item";MAPEDITOR.GLOBAL.DEFINES.itemMarker!=null?MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L30):MAPEDITOR.GLOBAL.DEFINES.searchCount>0&&MAPEDITOR.GLOBAL.DEFINES.itemMarker==null?(MAPEDITOR.ACTIONS.useSearchAsItemLocation(),MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L18)):(MAPEDITOR.GLOBAL.DEFINES.drawingManager.setOptions({drawingControl:!1,drawingControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP,drawingModes:[google.maps.drawing.OverlayType.MARKER],markerOptions:MAPEDITOR.GLOBAL.DEFINES.markerOptionsItem}}),MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(google.maps.drawing.OverlayType.MARKER),MAPEDITOR.GLOBAL.DEFINES.drawingManager.setMap(map));break;case"overlay":MAPEDITOR.GLOBAL.DEFINES.placerType="overlay";MAPEDITOR.GLOBAL.DEFINES.pageMode=MAPEDITOR.GLOBAL.DEFINES.pageMode=="edit"?"view":"edit";break;case"poi":MAPEDITOR.GLOBAL.DEFINES.drawingManager.setOptions({drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP,drawingModes:[google.maps.drawing.OverlayType.MARKER,google.maps.drawing.OverlayType.CIRCLE,google.maps.drawing.OverlayType.RECTANGLE,google.maps.drawing.OverlayType.POLYGON,google.maps.drawing.OverlayType.POLYLINE],markerOptions:MAPEDITOR.GLOBAL.DEFINES.markerOptionsPOI,circleOptions:MAPEDITOR.GLOBAL.DEFINES.circleOptionsPOI,rectangleOptions:MAPEDITOR.GLOBAL.DEFINES.rectangleOptionsPOI,polygonOptions:MAPEDITOR.GLOBAL.DEFINES.polygonOptionsPOI,polylineOptions:MAPEDITOR.GLOBAL.DEFINES.polylineOptionsPOI}});MAPEDITOR.GLOBAL.DEFINES.placerType="poi"}MAPEDITOR.TRACER.addTracer("[INFO]: place completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},placePOI:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: placepoi started...");MAPEDITOR.GLOBAL.DEFINES.placerType="poi";switch(n){case"marker":MAPEDITOR.GLOBAL.DEFINES.drawingManager.setOptions({drawingModes:[google.maps.drawing.OverlayType.MARKER],markerOptions:MAPEDITOR.GLOBAL.DEFINES.markerOptionsPOI});MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(google.maps.drawing.OverlayType.MARKER);MAPEDITOR.UTILITIES.buttonActive("poiMarker");break;case"circle":MAPEDITOR.GLOBAL.DEFINES.drawingManager.setOptions({drawingModes:[google.maps.drawing.OverlayType.CIRCLE],circleOptions:MAPEDITOR.GLOBAL.DEFINES.circleOptionsPOI});MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(google.maps.drawing.OverlayType.CIRCLE);MAPEDITOR.UTILITIES.buttonActive("poiCircle");break;case"rectangle":MAPEDITOR.GLOBAL.DEFINES.drawingManager.setOptions({drawingModes:[google.maps.drawing.OverlayType.RECTANGLE],rectangleOptions:MAPEDITOR.GLOBAL.DEFINES.rectangleOptionsPOI});MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(google.maps.drawing.OverlayType.RECTANGLE);MAPEDITOR.UTILITIES.buttonActive("poiRectangle");break;case"polygon":MAPEDITOR.GLOBAL.DEFINES.drawingManager.setOptions({drawingModes:[google.maps.drawing.OverlayType.POLYGON],polygonOptions:MAPEDITOR.GLOBAL.DEFINES.polygonOptionsPOI});MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(google.maps.drawing.OverlayType.POLYGON);MAPEDITOR.UTILITIES.buttonActive("poiPolygon");break;case"line":MAPEDITOR.GLOBAL.DEFINES.drawingManager.setOptions({drawingModes:[google.maps.drawing.OverlayType.POLYLINE],polylineOptions:MAPEDITOR.GLOBAL.DEFINES.polylineOptionsPOI});MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(google.maps.drawing.OverlayType.POLYLINE);MAPEDITOR.UTILITIES.buttonActive("poiLine")}MAPEDITOR.TRACER.addTracer("[INFO]: placepoi completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},geolocate:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: geolocate started...");MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L50);switch(n){case"item":MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(google.maps.drawing.OverlayType.MARKER);MAPEDITOR.GLOBAL.DEFINES.placerType="item";navigator.geolocation?navigator.geolocation.getCurrentPosition(function(n){var i=new google.maps.LatLng(n.coords.latitude,n.coords.longitude),t;map.setCenter(i);MAPEDITOR.UTILITIES.testBounds();MAPEDITOR.GLOBAL.DEFINES.mapInBounds=="yes"?(MAPEDITOR.GLOBAL.DEFINES.markerCenter=i,MAPEDITOR.GLOBAL.DEFINES.itemMarker=new google.maps.Marker({position:MAPEDITOR.GLOBAL.DEFINES.markerCenter,map:map}),MAPEDITOR.GLOBAL.DEFINES.itemMarker.setMap(map),MAPEDITOR.UTILITIES.codeLatLng(MAPEDITOR.GLOBAL.DEFINES.itemMarker.getPosition()),MAPEDITOR.GLOBAL.DEFINES.savingMarkerCenter=MAPEDITOR.GLOBAL.DEFINES.itemMarker.getPosition(),MAPEDITOR.TRACER.addTracer("[INFO]: rg userlocation: "+i),t=i.toString(),t=t.replace(")",""),t=t.replace(")",""),MAPEDITOR.TRACER.addTracer("[INFO]: rg test2: "+t),document.getElementById("content_toolbox_posItem").value=t,MAPEDITOR.UTILITIES.codeLatLng(i)):MAPEDITOR.TRACER.addTracer("[INFO]: user location out of bounds")}):(alert(MAPEDITOR.LOCALIZATION.DEFINES.L4),MAPEDITOR.TRACER.addTracer(MAPEDITOR.LOCALIZATION.DEFINES.L4));MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null);break;case"overlay":MAPEDITOR.GLOBAL.DEFINES.placerType="overlay";navigator.geolocation?navigator.geolocation.getCurrentPosition(function(n){var t=new google.maps.LatLng(n.coords.latitude,n.coords.longitude);map.setCenter(t);MAPEDITOR.UTILITIES.testBounds()}):(alert(MAPEDITOR.LOCALIZATION.DEFINES.L4),MAPEDITOR.TRACER.addTracer(MAPEDITOR.LOCALIZATION.DEFINES.L4));break;case"poi":MAPEDITOR.GLOBAL.DEFINES.placerType="poi";navigator.geolocation?navigator.geolocation.getCurrentPosition(function(n){var t=new google.maps.LatLng(n.coords.latitude,n.coords.longitude);map.setCenter(t);MAPEDITOR.UTILITIES.testBounds()}):(alert(MAPEDITOR.LOCALIZATION.DEFINES.L4),MAPEDITOR.TRACER.addTracer(MAPEDITOR.LOCALIZATION.DEFINES.L4))}MAPEDITOR.TRACER.addTracer("[INFO]: geolocate completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},save:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: save started...");switch(n){case"item":MAPEDITOR.GLOBAL.DEFINES.savingMarkerCenter!=null?MAPEDITOR.GLOBAL.DEFINES.firstSaveItem==!0&&(MAPEDITOR.GLOBAL.DEFINES.userMayLoseData?(MAPEDITOR.TRACER.addTracer("[INFO]: Saving Changes..."),MAPEDITOR.TRACER.addTracer("[INFO]: saving location: "+MAPEDITOR.GLOBAL.DEFINES.savingMarkerCenter),MAPEDITOR.GLOBAL.DEFINES.toServerSuccessMessage=MAPEDITOR.LOCALIZATION.DEFINES.L_Saved,MAPEDITOR.UTILITIES.createSavedItem("save",MAPEDITOR.GLOBAL.DEFINES.savingMarkerCenter),MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!1):MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L_NotSaved)):MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L_NotSaved);break;case"overlay":if(MAPEDITOR.TRACER.addTracer("[INFO]: first save overlay? "+MAPEDITOR.GLOBAL.DEFINES.firstSaveOverlay),MAPEDITOR.GLOBAL.DEFINES.firstSaveOverlay==!0)if(MAPEDITOR.TRACER.addTracer("[INFO]: overlay length? "+MAPEDITOR.GLOBAL.DEFINES.savingOverlayIndex.length),MAPEDITOR.GLOBAL.DEFINES.savingOverlayIndex.length)if(MAPEDITOR.GLOBAL.DEFINES.userMayLoseData){for(var t=0;t<MAPEDITOR.GLOBAL.DEFINES.savingOverlayIndex.length;t++)try{MAPEDITOR.GLOBAL.DEFINES.incomingPolygonFeatureType[t]="main";MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPolygonType[t]="rectangle";MAPEDITOR.GLOBAL.DEFINES.toServerSuccessMessage=MAPEDITOR.LOCALIZATION.DEFINES.L_Saved;MAPEDITOR.TRACER.addTracer("[INFO]: saving overlay: ("+t+") "+MAPEDITOR.GLOBAL.DEFINES.savingOverlayPageId[t]+"\nlabel: "+MAPEDITOR.GLOBAL.DEFINES.savingOverlayLabel[t]+"\nsource: "+MAPEDITOR.GLOBAL.DEFINES.savingOverlaySourceURL[t]+"\nbounds: "+MAPEDITOR.GLOBAL.DEFINES.savingOverlayBounds[t]+"\nrotation: "+MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation[t]);MAPEDITOR.UTILITIES.createSavedOverlay("save",MAPEDITOR.GLOBAL.DEFINES.savingOverlayPageId[t],MAPEDITOR.GLOBAL.DEFINES.savingOverlayLabel[t],MAPEDITOR.GLOBAL.DEFINES.savingOverlaySourceURL[t],MAPEDITOR.GLOBAL.DEFINES.savingOverlayBounds[t],MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation[t])}catch(r){}MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!1}else MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L_NotSaved);else MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L_NotSaved);break;case"poi":MAPEDITOR.GLOBAL.DEFINES.firstSavePOI==!0?MAPEDITOR.GLOBAL.DEFINES.poiObj.length>0?MAPEDITOR.GLOBAL.DEFINES.userMayLoseData?(MAPEDITOR.TRACER.addTracer("[INFO]: saving "+MAPEDITOR.GLOBAL.DEFINES.poiObj.length+" POIs..."),MAPEDITOR.GLOBAL.DEFINES.toServerSuccessMessage=MAPEDITOR.LOCALIZATION.DEFINES.L_Saved,MAPEDITOR.UTILITIES.createSavedPOI("save"),MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null),MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!1):MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L_NotSaved):MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L_NotSaved):MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L_NotSaved)}MAPEDITOR.TRACER.addTracer("[INFO]: save completed...")}catch(i){MAPEDITOR.TRACER.addTracer("[ERROR]: "+i+" at line "+i.lineNumber)}},clear:function(n){var t,i;try{MAPEDITOR.TRACER.addTracer("[INFO]: clear started...");switch(n){case"item":MAPEDITOR.GLOBAL.DEFINES.savingMarkerCenter!=null?(MAPEDITOR.GLOBAL.DEFINES.itemMarker.setMap(null),MAPEDITOR.GLOBAL.DEFINES.itemMarker=null,MAPEDITOR.GLOBAL.DEFINES.savingMarkerCenter=null,document.getElementById("content_toolbox_posItem").value="",document.getElementById("content_toolbox_rgItem").value="",MAPEDITOR.GLOBAL.displayIncomingPoints(),MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!1,MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L9)):MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L_NotCleared);break;case"overlay":MAPEDITOR.GLOBAL.DEFINES.savingOverlayIndex.length>0?(MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L52),MAPEDITOR.ACTIONS.place("overlay"),MAPEDITOR.UTILITIES.resetHiddenOverlays(),MAPEDITOR.UTILITIES.clearIncomingOverlays(),MAPEDITOR.UTILITIES.clearCacheSaveOverlay(),MAPEDITOR.UTILITIES.clearOverlaysOnMap(),MAPEDITOR.GLOBAL.displayIncomingPolygons(),MAPEDITOR.GLOBAL.initOverlayList(),MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!1,MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L10)):MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L46);break;case"poi":MAPEDITOR.TRACER.addTracer("[INFO]: attempting to clear "+MAPEDITOR.GLOBAL.DEFINES.poiObj.length+"POIs...");try{if(MAPEDITOR.GLOBAL.DEFINES.poiObj.length>0){if(MAPEDITOR.UTILITIES.confirmMessage(MAPEDITOR.LOCALIZATION.DEFINES.L72)){for(MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L53),t=0;t<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;t++)MAPEDITOR.GLOBAL.DEFINES.poiType[t]!="deleted"&&(MAPEDITOR.GLOBAL.DEFINES.poiType[t]="deleted"),MAPEDITOR.GLOBAL.DEFINES.poiObj[t]!=null&&MAPEDITOR.GLOBAL.DEFINES.poiObj[t].setMap(null),MAPEDITOR.GLOBAL.DEFINES.poiDesc[t]!=null&&(MAPEDITOR.GLOBAL.DEFINES.poiDesc[t]=null),MAPEDITOR.GLOBAL.DEFINES.poiKML[t]!=null&&(MAPEDITOR.GLOBAL.DEFINES.poiKML[t]=null),MAPEDITOR.GLOBAL.DEFINES.infoWindow[t].setMap(null),MAPEDITOR.GLOBAL.DEFINES.infoWindow[t]=null,MAPEDITOR.GLOBAL.DEFINES.label[t].setMap(null),MAPEDITOR.GLOBAL.DEFINES.label[t]=null,i="#poi"+t,$(i).remove();MAPEDITOR.GLOBAL.DEFINES.poi_i=-1;MAPEDITOR.GLOBAL.DEFINES.RIBMode=!0;MAPEDITOR.GLOBAL.DEFINES.toServerSuccessMessage=MAPEDITOR.LOCALIZATION.DEFINES.L_Deleted;MAPEDITOR.UTILITIES.createSavedPOI("save");MAPEDITOR.GLOBAL.DEFINES.RIBMode=!1;MAPEDITOR.GLOBAL.DEFINES.poiObj=[];MAPEDITOR.GLOBAL.DEFINES.poiDesc=[];MAPEDITOR.GLOBAL.DEFINES.poiKML=[];MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!1}}else MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L_NotCleared)}catch(u){MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L_NotCleared)}}MAPEDITOR.TRACER.addTracer("[INFO]: clear completed...")}catch(r){MAPEDITOR.TRACER.addTracer("[ERROR]: "+r+" at line "+r.lineNumber)}},searchResultDeleteMe:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: searchResultDeleteMe started...");MAPEDITOR.GLOBAL.DEFINES.searchResult.setMap(null);$("#searchResultListItem"+n).remove();document.getElementById("content_toolbar_searchField").value="";document.getElementById("content_toolbox_searchField").value="";MAPEDITOR.GLOBAL.DEFINES.searchResult=null;MAPEDITOR.GLOBAL.DEFINES.searchCount=0;MAPEDITOR.TRACER.addTracer("[INFO]: searchResultDeleteMe completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},searchResultShowMe:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: searchResultShowMe started...");MAPEDITOR.GLOBAL.DEFINES.searchResult.setMap(map);document.getElementById("searchResultToggle"+n).innerHTML='<img src="'+MAPEDITOR.GLOBAL.DEFINES.baseURL+MAPEDITOR.GLOBAL.DEFINES.baseImageDirURL+'sub.png" onclick="MAPEDITOR.ACTIONS.searchResultHideMe('+n+');" />';MAPEDITOR.TRACER.addTracer("[INFO]: searchResultShowMe completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},searchResultHideMe:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: searchResultHideMe started...");MAPEDITOR.GLOBAL.DEFINES.searchResult.setMap(null);document.getElementById("searchResultToggle"+n).innerHTML='<img src="'+MAPEDITOR.GLOBAL.DEFINES.baseURL+MAPEDITOR.GLOBAL.DEFINES.baseImageDirURL+'add.png" onclick="MAPEDITOR.ACTIONS.searchResultShowMe('+n+');" />';MAPEDITOR.TRACER.addTracer("[INFO]: searchResultHideMe completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},poiGetDesc:function(n){var t,r,u,i;try{if(MAPEDITOR.TRACER.addTracer("[INFO]: poiGetDesc started..."),MAPEDITOR.TRACER.addTracer("[INFO]: MAPEDITOR.ACTIONS.poiGetDesc("+n+"); started..."),document.getElementById("poiDesc"+n).value=="")return;t=document.getElementById("poiDesc"+n).value;t.contains("~")||t.contains("|")?MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L8):(r=MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].position,MAPEDITOR.TRACER.addTracer("[INFO]: poiDesc[id]: "+MAPEDITOR.GLOBAL.DEFINES.poiDesc[n]),MAPEDITOR.TRACER.addTracer("[INFO]: temp: "+t),u=document.getElementById("poiList").innerHTML.replace(MAPEDITOR.GLOBAL.DEFINES.poiDesc[n],t),document.getElementById("poiList").innerHTML=u,MAPEDITOR.TRACER.addTracer("[INFO]: MAPEDITOR.GLOBAL.DEFINES.poiDesc[id].substring(0, 20): "+MAPEDITOR.GLOBAL.DEFINES.poiDesc[n].substring(0,20)),MAPEDITOR.TRACER.addTracer("[INFO]: temp.substring(0, 20): "+t.substring(0,20)),i=document.getElementById("poiList").innerHTML.replace(">"+MAPEDITOR.GLOBAL.DEFINES.poiDesc[n].substring(0,20),">"+t.substring(0,20)),document.getElementById("poiList").innerHTML=i,MAPEDITOR.TRACER.addTracer("[INFO]: tempHTMLHolder2: "+i),MAPEDITOR.TRACER.addTracer("[INFO]: MAPEDITOR.GLOBAL.DEFINES.label[id]"+MAPEDITOR.GLOBAL.DEFINES.label[n]),MAPEDITOR.TRACER.addTracer("[INFO]: temp.substring(0, 20): "+t.substring(0,20)),MAPEDITOR.GLOBAL.DEFINES.label[n].set("labelContent",t.substring(0,20)),MAPEDITOR.TRACER.addTracer("[INFO]: MAPEDITOR.GLOBAL.DEFINES.poiDesc[id]: "+MAPEDITOR.GLOBAL.DEFINES.poiDesc[n]),MAPEDITOR.TRACER.addTracer("[INFO]: temp: "+t),MAPEDITOR.GLOBAL.DEFINES.poiDesc[n]=t,MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null),MAPEDITOR.GLOBAL.DEFINES.infoWindow[n]=new google.maps.InfoWindow({content:MAPEDITOR.UTILITIES.writeHTML("poiDescIncoming",n,t,""),position:r,pixelOffset:new google.maps.Size(0,-40)}),MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null));MAPEDITOR.TRACER.addTracer("[INFO]: MAPEDITOR.ACTIONS.poiGetDesc("+n+"); finished...");MAPEDITOR.TRACER.addTracer("[INFO]: poiGetDesc completed...")}catch(f){MAPEDITOR.TRACER.addTracer("[ERROR]: "+f+" at line "+f.lineNumber)}},poiDeleteMe:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: poiDeleteMe started...");MAPEDITOR.GLOBAL.DEFINES.poiObj[n].setMap(null);MAPEDITOR.GLOBAL.DEFINES.poiObj[n]=null;MAPEDITOR.GLOBAL.DEFINES.poiType[n]="deleted";var i="#poi"+n;$(i).remove();MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null);MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(null);MAPEDITOR.TRACER.addTracer("[INFO]: poiDeleteMe completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},poiShowMe:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: poiShowMe started...");MAPEDITOR.GLOBAL.DEFINES.poiObj[n].setMap(map);MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(map);MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(map);document.getElementById("poiToggle"+n).innerHTML='<img src="'+MAPEDITOR.GLOBAL.DEFINES.baseURL+MAPEDITOR.GLOBAL.DEFINES.baseImageDirURL+'sub.png" onclick="MAPEDITOR.ACTIONS.poiHideMe('+n+');" />';MAPEDITOR.TRACER.addTracer("[INFO]: poiShowMe completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},poiHideMe:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: poihideme started...");MAPEDITOR.GLOBAL.DEFINES.poiObj[n].setMap(null);MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(null);MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(null);document.getElementById("poiToggle"+n).innerHTML='<img src="'+MAPEDITOR.GLOBAL.DEFINES.baseURL+MAPEDITOR.GLOBAL.DEFINES.baseImageDirURL+'add.png" onclick="MAPEDITOR.ACTIONS.poiShowMe('+n+');" />';MAPEDITOR.TRACER.addTracer("[INFO]: poihideme completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},poiEditMe:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: poiEditMe started...");MAPEDITOR.GLOBAL.DEFINES.poiObj[n].setMap(map);MAPEDITOR.GLOBAL.DEFINES.infoWindow[n].setMap(map);MAPEDITOR.GLOBAL.DEFINES.label[n].setMap(map);document.getElementById("poiToggle"+n).innerHTML='<img src="'+MAPEDITOR.GLOBAL.DEFINES.baseURL+MAPEDITOR.GLOBAL.DEFINES.baseImageDirURL+'sub.png" onclick="MAPEDITOR.ACTIONS.poiHideMe('+n+');" />';MAPEDITOR.TRACER.addTracer("[INFO]: poiEditMe completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},overlayDeleteMe:function(n){try{if(MAPEDITOR.TRACER.addTracer("[INFO]: overlayDeleteMe started..."),MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[n]){if(MAPEDITOR.UTILITIES.confirmMessage(MAPEDITOR.LOCALIZATION.DEFINES.L54))try{MAPEDITOR.GLOBAL.DEFINES.toServerSuccessMessage=MAPEDITOR.LOCALIZATION.DEFINES.L55+" "+n;MAPEDITOR.UTILITIES.createSavedOverlay("delete",n,"","","","");MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[n].setMap(null);MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[n]=null;MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[n].setMap(null);MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[n]=null;MAPEDITOR.GLOBAL.DEFINES.overlayCount+=-1;MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex=null;MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!1}catch(i){MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L57)}}else MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L57);MAPEDITOR.TRACER.addTracer("[INFO]: overlayDeleteMe completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},overlayShowMe:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: overlayShowMe started...");MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[n].setMap(map);MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[n].setMap(map);document.getElementById("overlayToggle"+n).innerHTML='<img src="'+MAPEDITOR.GLOBAL.DEFINES.baseURL+MAPEDITOR.GLOBAL.DEFINES.baseImageDirURL+'sub.png" onclick="MAPEDITOR.ACTIONS.overlayHideMe('+n+');" />';MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L32+" "+MAPEDITOR.GLOBAL.DEFINES.incomingPolygonLabel[n]);MAPEDITOR.TRACER.addTracer("[INFO]: overlayShowMe completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},overlayHideMe:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: overlayHideMe started...");MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[n].setMap(null);MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[n].setMap(null);document.getElementById("overlayToggle"+n).innerHTML='<img src="'+MAPEDITOR.GLOBAL.DEFINES.baseURL+MAPEDITOR.GLOBAL.DEFINES.baseImageDirURL+'add.png" onclick="MAPEDITOR.ACTIONS.overlayShowMe('+n+');" />';MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L31+" "+MAPEDITOR.GLOBAL.DEFINES.incomingPolygonLabel[n]);MAPEDITOR.TRACER.addTracer("[INFO]: overlayHideMe completed...")}catch(t){MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L56);MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},overlayEditMe:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: overlayEditMe started...");MAPEDITOR.TRACER.addTracer("[INFO]: editing overlay id: "+n);try{if(MAPEDITOR.GLOBAL.DEFINES.pageMode="edit",MAPEDITOR.GLOBAL.DEFINES.currentlyEditing=="yes"&&MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex!=null&&(MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null),MAPEDITOR.TRACER.addTracer("[INFO]: saving overlay "+MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex),MAPEDITOR.UTILITIES.cacheSaveOverlay(MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex),MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].setOptions(MAPEDITOR.GLOBAL.DEFINES.ghosting),MAPEDITOR.GLOBAL.DEFINES.currentlyEditing="no",MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex=n,MAPEDITOR.UTILITIES.cycleOverlayHighlight(n),MAPEDITOR.TRACER.addTracer("[INFO]: setting preserved rotation to MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation["+(MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex-1)+"] ("+MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex-1]+")"),MAPEDITOR.GLOBAL.DEFINES.preservedRotation=MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex-1]),MAPEDITOR.GLOBAL.DEFINES.currentlyEditing=="no"||MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex==null){MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null);MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex=n;MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[n].setMap(map);MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[n].setMap(map);document.getElementById("overlayToggle"+n).innerHTML='<img src="'+MAPEDITOR.GLOBAL.DEFINES.baseURL+MAPEDITOR.GLOBAL.DEFINES.baseImageDirURL+'sub.png" onclick="MAPEDITOR.ACTIONS.overlayHideMe('+n+');" />';MAPEDITOR.UTILITIES.cycleOverlayHighlight(n);MAPEDITOR.GLOBAL.DEFINES.currentlyEditing="yes";MAPEDITOR.TRACER.addTracer("[INFO]: editing overlay "+(MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex-1));try{MAPEDITOR.GLOBAL.DEFINES.preservedOpacity=document.getElementById("overlay"+(MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex-1)).style.opacity}catch(t){MAPEDITOR.GLOBAL.DEFINES.preservedOpacity="0.35"}$("#overlayTransparencySlider").slider("value",MAPEDITOR.GLOBAL.DEFINES.preservedOpacity);try{if(MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex-1]!=null){MAPEDITOR.GLOBAL.DEFINES.preservedRotation=MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex-1];try{MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex-1]<0?($(".knob").val(180+MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex-1]+180).trigger("change"),MAPEDITOR.TRACER.addTracer("[INFO]: setting knob to: "+(180+MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex-1]+180))):($(".knob").val(MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex-1]).trigger("change"),MAPEDITOR.TRACER.addTracer("[INFO]: setting knob to: "+MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex-1]))}catch(t){MAPEDITOR.TRACER.addTracer("[INFO]: rotation error catch: "+t)}}else{MAPEDITOR.GLOBAL.DEFINES.incomingPolygonRotation[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex-1]!=null&&(MAPEDITOR.GLOBAL.DEFINES.preservedRotation=MAPEDITOR.GLOBAL.DEFINES.incomingPolygonRotation[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex-1]);try{MAPEDITOR.GLOBAL.DEFINES.incomingPolygonRotation[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex-1]<0?($(".knob").val(180+MAPEDITOR.GLOBAL.DEFINES.incomingPolygonRotation[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex-1]+180).trigger("change"),MAPEDITOR.TRACER.addTracer("[INFO]: setting knob to: "+(180+MAPEDITOR.GLOBAL.DEFINES.incomingPolygonRotation[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex-1]+180))):($(".knob").val(MAPEDITOR.GLOBAL.DEFINES.incomingPolygonRotation[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex-1]).trigger("change"),MAPEDITOR.TRACER.addTracer("[INFO]: setting knob to: "+MAPEDITOR.GLOBAL.DEFINES.incomingPolygonRotation[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex-1]))}catch(t){MAPEDITOR.TRACER.addTracer("[INFO]: rotation error catch: "+t)}}}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: Could not add rotation data")}MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].setOptions(MAPEDITOR.GLOBAL.DEFINES.editable);MAPEDITOR.GLOBAL.DEFINES.currentTopZIndex++;try{document.getElementById("overlay"+(MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex-1)).style.zIndex=MAPEDITOR.GLOBAL.DEFINES.currentTopZIndex}catch(t){MAPEDITOR.TRACER.addTracer("[WARN]: Could not set overlay zindex")}MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].setOptions({zIndex:MAPEDITOR.GLOBAL.DEFINES.currentTopZIndex});MAPEDITOR.UTILITIES.overlayCenterOnMe(n)}MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L34+" "+MAPEDITOR.GLOBAL.DEFINES.incomingPolygonLabel[n-1])}catch(t){MAPEDITOR.UTILITIES.cycleOverlayHighlight(n);MAPEDITOR.UTILITIES.createOverlayFromPage(n)}MAPEDITOR.TRACER.addTracer("[INFO]: overlayEditMe completed...")}catch(i){MAPEDITOR.TRACER.addTracer("[ERROR]: "+i+" at line "+i.lineNumber)}},useSearchAsItemLocation:function(){try{MAPEDITOR.TRACER.addTracer("[INFO]: useSearchAsItemLocation started...");MAPEDITOR.TRACER.addTracer("[INFO]: search result: "+MAPEDITOR.GLOBAL.DEFINES.searchResult);MAPEDITOR.GLOBAL.DEFINES.searchResult!=null?(MAPEDITOR.GLOBAL.DEFINES.placerType="item",MAPEDITOR.GLOBAL.DEFINES.itemMarker!=null?(MAPEDITOR.GLOBAL.DEFINES.itemMarker.setPosition(MAPEDITOR.GLOBAL.DEFINES.searchResult.getPosition()),MAPEDITOR.ACTIONS.searchResultDeleteMe(),MAPEDITOR.GLOBAL.DEFINES.itemMarker.setMap(map)):(MAPEDITOR.GLOBAL.DEFINES.itemMarker=MAPEDITOR.GLOBAL.DEFINES.searchResult,MAPEDITOR.GLOBAL.DEFINES.itemMarker.setOptions(MAPEDITOR.GLOBAL.DEFINES.markerOptionsItem),MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0,MAPEDITOR.GLOBAL.DEFINES.firstSaveItem=!0,MAPEDITOR.GLOBAL.DEFINES.firstMarker>0?MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null):(MAPEDITOR.GLOBAL.DEFINES.firstMarker++,MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null))),MAPEDITOR.GLOBAL.DEFINES.firstMarker++,document.getElementById("content_toolbox_posItem").value=MAPEDITOR.GLOBAL.DEFINES.itemMarker.getPosition(),MAPEDITOR.UTILITIES.codeLatLng(MAPEDITOR.GLOBAL.DEFINES.itemMarker.getPosition()),MAPEDITOR.GLOBAL.DEFINES.savingMarkerCenter=MAPEDITOR.GLOBAL.DEFINES.itemMarker.getPosition(),google.maps.event.addListener(MAPEDITOR.GLOBAL.DEFINES.itemMarker,"dragend",function(){document.getElementById("content_toolbox_posItem").value=MAPEDITOR.GLOBAL.DEFINES.itemMarker.getPosition();MAPEDITOR.UTILITIES.codeLatLng(MAPEDITOR.GLOBAL.DEFINES.itemMarker.getPosition());MAPEDITOR.GLOBAL.DEFINES.savingMarkerCenter=MAPEDITOR.GLOBAL.DEFINES.itemMarker.getPosition();MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.GLOBAL.DEFINES.firstSaveItem=!0})):MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L39);MAPEDITOR.TRACER.addTracer("[INFO]: useSearchAsItemLocation completed...")}catch(n){MAPEDITOR.TRACER.addTracer("[ERROR]: "+n+" at line "+n.lineNumber)}},deleteItemLocation:function(){try{MAPEDITOR.TRACER.addTracer("[INFO]: deleteItemLocation started...");MAPEDITOR.GLOBAL.DEFINES.itemMarker?MAPEDITOR.UTILITIES.confirmMessage(MAPEDITOR.LOCALIZATION.DEFINES.L70)&&(MAPEDITOR.GLOBAL.DEFINES.itemMarker.setMap(null),MAPEDITOR.GLOBAL.DEFINES.itemMarker=null,MAPEDITOR.GLOBAL.DEFINES.toServerSuccessMessage=MAPEDITOR.LOCALIZATION.DEFINES.L69,MAPEDITOR.GLOBAL.DEFINES.RIBMode=!0,MAPEDITOR.UTILITIES.createSavedItem("delete",null),MAPEDITOR.GLOBAL.DEFINES.RIBMode=!1,MAPEDITOR.GLOBAL.DEFINES.savingMarkerCenter=null,MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null),MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!1,document.getElementById("content_toolbox_posItem").value="",document.getElementById("content_toolbox_rgItem").value=""):(MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L_NotDeleted),MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null));MAPEDITOR.TRACER.addTracer("[INFO]: deleteItemLocation completed...")}catch(n){MAPEDITOR.TRACER.addTracer("[ERROR]: "+n+" at line "+n.lineNumber)}},panOverlay:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: panOverlay started...");switch(n){case"up":var u=MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].getBounds().getNorthEast().lat()+5e-5,f=MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].getBounds().getNorthEast().lng()+0,i=MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].getBounds().getSouthWest().lat()+5e-5,r=MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].getBounds().getSouthWest().lng()+0,e=new google.maps.LatLngBounds(new google.maps.LatLng(i,r),new google.maps.LatLng(u,f)),t=MAPEDITOR.UTILITIES.latLngToPixel(new google.maps.LatLng(u,f));MAPEDITOR.TRACER.addTracer("[INFO]: x: "+t.x);MAPEDITOR.TRACER.addTracer("[INFO]: y: "+t.y);document.getElementById("overlay"+MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex).style.position="static";MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].setBounds(e);break;case"down":var u=MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].getBounds().getNorthEast().lat()-5e-5,f=MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].getBounds().getNorthEast().lng()+0,i=MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].getBounds().getSouthWest().lat()-5e-5,r=MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].getBounds().getSouthWest().lng()+0,e=new google.maps.LatLngBounds(new google.maps.LatLng(i,r),new google.maps.LatLng(u,f)),t=MAPEDITOR.UTILITIES.latLngToPixel(new google.maps.LatLng(i,r));MAPEDITOR.TRACER.addTracer("[INFO]: x: "+t.x);MAPEDITOR.TRACER.addTracer("[INFO]: y: "+t.y);document.getElementById("overlay"+MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex).style.position="static";MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].setBounds(e);break;case"left":var u=MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].getBounds().getNorthEast().lat()+0,f=MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].getBounds().getNorthEast().lng()-5e-5,i=MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].getBounds().getSouthWest().lat()+0,r=MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].getBounds().getSouthWest().lng()-5e-5,e=new google.maps.LatLngBounds(new google.maps.LatLng(i,r),new google.maps.LatLng(u,f)),t=MAPEDITOR.UTILITIES.latLngToPixel(new google.maps.LatLng(i,r));MAPEDITOR.TRACER.addTracer("[INFO]: x: "+t.x);MAPEDITOR.TRACER.addTracer("[INFO]: y: "+t.y);document.getElementById("overlay"+MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex).style.position="static";MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].setBounds(e);break;case"right":var u=MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].getBounds().getNorthEast().lat()+0,f=MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].getBounds().getNorthEast().lng()+5e-5,i=MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].getBounds().getSouthWest().lat()+0,r=MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].getBounds().getSouthWest().lng()+5e-5,e=new google.maps.LatLngBounds(new google.maps.LatLng(i,r),new google.maps.LatLng(u,f)),t=MAPEDITOR.UTILITIES.latLngToPixel(new google.maps.LatLng(i,r));MAPEDITOR.TRACER.addTracer("[INFO]: x: "+t.x);MAPEDITOR.TRACER.addTracer("[INFO]: y: "+t.y);document.getElementById("overlay"+MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex).style.position="static";MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].setBounds(e)}MAPEDITOR.TRACER.addTracer("[INFO]: panOverlay completed...")}catch(o){MAPEDITOR.TRACER.addTracer("[ERROR]: "+o+" at line "+o.lineNumber)}},convertToOverlay:function(){var i,n,t;try{MAPEDITOR.TRACER.addTracer("[INFO]: convertToOverlay started...");i=0;n=0;try{for(t=0;t<MAPEDITOR.GLOBAL.DEFINES.incomingPolygonFeatureType.length;t++)i++,MAPEDITOR.GLOBAL.DEFINES.incomingPolygonFeatureType[t]!="poi"&&n++;MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex=MAPEDITOR.GLOBAL.DEFINES.incomingPolygonFeatureType.length-n;MAPEDITOR.TRACER.addTracer("[INFO]: converted overlay index: "+MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex)}catch(u){MAPEDITOR.TRACER.addTracer("[INFO]: no overlays thus pages to convert to.")}n>0?(MAPEDITOR.GLOBAL.DEFINES.itemMarker&&(MAPEDITOR.GLOBAL.DEFINES.itemMarker.setMap(null),MAPEDITOR.GLOBAL.DEFINES.itemMarker=null,MAPEDITOR.GLOBAL.DEFINES.toServerSuccessMessage=MAPEDITOR.LOCALIZATION.DEFINES.L67,MAPEDITOR.GLOBAL.DEFINES.RIBMode=!0,MAPEDITOR.UTILITIES.createSavedItem("delete",null),MAPEDITOR.GLOBAL.DEFINES.RIBMode=!1),MAPEDITOR.UTILITIES.actionsACL("none","item"),MAPEDITOR.UTILITIES.actionsACL("full","overlay"),MAPEDITOR.GLOBAL.DEFINES.incomingPolygonFeatureType[MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex]="TEMP_main",MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPolygonType[MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex]="TEMP_rectangle",MAPEDITOR.ACTIONS.openToolboxTab(3),MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L44),MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null),MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!1):(MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L40),MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null));MAPEDITOR.TRACER.addTracer("[INFO]: convertToOverlay completed...")}catch(r){MAPEDITOR.TRACER.addTracer("[ERROR]: "+r+" at line "+r.lineNumber)}},openToolboxTab:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: openToolboxTab started...");n=="search"&&(n=1);n=="item"&&(n=2);n=="overlay"&&(n=3);n=="poi"&&(n=4,MAPEDITOR.GLOBAL.DEFINES.drawingManager.setMap(map),MAPEDITOR.GLOBAL.DEFINES.drawingManager.setOptions({drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP,drawingModes:[google.maps.drawing.OverlayType.MARKER,google.maps.drawing.OverlayType.CIRCLE,google.maps.drawing.OverlayType.RECTANGLE,google.maps.drawing.OverlayType.POLYGON,google.maps.drawing.OverlayType.POLYLINE],markerOptions:MAPEDITOR.GLOBAL.DEFINES.markerOptionsPOI,circleOptions:MAPEDITOR.GLOBAL.DEFINES.circleOptionsPOI,rectangleOptions:MAPEDITOR.GLOBAL.DEFINES.rectangleOptionsPOI,polygonOptions:MAPEDITOR.GLOBAL.DEFINES.polygonOptionsPOI,polylineOptions:MAPEDITOR.GLOBAL.DEFINES.polylineOptionsPOI}}));$("#mapedit_container_toolboxTabs").accordion({active:n});MAPEDITOR.TRACER.addTracer("[INFO]: openToolboxTab completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},keyPress:function(n){var t,i;try{MAPEDITOR.TRACER.addTracer("[INFO]: keypress started...");MAPEDITOR.UTILITIES.checkKeyCode();t=null;window.event?t=window.event.keyCode:n&&(t=n.which);MAPEDITOR.TRACER.addTracer("[INFO]: key press: "+t);switch(t){case 13:"content_menubar_searchField"==document.activeElement.id&&MAPEDITOR.UTILITIES.finder(document.getElementById("content_menubar_searchField").value);"content_toolbox_searchField"==document.activeElement.id&&MAPEDITOR.UTILITIES.finder(document.getElementById("content_toolbox_searchField").value);"content_toolbar_searchField"==document.activeElement.id&&MAPEDITOR.UTILITIES.finder(document.getElementById("content_toolbar_searchField").value);break;case 67:MAPEDITOR.GLOBAL.DEFINES.typingInTextArea==!1&&(navigator.appName=="Microsoft Internet Explorer"?(i=document.getElementById("cLat").innerHTML,i+=", "+document.getElementById("cLong").innerHTML,window.clipboardData.setData("Text",i),MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L19)):MAPEDITOR.GLOBAL.DEFINES.cCoordsFrozen=="no"?(MAPEDITOR.GLOBAL.DEFINES.cCoordsFrozen="yes",MAPEDITOR.UTILITIES.stickyMessage(MAPEDITOR.LOCALIZATION.DEFINES.L20)):(MAPEDITOR.GLOBAL.DEFINES.cCoordsFrozen="no",MAPEDITOR.UTILITIES.stickyMessage(MAPEDITOR.LOCALIZATION.DEFINES.L20),MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L21)));break;case 79:MAPEDITOR.GLOBAL.DEFINES.typingInTextArea==!1&&MAPEDITOR.ACTIONS.toggleVis("overlays");break;case 80:MAPEDITOR.GLOBAL.DEFINES.typingInTextArea==!1&&MAPEDITOR.ACTIONS.toggleVis("pois");break;case 82:MAPEDITOR.GLOBAL.DEFINES.typingInTextArea==!1&&MAPEDITOR.ACTIONS.toggleVis("toolbar");break;case 88:MAPEDITOR.GLOBAL.DEFINES.typingInTextArea==!1&&MAPEDITOR.ACTIONS.toggleVis("toolbox");break;case 97:if(MAPEDITOR.GLOBAL.DEFINES.typingInTextArea==!1&&MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex!=null)try{MAPEDITOR.ACTIONS.panOverlay("left")}catch(n){MAPEDITOR.TRACER.addTracer("[INFO]: could not pan overlay")}break;case 119:if(MAPEDITOR.GLOBAL.DEFINES.typingInTextArea==!1&&MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex!=null)try{MAPEDITOR.ACTIONS.panOverlay("up")}catch(n){MAPEDITOR.TRACER.addTracer("[INFO]: could not pan overlay")}break;case 100:if(MAPEDITOR.GLOBAL.DEFINES.typingInTextArea==!1&&MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex!=null)try{MAPEDITOR.ACTIONS.panOverlay("right")}catch(n){MAPEDITOR.TRACER.addTracer("[INFO]: could not pan overlay")}break;case 115:if(MAPEDITOR.GLOBAL.DEFINES.typingInTextArea==!1&&MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex!=null)try{MAPEDITOR.ACTIONS.panOverlay("down")}catch(n){MAPEDITOR.TRACER.addTracer("[INFO]: could not pan overlay")}break;case 68:if(MAPEDITOR.GLOBAL.DEFINES.typingInTextArea==!1)if(MAPEDITOR.GLOBAL.DEFINES.debuggerOn==!0)MAPEDITOR.TRACER.toggleTracer();else try{document.URL.indexOf("debugger")>-1&&(MAPEDITOR.GLOBAL.DEFINES.debuggerOn=!0,MAPEDITOR.TRACER.toggleTracer())}catch(n){}}MAPEDITOR.TRACER.addTracer("[INFO]: keypress completed...")}catch(r){MAPEDITOR.TRACER.addTracer("[ERROR]: "+r+" at line "+r.lineNumber)}}}}(),UTILITIES:function(){return{addOverlayListItemThumbnailTooltip:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: addOverlayListItemThumbnailTooltip started...");$("#overlayListItemText"+MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[n-1]).tooltip({content:'<img src="'+MAPEDITOR.GLOBAL.DEFINES.incomingPolygonSourceURL[n-1]+'" style="max-height:200px;width:auto;"/>'});MAPEDITOR.TRACER.addTracer("[INFO]: addOverlayListItemThumbnailTooltip completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},cycleOverlayHighlight:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: cycleOverlayHighlight started...");MAPEDITOR.TRACER.addTracer("[INFO]: highlighting overlays");for(var t=0;t<MAPEDITOR.GLOBAL.DEFINES.incomingPolygonSourceURL.length;t++)MAPEDITOR.TRACER.addTracer("[INFO]: hit: "+n+" index: "+t+" length: "+MAPEDITOR.GLOBAL.DEFINES.incomingPolygonSourceURL.length),document.getElementById("overlayListItem"+MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[t]).style.background=MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[t]==n?MAPEDITOR.GLOBAL.DEFINES.listItemHighlightColor:null;MAPEDITOR.TRACER.addTracer("[INFO]: cycleOverlayHighlight completed...")}catch(i){MAPEDITOR.TRACER.addTracer("[ERROR]: "+i+" at line "+i.lineNumber)}},overlayCenterOnMe:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: overlayCenterOnMe started...");map.panTo(MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[n].getBounds().getCenter());MAPEDITOR.TRACER.addTracer("[INFO]: overlayCenterOnMeS completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},toServer:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: toServer started...");jQuery("form").each(function(){var i=JSON.stringify({sendData:n}),r=document.getElementById("payload"),t;r.value=i;t=document.getElementById("action");t.value="save";MAPEDITOR.GLOBAL.DEFINES.toServerSuccess=!1;MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L_Working);$.ajax({type:"POST",async:!0,url:window.location.href.toString(),data:jQuery(this).serialize(),success:function(){MAPEDITOR.TRACER.addTracer("[INFO]: Sallback from server - success");MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.GLOBAL.DEFINES.toServerSuccessMessage);MAPEDITOR.GLOBAL.DEFINES.toServerSuccessMessage=MAPEDITOR.LOCALIZATION.DEFINES.L_Completed;MAPEDITOR.GLOBAL.DEFINES.toServerSuccess=!0;MAPEDITOR.GLOBAL.DEFINES.csoi=0}})});MAPEDITOR.TRACER.addTracer("[INFO]: toServer completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},createSavedPOI:function(n){var i,t,r;try{for(MAPEDITOR.TRACER.addTracer("[INFO]: createSavedPOI started..."),i="",MAPEDITOR.TRACER.addTracer("[INFO]: poi length: "+MAPEDITOR.GLOBAL.DEFINES.poiObj.length),t=0;t<MAPEDITOR.GLOBAL.DEFINES.poiObj.length;t++){switch(MAPEDITOR.GLOBAL.DEFINES.poiType[t]){case"marker":MAPEDITOR.GLOBAL.DEFINES.poiKML[t]=MAPEDITOR.GLOBAL.DEFINES.poiObj[t].getPosition().toString();break;case"circle":MAPEDITOR.GLOBAL.DEFINES.poiKML[t]=MAPEDITOR.GLOBAL.DEFINES.poiObj[t].getCenter()+"|";MAPEDITOR.GLOBAL.DEFINES.poiKML[t]+=MAPEDITOR.GLOBAL.DEFINES.poiObj[t].getRadius();break;case"rectangle":MAPEDITOR.GLOBAL.DEFINES.poiKML[t]=MAPEDITOR.GLOBAL.DEFINES.poiObj[t].getBounds().toString();break;case"polygon":MAPEDITOR.GLOBAL.DEFINES.poiObj[t].getPath().forEach(function(n){MAPEDITOR.GLOBAL.DEFINES.poiKML[t]+="|";MAPEDITOR.GLOBAL.DEFINES.poiKML[t]+=n});break;case"polyline":MAPEDITOR.GLOBAL.DEFINES.poiObj[t].getPath().forEach(function(n){MAPEDITOR.GLOBAL.DEFINES.poiKML[t]+="|";MAPEDITOR.GLOBAL.DEFINES.poiKML[t]+=n})}r=n+"|poi|"+MAPEDITOR.GLOBAL.DEFINES.poiType[t]+"|"+MAPEDITOR.GLOBAL.DEFINES.poiDesc[t]+"|"+MAPEDITOR.GLOBAL.DEFINES.poiKML[t]+"|";i+=r+"~"}MAPEDITOR.TRACER.addTracer("[INFO]: saving poi set: "+i);i!=""&&MAPEDITOR.UTILITIES.toServer(i);MAPEDITOR.TRACER.addTracer("[INFO]: createSavedPOI completed...")}catch(u){MAPEDITOR.TRACER.addTracer("[ERROR]: "+u+" at line "+u.lineNumber)}},createSavedOverlay:function(n,t,i,r,u,f){var e;try{MAPEDITOR.TRACER.addTracer("[INFO]: createSavedOverlay started...");e=r;(e.contains("~")||e.contains("|"))&&MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L7);var h=n+"|overlay",c=h+"|"+t+"|"+i+"|"+u+"|"+r+"|"+f+"|",o=c+"~";MAPEDITOR.TRACER.addTracer("[INFO]: saving overlay set: "+o);MAPEDITOR.UTILITIES.toServer(o);MAPEDITOR.TRACER.addTracer("[INFO]: createSavedOverlay completed...")}catch(s){MAPEDITOR.TRACER.addTracer("[ERROR]: "+s+" at line "+s.lineNumber)}},createSavedItem:function(n,t){try{MAPEDITOR.TRACER.addTracer("[INFO]: createSavedItem started...");var u=n+"|item",f=u+"|"+t+"|",i=f+"~";MAPEDITOR.TRACER.addTracer("[INFO]: saving item: "+i);MAPEDITOR.UTILITIES.toServer(i);MAPEDITOR.TRACER.addTracer("[INFO]: createSavedItem completed...")}catch(r){MAPEDITOR.TRACER.addTracer("[ERROR]: "+r+" at line "+r.lineNumber)}},stickyMessage:function(n){var t,i,r;try{MAPEDITOR.TRACER.addTracer("[INFO]: stickyMessage started...");MAPEDITOR.TRACER.addTracer("[INFO]: sticky message #"+MAPEDITOR.GLOBAL.DEFINES.stickyMessageCount+": "+n);MAPEDITOR.TRACER.addTracer("[INFO]: sticky message Count: "+MAPEDITOR.GLOBAL.DEFINES.stickyMessageCount);t=!1;try{t=document.getElementById("stickyMessage"+MAPEDITOR.GLOBAL.DEFINES.stickyMessageCount).innerHTML==n?!0:!1}catch(f){MAPEDITOR.TRACER.addTracer("[INFO]: Could not find sticky message ID");t=!1}t?(MAPEDITOR.TRACER.addTracer("[INFO]: same stick message as before, deleting..."),$("#stickyMessage"+MAPEDITOR.GLOBAL.DEFINES.stickyMessageCount).remove(),MAPEDITOR.GLOBAL.DEFINES.stickyMessageCount--,MAPEDITOR.TRACER.addTracer("[INFO]: new sticky message Count: "+MAPEDITOR.GLOBAL.DEFINES.stickyMessageCount)):(MAPEDITOR.TRACER.addTracer("[INFO]: create sticky message"),MAPEDITOR.GLOBAL.DEFINES.stickymessageCount++,i="stickyMessage"+MAPEDITOR.GLOBAL.DEFINES.stickyMessageCount,r=document.createElement("div"),r.setAttribute("id",i),r.className="stickyMessage",document.getElementById("content_message").appendChild(r),document.getElementById(i).innerHTML=n,document.getElementById(i).style.display="block");MAPEDITOR.TRACER.addTracer("[INFO]: stickyMessage completed...")}catch(u){MAPEDITOR.TRACER.addTracer("[ERROR]: "+u+" at line "+u.lineNumber)}},displayMessage:function(n){var t,i,r;try{if(MAPEDITOR.TRACER.addTracer("[INFO]: displayMessage started..."),MAPEDITOR.TRACER.addTracer("[INFO]: message #"+MAPEDITOR.GLOBAL.DEFINES.messageCount+": "+n),MAPEDITOR.GLOBAL.DEFINES.messageCount++,MAPEDITOR.GLOBAL.DEFINES.RIBMode==!0){MAPEDITOR.TRACER.addTracer("[INFO]: RIB Mode: "+MAPEDITOR.GLOBAL.DEFINES.RIBMode);return}MAPEDITOR.TRACER.addTracer("[INFO]: RIB Mode: "+MAPEDITOR.GLOBAL.DEFINES.RIBMode);t="message"+MAPEDITOR.GLOBAL.DEFINES.messageCount;i=document.createElement("div");i.setAttribute("id",t);i.className="message";document.getElementById("content_message").appendChild(i);document.getElementById(t).innerHTML=n;r=!1;try{document.getElementById("message"+(MAPEDITOR.GLOBAL.DEFINES.messageCount-1)).innerHTML==n&&(r=!0)}catch(f){}r?(MAPEDITOR.TRACER.addTracer("[INFO]: Same message to display as previous, not displaying"),$("#message"+(MAPEDITOR.GLOBAL.DEFINES.messageCount-1)).remove(),document.getElementById(t).style.display="block",setTimeout(function(){$("#"+t).fadeOut("slow",function(){$("#"+t).remove()})},3e3)):(document.getElementById(t).style.display="block",setTimeout(function(){$("#"+t).fadeOut("slow",function(){$("#"+t).remove()})},3e3));MAPEDITOR.TRACER.addTracer("[INFO]: displayMessage completed...")}catch(u){MAPEDITOR.TRACER.addTracer("[ERROR]: "+u+" at line "+u.lineNumber)}},buttonActive:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: buttonActive started...");MAPEDITOR.TRACER.addTracer("[INFO]: buttonActive: "+n);switch(n){case"mapControls":MAPEDITOR.GLOBAL.DEFINES.mapControlsDisplayed==!1?(document.getElementById("content_menubar_toggleMapControls").className=document.getElementById("content_menubar_toggleMapControls").className.replace(/(?:^|\s)isActive2(?!\S)/g,""),document.getElementById("content_toolbar_button_toggleMapControls").className=document.getElementById("content_toolbar_button_toggleMapControls").className.replace(/(?:^|\s)isActive(?!\S)/g,""),document.getElementById("content_toolbox_button_toggleMapControls").className=document.getElementById("content_toolbox_button_toggleMapControls").className.replace(/(?:^|\s)isActive(?!\S)/g,"")):(document.getElementById("content_menubar_toggleMapControls").className+=" isActive2",document.getElementById("content_toolbar_button_toggleMapControls").className+=" isActive",document.getElementById("content_toolbox_button_toggleMapControls").className+=" isActive");break;case"toolbox":MAPEDITOR.GLOBAL.DEFINES.toolboxDisplayed==!1?(document.getElementById("content_menubar_toggleToolbox").className=document.getElementById("content_menubar_toggleToolbox").className.replace(/(?:^|\s)isActive2(?!\S)/g,""),document.getElementById("content_toolbar_button_toggleToolbox").className=document.getElementById("content_toolbar_button_toggleToolbox").className.replace(/(?:^|\s)isActive(?!\S)/g,"")):(document.getElementById("content_menubar_toggleToolbox").className+=" isActive2",document.getElementById("content_toolbar_button_toggleToolbox").className+=" isActive");break;case"toolbar":MAPEDITOR.GLOBAL.DEFINES.toolbarDisplayed==!1?document.getElementById("content_menubar_toggleToolbar").className=document.getElementById("content_menubar_toggleToolbar").className.replace(/(?:^|\s)isActive2(?!\S)/g,""):document.getElementById("content_menubar_toggleToolbar").className+=" isActive2";break;case"layer":MAPEDITOR.GLOBAL.DEFINES.prevMapLayerActive!=null&&(document.getElementById("content_menubar_layer"+MAPEDITOR.GLOBAL.DEFINES.prevMapLayerActive).className=document.getElementById("content_menubar_layer"+MAPEDITOR.GLOBAL.DEFINES.prevMapLayerActive).className.replace(/(?:^|\s)isActive2(?!\S)/g,""),document.getElementById("content_toolbar_button_layer"+MAPEDITOR.GLOBAL.DEFINES.prevMapLayerActive).className=document.getElementById("content_toolbar_button_layer"+MAPEDITOR.GLOBAL.DEFINES.prevMapLayerActive).className.replace(/(?:^|\s)isActive(?!\S)/g,""),document.getElementById("content_toolbox_button_layer"+MAPEDITOR.GLOBAL.DEFINES.prevMapLayerActive).className=document.getElementById("content_toolbox_button_layer"+MAPEDITOR.GLOBAL.DEFINES.prevMapLayerActive).className.replace(/(?:^|\s)isActive(?!\S)/g,""));document.getElementById("content_menubar_layer"+MAPEDITOR.GLOBAL.DEFINES.mapLayerActive).className+=" isActive2";document.getElementById("content_toolbar_button_layer"+MAPEDITOR.GLOBAL.DEFINES.mapLayerActive).className+=" isActive";document.getElementById("content_toolbox_button_layer"+MAPEDITOR.GLOBAL.DEFINES.mapLayerActive).className+=" isActive";MAPEDITOR.GLOBAL.DEFINES.prevMapLayerActive=MAPEDITOR.GLOBAL.DEFINES.mapLayerActive;break;case"kml":MAPEDITOR.GLOBAL.DEFINES.kmlDisplayed==!1?(document.getElementById("content_menubar_layerCustom").className=document.getElementById("content_menubar_layerCustom").className.replace(/(?:^|\s)isActive2(?!\S)/g,""),document.getElementById("content_toolbar_button_layerCustom").className=document.getElementById("content_toolbar_button_layerCustom").className.replace(/(?:^|\s)isActive(?!\S)/g,""),document.getElementById("content_toolbox_button_layerCustom").className=document.getElementById("content_toolbox_button_layerCustom").className.replace(/(?:^|\s)isActive(?!\S)/g,"")):(document.getElementById("content_menubar_layerCustom").className+=" isActive2",document.getElementById("content_toolbar_button_layerCustom").className+=" isActive",document.getElementById("content_toolbox_button_layerCustom").className+=" isActive");break;case"action":if(MAPEDITOR.TRACER.addTracer("[INFO]: aa: "+MAPEDITOR.GLOBAL.DEFINES.actionActive+"<br>paa: "+MAPEDITOR.GLOBAL.DEFINES.prevActionActive),MAPEDITOR.GLOBAL.DEFINES.actionActive=="Other")try{MAPEDITOR.GLOBAL.DEFINES.prevActionActive!=null&&(document.getElementById("content_menubar_manage"+MAPEDITOR.GLOBAL.DEFINES.prevActionActive).className=document.getElementById("content_menubar_manage"+MAPEDITOR.GLOBAL.DEFINES.prevActionActive).className.replace(/(?:^|\s)isActive2(?!\S)/g,""),document.getElementById("content_toolbar_button_manage"+MAPEDITOR.GLOBAL.DEFINES.prevActionActive).className=document.getElementById("content_toolbar_button_manage"+MAPEDITOR.GLOBAL.DEFINES.prevActionActive).className.replace(/(?:^|\s)isActive(?!\S)/g,""),document.getElementById("content_toolbox_button_manage"+MAPEDITOR.GLOBAL.DEFINES.prevActionActive).className=document.getElementById("content_toolbox_button_manage"+MAPEDITOR.GLOBAL.DEFINES.prevActionActive).className.replace(/(?:^|\s)isActive(?!\S)/g,""))}catch(i){MAPEDITOR.TRACER.addTracer('[ERROR]: "'+i+'" (Could not find classname)')}else MAPEDITOR.GLOBAL.DEFINES.prevActionActive!=null&&(document.getElementById("content_menubar_manage"+MAPEDITOR.GLOBAL.DEFINES.prevActionActive).className=document.getElementById("content_menubar_manage"+MAPEDITOR.GLOBAL.DEFINES.prevActionActive).className.replace(/(?:^|\s)isActive2(?!\S)/g,""),document.getElementById("content_toolbar_button_manage"+MAPEDITOR.GLOBAL.DEFINES.prevActionActive).className=document.getElementById("content_toolbar_button_manage"+MAPEDITOR.GLOBAL.DEFINES.prevActionActive).className.replace(/(?:^|\s)isActive(?!\S)/g,""),document.getElementById("content_toolbox_button_manage"+MAPEDITOR.GLOBAL.DEFINES.prevActionActive)&&(MAPEDITOR.TRACER.addTracer("[INFO]: found "+MAPEDITOR.GLOBAL.DEFINES.prevActionActive),document.getElementById("content_toolbox_button_manage"+MAPEDITOR.GLOBAL.DEFINES.prevActionActive).className=document.getElementById("content_toolbox_button_manage"+MAPEDITOR.GLOBAL.DEFINES.prevActionActive).className.replace(/(?:^|\s)isActive(?!\S)/g,""))),document.getElementById("content_menubar_manage"+MAPEDITOR.GLOBAL.DEFINES.actionActive).className+=" isActive2",document.getElementById("content_toolbar_button_manage"+MAPEDITOR.GLOBAL.DEFINES.actionActive).className+=" isActive",document.getElementById("content_toolbox_button_manage"+MAPEDITOR.GLOBAL.DEFINES.actionActive)&&(MAPEDITOR.TRACER.addTracer("[INFO]: found "+MAPEDITOR.GLOBAL.DEFINES.actionActive),document.getElementById("content_toolbox_button_manage"+MAPEDITOR.GLOBAL.DEFINES.actionActive).className+=" isActive"),MAPEDITOR.GLOBAL.DEFINES.prevActionActive=MAPEDITOR.GLOBAL.DEFINES.actionActive;break;case"overlayToggle":MAPEDITOR.GLOBAL.DEFINES.buttonActive_overlayToggle==!1?(document.getElementById("content_menubar_overlayToggle").className+=" isActive2",document.getElementById("content_toolbox_button_overlayToggle").className+=" isActive",MAPEDITOR.GLOBAL.DEFINES.buttonActive_overlayToggle=!0):(document.getElementById("content_menubar_overlayToggle").className=document.getElementById("content_menubar_overlayToggle").className.replace(/(?:^|\s)isActive2(?!\S)/g,""),document.getElementById("content_toolbox_button_overlayToggle").className=document.getElementById("content_toolbox_button_overlayToggle").className.replace(/(?:^|\s)isActive(?!\S)/g,""),MAPEDITOR.GLOBAL.DEFINES.buttonActive_overlayToggle=!1);break;case"poiToggle":MAPEDITOR.GLOBAL.DEFINES.buttonActive_poiToggle==!1?(document.getElementById("content_menubar_poiToggle").className+=" isActive2",document.getElementById("content_toolbox_button_poiToggle").className+=" isActive",MAPEDITOR.GLOBAL.DEFINES.buttonActive_poiToggle=!0):(document.getElementById("content_menubar_poiToggle").className=document.getElementById("content_menubar_poiToggle").className.replace(/(?:^|\s)isActive2(?!\S)/g,""),document.getElementById("content_toolbox_button_poiToggle").className=document.getElementById("content_toolbox_button_poiToggle").className.replace(/(?:^|\s)isActive(?!\S)/g,""),MAPEDITOR.GLOBAL.DEFINES.buttonActive_poiToggle=!1)}MAPEDITOR.TRACER.addTracer("[INFO]: buttonAction completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},confirmMessage:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: confirmMessage started...");var i=confirm(n);return MAPEDITOR.TRACER.addTracer("[INFO]: confirmMessage completed..."),i}catch(t){return MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber),!1}},polygonCenter:function(n){var i;try{MAPEDITOR.TRACER.addTracer("[INFO]: polygonCenter started...");var f,o,e,s,r=[],u=[],t=n.getPath();for(i=0;i<t.length;i++)u.push(t.getAt(i).lng()),r.push(t.getAt(i).lat());return r.sort(),u.sort(),f=r[0],o=r[t.length-1],e=u[0],s=u[t.length-1],center_x=f+(o-f)/2,center_y=e+(s-e)/2,MAPEDITOR.TRACER.addTracer("[INFO]: polygonCenter completed..."),new google.maps.LatLng(center_x,center_y)}catch(h){MAPEDITOR.TRACER.addTracer("[ERROR]: "+h+" at line "+h.lineNumber)}},rotate:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: rotate started...");MAPEDITOR.GLOBAL.DEFINES.currentlyEditing=="yes"&&(MAPEDITOR.GLOBAL.DEFINES.currentlyEditing="yes",MAPEDITOR.GLOBAL.DEFINES.degree=MAPEDITOR.GLOBAL.DEFINES.preservedRotation,MAPEDITOR.GLOBAL.DEFINES.degree+=n,n!=0?$(function(){$("#overlay"+MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex).rotate(MAPEDITOR.GLOBAL.DEFINES.degree)}):$(function(){MAPEDITOR.GLOBAL.DEFINES.degree=0;$("#overlay"+MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex).rotate(MAPEDITOR.GLOBAL.DEFINES.degree)}),MAPEDITOR.GLOBAL.DEFINES.preservedRotation=MAPEDITOR.GLOBAL.DEFINES.degree);MAPEDITOR.GLOBAL.DEFINES.degree>180?$(".knob").val((MAPEDITOR.GLOBAL.DEFINES.degree-360)*1).trigger("change"):$(".knob").val(MAPEDITOR.GLOBAL.DEFINES.degree).trigger("change");MAPEDITOR.TRACER.addTracer("[INFO]: rotate completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},keepRotate:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: keepRotate started...");MAPEDITOR.TRACER.addTracer("[INFO]: keepRotate: "+n+" woi: "+MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex);MAPEDITOR.GLOBAL.DEFINES.currentlyEditing="yes";$("#overlay"+MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex).rotate(n);n<0?$(".knob").val(180+n+180).trigger("change"):$(".knob").val(n).trigger("change");MAPEDITOR.TRACER.addTracer("[INFO]: keepRotate completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},opacity:function(n){try{if(MAPEDITOR.TRACER.addTracer("[INFO]: opacity started..."),MAPEDITOR.GLOBAL.DEFINES.preservedOpacity<=1&&MAPEDITOR.GLOBAL.DEFINES.preservedOpacity>=0){MAPEDITOR.TRACER.addTracer("[INFO]: add opacity: "+n+" to overlay"+MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex);var r=document.getElementById("overlay"+MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex),t=MAPEDITOR.GLOBAL.DEFINES.preservedOpacity+n;t>1&&(t=1);t<0&&(t=0);r.style.opacity=t;MAPEDITOR.TRACER.addTracer("[INFO]: newOpacity: "+t);MAPEDITOR.GLOBAL.DEFINES.preservedOpacity=t;MAPEDITOR.TRACER.addTracer("[INFO]: MAPEDITOR.GLOBAL.DEFINES.preservedOpacity: "+MAPEDITOR.GLOBAL.DEFINES.preservedOpacity);$("#overlayTransparencySlider").slider({value:MAPEDITOR.GLOBAL.DEFINES.preservedOpacity})}MAPEDITOR.TRACER.addTracer("[INFO]: opacity completed...")}catch(i){MAPEDITOR.TRACER.addTracer("[ERROR]: "+i+" at line "+i.lineNumber)}},keepOpacity:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: keepOpacity started...");MAPEDITOR.TRACER.addTracer("[INFO]: keepOpacity: "+n);try{var i=document.getElementById("overlay"+MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex);i.style.opacity=n}catch(r){}MAPEDITOR.GLOBAL.DEFINES.preservedOpacity=n;MAPEDITOR.TRACER.addTracer("[INFO]: keepOpacity completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},checkZoomLevel:function(){try{MAPEDITOR.TRACER.addTracer("[INFO]: checkZoomLevel started...");var n=map.getZoom(),i=map.getMapTypeId();if(n==MAPEDITOR.GLOBAL.DEFINES.maxZoomLevel)MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L16);else{switch(i){case"roadmap":n==MAPEDITOR.GLOBAL.DEFINES.minZoomLevel_Roadmap&&MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L17);break;case"satellite":n==MAPEDITOR.GLOBAL.DEFINES.minZoomLevel_Satellite&&MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L17);break;case"hybrid":n==MAPEDITOR.GLOBAL.DEFINES.minZoomLevel_Satellite&&MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L17);break;case"terrain":n==MAPEDITOR.GLOBAL.DEFINES.minZoomLevel_Terrain&&MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L17);break;case"blocklot":n==MAPEDITOR.GLOBAL.DEFINES.minZoomLevel_BlockLot&&MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L17)}MAPEDITOR.GLOBAL.DEFINES.isCustomOverlay==!0&&n==MAPEDITOR.GLOBAL.DEFINES.minZoomLevel_BlockLot&&MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L17)}MAPEDITOR.TRACER.addTracer("[INFO]: checkZoomLevel completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},displayCursorCoords:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: displayCursorCoords started...");document.getElementById("cCoord").innerHTML=n;MAPEDITOR.TRACER.addTracer("[INFO]: displayCursorCoords completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},codeLatLng:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: codeLatLng started...");MAPEDITOR.GLOBAL.DEFINES.geocoder&&MAPEDITOR.GLOBAL.DEFINES.geocoder.geocode({latLng:n},function(n,t){t==google.maps.GeocoderStatus.OK&&(n[1]?document.getElementById("content_toolbox_rgItem").value=n[0].formatted_address:(MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L25+" "+t),document.getElementById("content_toolbox_rgItem").value=""))});MAPEDITOR.TRACER.addTracer("[INFO]: codeLatLng completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},codeAddress:function(n,t){try{MAPEDITOR.TRACER.addTracer("[INFO]: codeAddress started...");var r=map.getBounds();MAPEDITOR.GLOBAL.DEFINES.geocoder.geocode({address:t,bounds:r},function(n,i){if(i==google.maps.GeocoderStatus.OK)if(map.setCenter(n[0].geometry.location),MAPEDITOR.UTILITIES.testBounds(),MAPEDITOR.GLOBAL.DEFINES.mapInBounds=="yes"){MAPEDITOR.GLOBAL.DEFINES.searchCount>0?MAPEDITOR.GLOBAL.DEFINES.searchResult.setMap(null):MAPEDITOR.GLOBAL.DEFINES.searchCount++;MAPEDITOR.GLOBAL.DEFINES.searchResult=new google.maps.Marker({map:map,position:n[0].geometry.location});document.getElementById("searchResults_list").innerHTML=MAPEDITOR.UTILITIES.writeHTML("searchResultListItem",1,t,"","")}else MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L24);else alert(MAPEDITOR.LOCALIZATION.DEFINES.L6),MAPEDITOR.TRACER.addTracer(MAPEDITOR.LOCALIZATION.DEFINES.L6)});MAPEDITOR.TRACER.addTracer("[INFO]: codeAddress completed...")}catch(i){MAPEDITOR.TRACER.addTracer("[ERROR]: "+i+" at line "+i.lineNumber)}},finder:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: Finder started...");n.length>0?(MAPEDITOR.UTILITIES.codeAddress("lookup",n),document.getElementById("content_menubar_searchField").value=n,document.getElementById("content_toolbar_searchField").value=n,document.getElementById("content_toolbox_searchField").value=n,MAPEDITOR.ACTIONS.action("other"),MAPEDITOR.TRACER.addTracer("[INFO]: opening"),MAPEDITOR.ACTIONS.openToolboxTab(1),MAPEDITOR.TRACER.addTracer("[INFO]: supposedly opened")):MAPEDITOR.TRACER.addTracer("[INFO]: no stuff");MAPEDITOR.TRACER.addTracer("[INFO]: Finder completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},testBounds:function(){try{MAPEDITOR.TRACER.addTracer("[INFO]: testBounds started...");MAPEDITOR.GLOBAL.DEFINES.strictBounds!=""?MAPEDITOR.GLOBAL.DEFINES.strictBounds.contains(map.getCenter())?MAPEDITOR.GLOBAL.DEFINES.mapInBounds="yes":(MAPEDITOR.GLOBAL.DEFINES.mapInBounds="no",map.panTo(MAPEDITOR.GLOBAL.DEFINES.mapCenter),MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L5)):MAPEDITOR.GLOBAL.DEFINES.mapInBounds="yes";MAPEDITOR.TRACER.addTracer("[INFO]: testBounds completed...")}catch(n){MAPEDITOR.TRACER.addTracer("[ERROR]: "+n+" at line "+n.lineNumber)}},createOverlayFromPage:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: createOverlayFromPage started...");MAPEDITOR.TRACER.addTracer("[INFO]: previous MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex: "+MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex);MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex=n-1;MAPEDITOR.UTILITIES.displayMessage(MAPEDITOR.LOCALIZATION.DEFINES.L41);MAPEDITOR.GLOBAL.DEFINES.drawingManager.setOptions({drawingControl:!1,drawingControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP,drawingModes:[google.maps.drawing.OverlayType.RECTANGLE]},rectangleOptions:MAPEDITOR.GLOBAL.DEFINES.rectangleOptionsOverlay});MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(google.maps.drawing.OverlayType.RECTANGLE);MAPEDITOR.GLOBAL.DEFINES.drawingManager.setMap(map);MAPEDITOR.GLOBAL.DEFINES.pageMode="edit";MAPEDITOR.GLOBAL.DEFINES.placerType="overlay";MAPEDITOR.GLOBAL.DEFINES.overlayType="drawn";MAPEDITOR.GLOBAL.DEFINES.incomingPolygonFeatureType[MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex]="TEMP_main";MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPolygonType[MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex]="TEMP_rectangle";MAPEDITOR.GLOBAL.DEFINES.incomingPolygonRotation[MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex]=0;MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex=MAPEDITOR.GLOBAL.DEFINES.convertedOverlayIndex+1;MAPEDITOR.GLOBAL.DEFINES.overlaysCurrentlyDisplayed=!0;MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0;MAPEDITOR.TRACER.addTracer("[INFO]: createOverlayFromPage completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},actionsACL:function(n,t){try{MAPEDITOR.TRACER.addTracer("[INFO]: ActionsACL started...");switch(t){case"actions":$("#content_menubar_manageOverlay").hide();$("#content_toolbar_button_manageOverlay").hide();$("#content_toolbox_button_manageOverlay").hide();$("#content_toolbox_tab4_header").hide();$("#overlayACL").hide();$("#content_menubar_manageItem").hide();$("#content_toolbar_button_manageItem").hide();$("#content_toolbox_button_manageItem").hide();$("#content_toolbox_tab3_header").hide();$("#itemACL").hide();break;case"item":switch(n){case"full":$("#content_menubar_manageOverlay").hide();$("#content_toolbar_button_manageOverlay").hide();$("#content_toolbox_button_manageOverlay").hide();$("#content_toolbox_tab4_header").hide();$("#overlayACL").hide();break;case"none":$("#content_menubar_manageOverlay").show();$("#content_toolbar_button_manageOverlay").show();$("#content_toolbox_button_manageOverlay").show();$("#content_toolbox_tab4_header").show();$("#overlayACL").show()}break;case"overlay":switch(n){case"full":$("#content_menubar_manageItem").hide();$("#content_toolbar_button_manageItem").hide();$("#content_toolbox_button_manageItem").hide();$("#content_toolbox_tab3_header").hide();$("#itemACL").hide();break;case"none":$("#content_menubar_manageItem").show();$("#content_toolbar_button_manageItem").show();$("#content_toolbox_button_manageItem").show();$("#content_toolbox_tab3_header").show();$("#itemACL").show()}break;case"customMapType":switch(n){case"full":$("#content_menubar_layerCustom").show();$("#content_toolbar_button_layerCustom").show();break;case"none":$("#content_menubar_layerCustom").hide();$("#content_toolbar_button_layerCustom").hide()}}MAPEDITOR.TRACER.addTracer("[INFO]: actionsACL completed...")}catch(i){MAPEDITOR.TRACER.addTracer("[ERROR]: "+i+" at line "+i.lineNumber)}},writeHTML:function(n,t,i,r){try{MAPEDITOR.TRACER.addTracer("[INFO]: writeHTML started...");var u="";switch(n){case"poiListItem":MAPEDITOR.TRACER.addTracer("[INFO]: Creating html String");MAPEDITOR.GLOBAL.DEFINES.poiDesc[t]="New"+r+i;u='<div id="poi'+t+'" class="poiListItem" title="'+MAPEDITOR.GLOBAL.DEFINES.poiDesc[t]+' ">'+MAPEDITOR.GLOBAL.DEFINES.poiDesc[t]+' <div class="poiActionButton"><a title="'+MAPEDITOR.LOCALIZATION.DEFINES.L66+'" href="#" onclick="MAPEDITOR.ACTIONS.poiEditMe('+t+');"><img src="'+MAPEDITOR.GLOBAL.DEFINES.baseURL+MAPEDITOR.GLOBAL.DEFINES.baseImageDirURL+'edit.png"/><\/a> <a title="'+MAPEDITOR.LOCALIZATION.DEFINES.L61+'" id="poiToggle'+t+'" href="#"><img src="'+MAPEDITOR.GLOBAL.DEFINES.baseURL+MAPEDITOR.GLOBAL.DEFINES.baseImageDirURL+'sub.png" onclick="MAPEDITOR.ACTIONS.poiHideMe('+t+');" /><\/a> <a title="'+MAPEDITOR.LOCALIZATION.DEFINES.L63+'" href="#" onclick="MAPEDITOR.ACTIONS.poiDeleteMe('+t+');"><img src="'+MAPEDITOR.GLOBAL.DEFINES.baseURL+MAPEDITOR.GLOBAL.DEFINES.baseImageDirURL+'delete.png"/><\/a><\/div><\/div>';break;case"poiListItemIncoming":MAPEDITOR.TRACER.addTracer("[INFO]: Creating html String");MAPEDITOR.GLOBAL.DEFINES.poiDesc[t]=r;u='<div id="poi'+t+'" class="poiListItem" title="'+r+' ">'+r+' <div class="poiActionButton"><a title="'+MAPEDITOR.LOCALIZATION.DEFINES.L66+'" href="#" onclick="MAPEDITOR.ACTIONS.poiEditMe('+t+');"><img src="'+MAPEDITOR.GLOBAL.DEFINES.baseURL+MAPEDITOR.GLOBAL.DEFINES.baseImageDirURL+'edit.png"/><\/a> <a title="'+MAPEDITOR.LOCALIZATION.DEFINES.L61+'" id="poiToggle'+t+'" href="#"><img src="'+MAPEDITOR.GLOBAL.DEFINES.baseURL+MAPEDITOR.GLOBAL.DEFINES.baseImageDirURL+'sub.png" onclick="MAPEDITOR.ACTIONS.poiHideMe('+t+');" /><\/a> <a title="'+MAPEDITOR.LOCALIZATION.DEFINES.L63+'" href="#" onclick="MAPEDITOR.ACTIONS.poiDeleteMe('+t+');"><img src="'+MAPEDITOR.GLOBAL.DEFINES.baseURL+MAPEDITOR.GLOBAL.DEFINES.baseImageDirURL+'delete.png"/><\/a><\/div><\/div>';break;case"poiDesc":MAPEDITOR.TRACER.addTracer("[INFO]: Creating html String");u='<div class="poiDescContainer"> <textarea id="poiDesc'+t+'" class="descPOI" placeholder="'+MAPEDITOR.LOCALIZATION.DEFINES.L3+'" onblur="MAPEDITOR.ACTIONS.poiGetDesc('+t+');"><\/textarea> <br/> <div class="buttonPOIDesc" id="poiGetDesc" onClick="MAPEDITOR.ACTIONS.poiGetDesc('+t+');" >'+MAPEDITOR.LOCALIZATION.DEFINES.L71+"<\/div> <\/div>";break;case"poiDescIncoming":MAPEDITOR.TRACER.addTracer("[INFO]: Creating html String");u='<div class="poiDescContainer"> <textarea id="poiDesc'+t+'" class="descPOI" onblur="MAPEDITOR.ACTIONS.poiGetDesc('+t+');">'+i+'<\/textarea> <br/> <div class="buttonPOIDesc" id="poiGetDesc" onClick="MAPEDITOR.ACTIONS.poiGetDesc('+t+');" >'+MAPEDITOR.LOCALIZATION.DEFINES.L71+"<\/div> <\/div>";break;case"overlayListItem":MAPEDITOR.TRACER.addTracer("[INFO]: Creating html String");u='<div id="overlayListItem'+t+'" class="overlayListItem" > <div id="overlayListItemText'+t+'" class="overlayListItemText" title="'+i+'" onmouseover="MAPEDITOR.UTILITIES.addOverlayListItemThumbnailTooltip('+t+');" >'+i.substring(0,20)+'<\/div> <div class="overlayActionButton"><a title="'+MAPEDITOR.LOCALIZATION.DEFINES.L60+'" href="#"><img src="'+MAPEDITOR.GLOBAL.DEFINES.baseURL+MAPEDITOR.GLOBAL.DEFINES.baseImageDirURL+'edit.png" onclick="MAPEDITOR.ACTIONS.overlayEditMe('+t+');"/><\/a> <a id="overlayToggle'+t+'" href="#" title="'+MAPEDITOR.LOCALIZATION.DEFINES.L61+'" ><img src="'+MAPEDITOR.GLOBAL.DEFINES.baseURL+MAPEDITOR.GLOBAL.DEFINES.baseImageDirURL+'sub.png" onclick="MAPEDITOR.ACTIONS.overlayHideMe('+t+');" /><\/a> <a title="'+MAPEDITOR.LOCALIZATION.DEFINES.L64+'" href="#" ><img src="'+MAPEDITOR.GLOBAL.DEFINES.baseURL+MAPEDITOR.GLOBAL.DEFINES.baseImageDirURL+'delete.png" onclick="MAPEDITOR.ACTIONS.overlayDeleteMe('+t+');"/><\/a> <\/div><\/div>';break;case"searchResultListItem":MAPEDITOR.TRACER.addTracer("[INFO]: Creating search html String");u='<div id="searchResultListItem'+t+'" class="searchResultListItem" title="'+i+'"> '+i.substring(0,20)+' <div class="searchResultActionButton"><a title="'+MAPEDITOR.LOCALIZATION.DEFINES.L61+'" id="searchResultToggle'+t+'" href="#"><img src="'+MAPEDITOR.GLOBAL.DEFINES.baseURL+MAPEDITOR.GLOBAL.DEFINES.baseImageDirURL+'sub.png" onclick="MAPEDITOR.ACTIONS.searchResultHideMe('+t+');" /><\/a> <a title="'+MAPEDITOR.LOCALIZATION.DEFINES.L62+'" href="#" onclick="MAPEDITOR.ACTIONS.searchResultDeleteMe('+t+');"><img src="'+MAPEDITOR.GLOBAL.DEFINES.baseURL+MAPEDITOR.GLOBAL.DEFINES.baseImageDirURL+'delete.png"/><\/a><\/div><\/div>'}return MAPEDITOR.TRACER.addTracer("[INFO]: writeHTML completed..."),u}catch(f){MAPEDITOR.TRACER.addTracer("[ERROR]: "+f+" at line "+f.lineNumber)}},resizeView:function(){var n,r,f,e,u,t;try{MAPEDITOR.TRACER.addTracer("[INFO]: resizeView started...");var o=document.documentElement.clientHeight,s=$("#mapedit_container").offset().top,i=document.documentElement.clientWidth;if(document.getElementById("mapedit_container_pane_0").style.width=i+"px",s=MAPEDITOR.GLOBAL.DEFINES.pageLoadTime<(new Date).getTime()?$("#mapedit_container").offset().top:$("#mapedit_container").offset().top+28,n=[],n[0]="content_toolbar_button_reset",n[1]="content_toolbar_button_toggleMapControls",n[2]="content_toolbar_button_toggleToolbox",n[3]="content_toolbar_button_layerRoadmap",n[4]="content_toolbar_button_layerTerrain",n[5]="content_toolbar_button_layerSatellite",n[6]="content_toolbar_button_layerHybrid",n[7]="content_toolbar_button_layerCustom",n[8]="content_toolbar_button_layerReset",n[9]="content_toolbar_button_panUp",n[10]="content_toolbar_button_panLeft",n[11]="content_toolbar_button_panReset",n[12]="content_toolbar_button_panRight",n[13]="content_toolbar_button_panDown",n[14]="content_toolbar_button_zoomIn",n[15]="content_toolbar_button_zoomReset",n[16]="content_toolbar_button_zoomOut",n[17]="content_toolbar_button_manageItem",n[18]="content_toolbar_button_manageOverlay",n[19]="content_toolbar_button_managePOI",n[20]="content_toolbar_button_search",i<1100,i<1100){for(r=n.length*45,r=i-r-60,r=Math.round(r/45),f=r,MAPEDITOR.TRACER.addTracer("[INFO]: non vis button count: "+f),e=n.length-f,MAPEDITOR.TRACER.addTracer("[INFO]: vis button count: "+e),u=0;u<e;u++);for(u=e;u<f;u++);}i<=800&&MAPEDITOR.TRACER.addTracer("[INFO]: tablet viewing width detected...");i<=250&&MAPEDITOR.TRACER.addTracer("[INFO]: phone viewing width detected...");t=o-s;document.getElementById("mapedit_container").style.height=t+"px";var c=t*.05,l=t*.05,a=t*.9,v=Math.round(t/o*100);MAPEDITOR.TRACER.addTracer("[INFO]: percentage of height: "+v);MAPEDITOR.TRACER.addTracer("[INFO]: sizes:<br>height: "+o+" header: "+s+" body: "+t+" pane0: "+c+" pane1: "+l+" pane2: "+a);MAPEDITOR.TRACER.addTracer("[INFO]: resizeView completed...")}catch(h){MAPEDITOR.TRACER.addTracer("[ERROR]: "+h+" at line "+h.lineNumber)}},clearCacheSaveOverlay:function(){try{MAPEDITOR.TRACER.addTracer("[INFO]: clearCacheSaveOverlay started...");MAPEDITOR.TRACER.addTracer("[INFO]: attempting to clear save overlay cache");MAPEDITOR.GLOBAL.DEFINES.savingOverlayIndex.length>0?(MAPEDITOR.TRACER.addTracer("[INFO]: reseting cache data"),MAPEDITOR.GLOBAL.DEFINES.savingOverlayIndex=[],MAPEDITOR.GLOBAL.DEFINES.savingOverlayPageId=[],MAPEDITOR.GLOBAL.DEFINES.savingOverlayLabel=[],MAPEDITOR.GLOBAL.DEFINES.savingOverlaySourceURL=[],MAPEDITOR.GLOBAL.DEFINES.savingOverlayBounds=[],MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation=[],MAPEDITOR.TRACER.addTracer("[INFO]: reseting cache save overlay index"),MAPEDITOR.GLOBAL.DEFINES.csoi=0,MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!1,MAPEDITOR.TRACER.addTracer("[INFO]: reseting working index"),MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex=null,MAPEDITOR.TRACER.addTracer("[INFO]: reseting preserved rotation"),MAPEDITOR.GLOBAL.DEFINES.preservedRotation=0,MAPEDITOR.TRACER.addTracer("[INFO]: cache reset")):MAPEDITOR.TRACER.addTracer("[INFO]: nothing in cache");MAPEDITOR.TRACER.addTracer("[INFO]: clearCacheSaveOverlay completed...")}catch(n){MAPEDITOR.TRACER.addTracer("[ERROR]: "+n+" at line "+n.lineNumber)}},clearOverlaysOnMap:function(){try{MAPEDITOR.TRACER.addTracer("[INFO]: clearOverlaysOnMap started...");MAPEDITOR.TRACER.addTracer("[INFO]: attempting to clear ooms");MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap.length>0?(MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap=[],MAPEDITOR.TRACER.addTracer("[INFO]: ooms reset")):MAPEDITOR.TRACER.addTracer("[INFO]: no overlays on the map");MAPEDITOR.TRACER.addTracer("[INFO]: clearOverlaysOnMap completed...")}catch(n){MAPEDITOR.TRACER.addTracer("[ERROR]: "+n+" at line "+n.lineNumber)}},resetHiddenOverlays:function(){var t,i,n;try{for(MAPEDITOR.TRACER.addTracer("[INFO]: resetHiddenOverlays started..."),MAPEDITOR.TRACER.addTracer("[INFO]: total oom count: "+MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap.length),t=1;t<MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap.length;t++){MAPEDITOR.TRACER.addTracer("[INFO]: oom ID:"+t);i=!1;try{MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[t].image_&&(i=!0)}catch(u){MAPEDITOR.TRACER.addTracer("[WARN]: No image for oom ID"+t)}if(i)for(n=0;n<MAPEDITOR.GLOBAL.DEFINES.incomingPolygonSourceURL.length;n++){MAPEDITOR.TRACER.addTracer("[INFO]: incoming ID:"+n);try{MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[t].image_==MAPEDITOR.GLOBAL.DEFINES.incomingPolygonSourceURL[n]&&MAPEDITOR.GLOBAL.DEFINES.incomingPolygonFeatureType[n]=="TEMP_main"&&(MAPEDITOR.GLOBAL.DEFINES.incomingPolygonFeatureType[n]="hidden",MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPolygonType[n]="hidden",MAPEDITOR.TRACER.addTracer("[INFO]: Set Incoming To 'Hidden'"))}catch(u){MAPEDITOR.TRACER.addTracer("[ERROR]: Not found.")}}}MAPEDITOR.TRACER.addTracer("[INFO]: resetHiddenOverlays completed...")}catch(r){MAPEDITOR.TRACER.addTracer("[ERROR]: "+r+" at line "+r.lineNumber)}},latLngToPixel:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: latLngToPixel started...");var u=map.getProjection().fromLatLngToPoint(map.getBounds().getNorthEast()),f=map.getProjection().fromLatLngToPoint(map.getBounds().getSouthWest()),t=Math.pow(2,map.getZoom()),i=map.getProjection().fromLatLngToPoint(n);return MAPEDITOR.TRACER.addTracer("[INFO]: latLngToPixel completed..."),new google.maps.Point((i.x-f.x)*t,(i.y-u.y)*t)}catch(r){MAPEDITOR.TRACER.addTracer("[ERROR]: "+r+" at line "+r.lineNumber)}},checkKeyCode:function(){var t,n;try{for(MAPEDITOR.TRACER.addTracer("[INFO]: checkKeyCode started..."),t=0,n=0;n<MAPEDITOR.GLOBAL.DEFINES.listOfTextAreaIds.length;n++)document.activeElement.id.indexOf(MAPEDITOR.GLOBAL.DEFINES.listOfTextAreaIds[n])!=-1&&t++;MAPEDITOR.GLOBAL.DEFINES.typingInTextArea=t>0?!0:!1;MAPEDITOR.TRACER.addTracer("[INFO]: checkKeyCode completed...")}catch(i){MAPEDITOR.TRACER.addTracer("[ERROR]: "+i+" at line "+i.lineNumber)}},clearIncomingOverlays:function(){try{MAPEDITOR.TRACER.addTracer("[INFO]: clearIncomingOverlays started...");for(var n=0;n<MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId.length;n++)MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[n]]!=null&&(MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[n]].setMap(null),MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[n]]=null,MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[n]].setMap(null),MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[n]]=null);MAPEDITOR.GLOBAL.DEFINES.preservedOpacity=MAPEDITOR.GLOBAL.DEFINES.defaultOpacity;MAPEDITOR.TRACER.addTracer("[INFO]: clearIncomingOverlays completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},setGhostOverlay:function(n,t){try{MAPEDITOR.TRACER.addTracer("[INFO]: setGhostOverlay started...");MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[n]=new google.maps.Rectangle;MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[n].setOptions(MAPEDITOR.GLOBAL.DEFINES.ghosting);MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[n].setBounds(t);MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[n].setMap(map);google.maps.event.addListener(MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[n],"click",function(){MAPEDITOR.GLOBAL.DEFINES.pageMode=="edit"&&(MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0,MAPEDITOR.ACTIONS.openToolboxTab("overlay"),MAPEDITOR.GLOBAL.DEFINES.currentlyEditing=="yes"&&(MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex==null?MAPEDITOR.GLOBAL.DEFINES.currentlyEditing="no":(MAPEDITOR.UTILITIES.cacheSaveOverlay(MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex),MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].setOptions(MAPEDITOR.GLOBAL.DEFINES.ghosting),MAPEDITOR.GLOBAL.DEFINES.currentlyEditing="no",MAPEDITOR.GLOBAL.DEFINES.preservedRotation=0)),MAPEDITOR.GLOBAL.DEFINES.currentlyEditing=="no"&&($("#toolbox").show(),MAPEDITOR.GLOBAL.DEFINES.toolboxDisplayed=!0,$("#toolboxTabs").accordion({active:3}),MAPEDITOR.GLOBAL.DEFINES.currentlyEditing="yes",MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex=n,MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[n].setOptions(MAPEDITOR.GLOBAL.DEFINES.editable),MAPEDITOR.GLOBAL.DEFINES.currentTopZIndex++,document.getElementById("overlay"+n).style.zIndex=MAPEDITOR.GLOBAL.DEFINES.currentTopZIndex,MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[n].setOptions({zIndex:MAPEDITOR.GLOBAL.DEFINES.currentTopZIndex}),MAPEDITOR.GLOBAL.DEFINES.preservedRotation!=MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation[n-1]&&(MAPEDITOR.GLOBAL.DEFINES.preservedRotation=MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation[n-1])))});google.maps.event.addListener(MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[n],"bounds_changed",function(){MAPEDITOR.TRACER.addTracer("[INFO]: ghost index: "+n);MAPEDITOR.GLOBAL.DEFINES.pageMode=="edit"&&(MAPEDITOR.GLOBAL.DEFINES.userMayLoseData=!0,MAPEDITOR.ACTIONS.openToolboxTab("overlay"),MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[n].setMap(null),MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[n]=null,MAPEDITOR.TRACER.addTracer(MAPEDITOR.GLOBAL.DEFINES.preservedRotation),MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[n]=new MAPEDITOR.UTILITIES.CustomOverlay(n,MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[n].getBounds(),MAPEDITOR.GLOBAL.DEFINES.incomingPolygonSourceURL[n-1],map,MAPEDITOR.GLOBAL.DEFINES.preservedRotation),MAPEDITOR.GLOBAL.DEFINES.overlaysOnMap[n].setMap(map),MAPEDITOR.GLOBAL.DEFINES.currentlyEditing="yes",MAPEDITOR.UTILITIES.cacheSaveOverlay(MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex))});google.maps.event.addListener(MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[n],"rightclick",function(){MAPEDITOR.GLOBAL.DEFINES.drawingManager.setDrawingMode(null)});MAPEDITOR.TRACER.addTracer("[INFO]: setGhostOverlay completed...")}catch(i){MAPEDITOR.TRACER.addTracer("[ERROR]: "+i+" at line "+i.lineNumber)}},cacheSaveOverlay:function(n){try{MAPEDITOR.TRACER.addTracer("[INFO]: cacheSaveOverlay started...");MAPEDITOR.TRACER.addTracer("[INFO]: caching save overlay <hr/>");MAPEDITOR.TRACER.addTracer("[INFO]: incoming index: "+n);MAPEDITOR.TRACER.addTracer("[INFO]: current save overlay index: "+MAPEDITOR.GLOBAL.DEFINES.csoi);MAPEDITOR.TRACER.addTracer("[INFO]: current working overlay index: "+MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex);MAPEDITOR.GLOBAL.DEFINES.csoi=n-1;MAPEDITOR.GLOBAL.DEFINES.firstSaveOverlay=!0;MAPEDITOR.GLOBAL.DEFINES.savingOverlayIndex[MAPEDITOR.GLOBAL.DEFINES.csoi]=MAPEDITOR.GLOBAL.DEFINES.csoi;MAPEDITOR.TRACER.addTracer("[INFO]: MAPEDITOR.GLOBAL.DEFINES.savingOverlayIndex[MAPEDITOR.GLOBAL.DEFINES.csoi]: "+MAPEDITOR.GLOBAL.DEFINES.savingOverlayIndex[MAPEDITOR.GLOBAL.DEFINES.csoi]);MAPEDITOR.TRACER.addTracer("[INFO]: MAPEDITOR.GLOBAL.DEFINES.csoi: "+MAPEDITOR.GLOBAL.DEFINES.csoi);MAPEDITOR.GLOBAL.DEFINES.savingOverlayLabel[MAPEDITOR.GLOBAL.DEFINES.csoi]=MAPEDITOR.GLOBAL.DEFINES.incomingPolygonLabel[MAPEDITOR.GLOBAL.DEFINES.csoi];MAPEDITOR.TRACER.addTracer("[INFO]: MAPEDITOR.GLOBAL.DEFINES.savingOverlayLabel[MAPEDITOR.GLOBAL.DEFINES.csoi]: "+MAPEDITOR.GLOBAL.DEFINES.savingOverlayLabel[MAPEDITOR.GLOBAL.DEFINES.csoi]);MAPEDITOR.TRACER.addTracer("[INFO]: MAPEDITOR.GLOBAL.DEFINES.incomingPolygonLabel[MAPEDITOR.GLOBAL.DEFINES.csoi]: "+MAPEDITOR.GLOBAL.DEFINES.incomingPolygonLabel[MAPEDITOR.GLOBAL.DEFINES.csoi]);MAPEDITOR.GLOBAL.DEFINES.savingOverlaySourceURL[MAPEDITOR.GLOBAL.DEFINES.csoi]=MAPEDITOR.GLOBAL.DEFINES.incomingPolygonSourceURL[MAPEDITOR.GLOBAL.DEFINES.csoi];MAPEDITOR.TRACER.addTracer("[INFO]: MAPEDITOR.GLOBAL.DEFINES.savingOverlaySourceURL[MAPEDITOR.GLOBAL.DEFINES.csoi]: "+MAPEDITOR.GLOBAL.DEFINES.incomingPolygonSourceURL[MAPEDITOR.GLOBAL.DEFINES.csoi]);MAPEDITOR.GLOBAL.DEFINES.savingOverlayBounds[MAPEDITOR.GLOBAL.DEFINES.csoi]=MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].getBounds();MAPEDITOR.TRACER.addTracer("[INFO]: MAPEDITOR.GLOBAL.DEFINES.savingOverlayBounds[MAPEDITOR.GLOBAL.DEFINES.csoi]: "+MAPEDITOR.GLOBAL.DEFINES.ghostOverlayRectangle[MAPEDITOR.GLOBAL.DEFINES.workingOverlayIndex].getBounds());MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation[MAPEDITOR.GLOBAL.DEFINES.csoi]!=MAPEDITOR.GLOBAL.DEFINES.incomingPolygonRotation[MAPEDITOR.GLOBAL.DEFINES.csoi]&&(MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation[MAPEDITOR.GLOBAL.DEFINES.csoi]=MAPEDITOR.GLOBAL.DEFINES.preservedRotation);MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation[MAPEDITOR.GLOBAL.DEFINES.csoi]=MAPEDITOR.GLOBAL.DEFINES.preservedRotation;MAPEDITOR.TRACER.addTracer("[INFO]: MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation[MAPEDITOR.GLOBAL.DEFINES.csoi]: "+MAPEDITOR.GLOBAL.DEFINES.savingOverlayRotation[MAPEDITOR.GLOBAL.DEFINES.csoi]);MAPEDITOR.GLOBAL.DEFINES.savingOverlayPageId[MAPEDITOR.GLOBAL.DEFINES.csoi]=MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[MAPEDITOR.GLOBAL.DEFINES.csoi];MAPEDITOR.TRACER.addTracer("[INFO]: MAPEDITOR.GLOBAL.DEFINES.savingOverlayPageId[MAPEDITOR.GLOBAL.DEFINES.csoi]: "+MAPEDITOR.GLOBAL.DEFINES.incomingPolygonPageId[MAPEDITOR.GLOBAL.DEFINES.csoi]);MAPEDITOR.TRACER.addTracer("[INFO]: save overlay cached");MAPEDITOR.TRACER.addTracer("[INFO]: cacheSaveOverlay completed...")}catch(t){MAPEDITOR.TRACER.addTracer("[ERROR]: "+t+" at line "+t.lineNumber)}},CustomOverlay:function(n,t,i,r,u){try{MAPEDITOR.TRACER.addTracer("[INFO]: CustomOverlay started...");MAPEDITOR.GLOBAL.DEFINES.overlayCount++;this.bounds_=t;this.image_=i;this.map_=r;MAPEDITOR.GLOBAL.DEFINES.preservedRotation=u;this.div_=null;this.index_=n;MAPEDITOR.TRACER.addTracer("[INFO]: CustomOverlay completed...")}catch(f){MAPEDITOR.TRACER.addTracer("[ERROR]: "+f+" at line "+f.lineNumber)}}}}(),run:function(){try{MAPEDITOR.TRACER.addTracer("[INFO]: MapEditor.run started...");MAPEDITOR.UTILITIES.CustomOverlay.prototype=new google.maps.OverlayView;MAPEDITOR.GLOBAL.initJqueryElements();MAPEDITOR.GLOBAL.initDeclarations();MAPEDITOR.GLOBAL.initListOfTextAreaIds();MAPEDITOR.GLOBAL.initLocalization();MAPEDITOR.GLOBAL.initListeners();initConfigSettings();MAPEDITOR.GLOBAL.initGMap();window.onkeypress=MAPEDITOR.ACTIONS.keyPress;MAPEDITOR.TRACER.addTracer("[INFO]: MapEditor.run completed...")}catch(n){MAPEDITOR.TRACER.addTracer("[ERROR]: MapEditor.run failed...")}}}}();MAPEDITOR.run()}var MAPEDITOR